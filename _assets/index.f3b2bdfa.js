function t(t,e){const n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl"),n=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(t){if(I(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=r(A(i)?s(i):i);if(o)for(const t in o)e[t]=o[t]}return e}if(N(t))return t}const i=/;(?![^(]*\))/g,o=/:(.+)/;function s(t){const e={};return t.split(i).forEach((t=>{if(t){const n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function a(t){let e="";if(A(t))e=t;else if(I(t))for(let n=0;n<t.length;n++)e+=a(t[n])+" ";else if(N(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const u=t=>null==t?"":N(t)?JSON.stringify(t,c,2):String(t),c=(t,e)=>E(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:T(e)?{[`Set(${e.size})`]:[...e.values()]}:!N(e)||I(e)||R(e)?e:String(e),h={},l=[],f=()=>{},p=()=>!1,d=/^on[^a-z]/,v=t=>d.test(t),y=t=>t.startsWith("onUpdate:"),g=Object.assign,m=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},b=Object.prototype.hasOwnProperty,w=(t,e)=>b.call(t,e),I=Array.isArray,E=t=>"[object Map]"===D(t),T=t=>"[object Set]"===D(t),_=t=>"function"==typeof t,A=t=>"string"==typeof t,S=t=>"symbol"==typeof t,N=t=>null!==t&&"object"==typeof t,k=t=>N(t)&&_(t.then)&&_(t.catch),O=Object.prototype.toString,D=t=>O.call(t),R=t=>"[object Object]"===D(t),x=t=>A(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,P=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),C=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},L=/-(\w)/g,M=C((t=>t.replace(L,((t,e)=>e?e.toUpperCase():"")))),U=/\B([A-Z])/g,j=C((t=>t.replace(U,"-$1").toLowerCase())),V=C((t=>t.charAt(0).toUpperCase()+t.slice(1))),F=C((t=>t?`on${V(t)}`:"")),q=(t,e)=>t!==e&&(t==t||e==e),B=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},G=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},z=t=>{const e=parseFloat(t);return isNaN(e)?t:e},H=new WeakMap,K=[];let W;const X=Symbol(""),$=Symbol("");function Y(t,e=h){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!K.includes(n)){Z(n);try{return et.push(tt),tt=!0,K.push(n),W=n,t()}finally{K.pop(),rt(),W=K[K.length-1]}}};return n.id=Q++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function J(t){t.active&&(Z(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let Q=0;function Z(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let tt=!0;const et=[];function nt(){et.push(tt),tt=!1}function rt(){const t=et.pop();tt=void 0===t||t}function it(t,e,n){if(!tt||void 0===W)return;let r=H.get(t);r||H.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(W)||(i.add(W),W.deps.push(i))}function ot(t,e,n,r,i,o){const s=H.get(t);if(!s)return;const a=new Set,u=t=>{t&&t.forEach((t=>{(t!==W||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(u);else if("length"===n&&I(t))s.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(s.get(n)),e){case"add":I(t)?x(n)&&u(s.get("length")):(u(s.get(X)),E(t)&&u(s.get($)));break;case"delete":I(t)||(u(s.get(X)),E(t)&&u(s.get($)));break;case"set":E(t)&&u(s.get(X))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const st=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(S)),at=ft(),ut=ft(!1,!0),ct=ft(!0),ht=ft(!0,!0),lt={};function ft(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?Vt:jt).get(n))return n;const o=I(n);if(o&&w(lt,r))return Reflect.get(lt,r,i);const s=Reflect.get(n,r,i);if(S(r)?st.has(r):"__proto__"===r||"__v_isRef"===r)return s;if(t||it(n,0,r),e)return s;if($t(s)){return!o||!x(r)?s.value:s}return N(s)?t?Bt(s):qt(s):s}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];lt[t]=function(...t){const n=Wt(this);for(let t=0,e=this.length;t<e;t++)it(n,0,t+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Wt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];lt[t]=function(...t){nt();const n=e.apply(this,t);return rt(),n}}));function pt(t=!1){return function(e,n,r,i){const o=e[n];if(!t&&(r=Wt(r),!I(e)&&$t(o)&&!$t(r)))return o.value=r,!0;const s=I(e)&&x(n)?Number(n)<e.length:w(e,n),a=Reflect.set(e,n,r,i);return e===Wt(i)&&(s?q(r,o)&&ot(e,"set",n,r):ot(e,"add",n,r)),a}}const dt={get:at,set:pt(),deleteProperty:function(t,e){const n=w(t,e),r=(t[e],Reflect.deleteProperty(t,e));return r&&n&&ot(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return S(e)&&st.has(e)||it(t,0,e),n},ownKeys:function(t){return it(t,0,I(t)?"length":X),Reflect.ownKeys(t)}},vt={get:ct,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},yt=g({},dt,{get:ut,set:pt(!0)}),gt=(g({},vt,{get:ht}),t=>N(t)?qt(t):t),mt=t=>N(t)?Bt(t):t,bt=t=>t,wt=t=>Reflect.getPrototypeOf(t);function It(t,e,n=!1,r=!1){const i=Wt(t=t.__v_raw),o=Wt(e);e!==o&&!n&&it(i,0,e),!n&&it(i,0,o);const{has:s}=wt(i),a=n?mt:r?bt:gt;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void 0}function Et(t,e=!1){const n=this.__v_raw,r=Wt(n),i=Wt(t);return t!==i&&!e&&it(r,0,t),!e&&it(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function Tt(t,e=!1){return t=t.__v_raw,!e&&it(Wt(t),0,X),Reflect.get(t,"size",t)}function _t(t){t=Wt(t);const e=Wt(this),n=wt(e).has.call(e,t),r=e.add(t);return n||ot(e,"add",t,t),r}function At(t,e){e=Wt(e);const n=Wt(this),{has:r,get:i}=wt(n);let o=r.call(n,t);o||(t=Wt(t),o=r.call(n,t));const s=i.call(n,t),a=n.set(t,e);return o?q(e,s)&&ot(n,"set",t,e):ot(n,"add",t,e),a}function St(t){const e=Wt(this),{has:n,get:r}=wt(e);let i=n.call(e,t);i||(t=Wt(t),i=n.call(e,t));r&&r.call(e,t);const o=e.delete(t);return i&&ot(e,"delete",t,void 0),o}function Nt(){const t=Wt(this),e=0!==t.size,n=t.clear();return e&&ot(t,"clear",void 0,void 0),n}function kt(t,e){return function(n,r){const i=this,o=i.__v_raw,s=Wt(o),a=t?mt:e?bt:gt;return!t&&it(s,0,X),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function Ot(t,e,n){return function(...r){const i=this.__v_raw,o=Wt(i),s=E(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),h=e?mt:n?bt:gt;return!e&&it(o,0,u?$:X),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function Dt(t){return function(...e){return"delete"!==t&&this}}const Rt={get(t){return It(this,t)},get size(){return Tt(this)},has:Et,add:_t,set:At,delete:St,clear:Nt,forEach:kt(!1,!1)},xt={get(t){return It(this,t,!1,!0)},get size(){return Tt(this)},has:Et,add:_t,set:At,delete:St,clear:Nt,forEach:kt(!1,!0)},Pt={get(t){return It(this,t,!0)},get size(){return Tt(this,!0)},has(t){return Et.call(this,t,!0)},add:Dt("add"),set:Dt("set"),delete:Dt("delete"),clear:Dt("clear"),forEach:kt(!0,!1)};function Ct(t,e){const n=e?xt:t?Pt:Rt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(w(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach((t=>{Rt[t]=Ot(t,!1,!1),Pt[t]=Ot(t,!0,!1),xt[t]=Ot(t,!1,!0)}));const Lt={get:Ct(!1,!1)},Mt={get:Ct(!1,!0)},Ut={get:Ct(!0,!1)},jt=new WeakMap,Vt=new WeakMap;function Ft(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>D(t).slice(8,-1))(t))}function qt(t){return t&&t.__v_isReadonly?t:Gt(t,!1,dt,Lt)}function Bt(t){return Gt(t,!0,vt,Ut)}function Gt(t,e,n,r){if(!N(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const i=e?Vt:jt,o=i.get(t);if(o)return o;const s=Ft(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function zt(t){return Ht(t)?zt(t.__v_raw):!(!t||!t.__v_isReactive)}function Ht(t){return!(!t||!t.__v_isReadonly)}function Kt(t){return zt(t)||Ht(t)}function Wt(t){return t&&Wt(t.__v_raw)||t}const Xt=t=>N(t)?qt(t):t;function $t(t){return Boolean(t&&!0===t.__v_isRef)}function Yt(t){return Qt(t)}class Jt{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Xt(t)}get value(){return it(Wt(this),0,"value"),this._value}set value(t){q(Wt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Xt(t),ot(Wt(this),"set","value",t))}}function Qt(t,e=!1){return $t(t)?t:new Jt(t,e)}function Zt(t){return $t(t)?t.value:t}const te={get:(t,e,n)=>Zt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return $t(i)&&!$t(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ee(t){return zt(t)?t:new Proxy(t,te)}class ne{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}class re{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=Y(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ot(Wt(this),"set","value"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),it(Wt(this),0,"value"),this._value}set value(t){this._setter(t)}}function ie(t,e,n,r){let i;try{i=r?t(...r):t()}catch(t){se(t,e,n)}return i}function oe(t,e,n,r){if(_(t)){const i=ie(t,e,n,r);return i&&k(i)&&i.catch((t=>{se(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(oe(t[o],e,n,r));return i}function se(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void ie(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let ae=!1,ue=!1;const ce=[];let he=0;const le=[];let fe=null,pe=0;const de=[];let ve=null,ye=0;const ge=Promise.resolve();let me=null,be=null;function we(t){const e=me||ge;return t?e.then(this?t.bind(this):t):e}function Ie(t){ce.length&&ce.includes(t,ae&&t.allowRecurse?he+1:he)||t===be||(ce.push(t),Ee())}function Ee(){ae||ue||(ue=!0,me=ge.then(Ne))}function Te(t,e,n,r){I(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),Ee()}function _e(t,e=null){if(le.length){for(be=e,fe=[...new Set(le)],le.length=0,pe=0;pe<fe.length;pe++)fe[pe]();fe=null,pe=0,be=null,_e(t,e)}}function Ae(t){if(de.length){const t=[...new Set(de)];if(de.length=0,ve)return void ve.push(...t);for(ve=t,ve.sort(((t,e)=>Se(t)-Se(e))),ye=0;ye<ve.length;ye++)ve[ye]();ve=null,ye=0}}const Se=t=>null==t.id?1/0:t.id;function Ne(t){ue=!1,ae=!0,_e(t),ce.sort(((t,e)=>Se(t)-Se(e)));try{for(he=0;he<ce.length;he++){const t=ce[he];t&&ie(t,null,14)}}finally{he=0,ce.length=0,Ae(),ae=!1,me=null,(ce.length||de.length)&&Ne(t)}}function ke(t,e,...n){const r=t.vnode.props||h;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=r[t]||h;o?i=n.map((t=>t.trim())):e&&(i=n.map(z))}let a=F(M(e)),u=r[a];!u&&o&&(a=F(j(e)),u=r[a]),u&&oe(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else(t.emitted={})[a]=!0;oe(c,t,6,i)}}function Oe(t,e,n=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const r=t.emits;let i={},o=!1;if(!_(t)){const r=t=>{o=!0,g(i,Oe(t,e,!0))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return r||o?(I(r)?r.forEach((t=>i[t]=null)):g(i,r),t.__emits=i):t.__emits=null}function De(t,e){return!(!t||!v(e))&&(e=e.replace(/Once$/,""),w(t,e[2].toLowerCase()+e.slice(3))||w(t,e.slice(2)))}let Re=null;function xe(t){Re=t}function Pe(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:h,renderCache:l,data:f,setupState:p,ctx:d}=t;let v;Re=t;try{let t;if(4&n.shapeFlag){const e=i||r;v=or(h.call(e,e,l,o,p,f,d)),t=u}else{const n=e;0,v=or(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:Le(u)}let g=v;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=g;e.length&&(1&n||6&n)&&(s&&e.some(y)&&(t=Me(t,s)),g=nr(g,t))}n.dirs&&(g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),v=g}catch(e){se(e,t,1),v=er(Gn)}return Re=null,v}function Ce(t){const e=t.filter((t=>!(Yn(t)&&t.type===Gn&&"v-if"!==t.children)));return 1===e.length&&Yn(e[0])?e[0]:null}const Le=t=>{let e;for(const n in t)("class"===n||"style"===n||v(n))&&((e||(e={}))[n]=t[n]);return e},Me=(t,e)=>{const n={};for(const r in t)y(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Ue(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!De(n,o))return!0}return!1}function je(t){if(_(t)&&(t=t()),I(t)){t=Ce(t)}return or(t)}let Ve=0;const Fe=t=>Ve+=t;function qe(t,e,n={},r){let i=t[e];Ve++;const o=(Wn(),$n(qn,{key:n.key},i?i(n):r?r():[],1===t._?64:-2));return Ve--,o}function Be(t,e=Re){if(!e)return t;const n=(...n)=>{Ve||Wn(!0);const r=Re;xe(e);const i=t(...n);return xe(r),Ve||Xn(),i};return n._c=!0,n}let Ge=null;const ze=[];function He(t){ze.push(Ge=t)}function Ke(){ze.pop(),Ge=ze[ze.length-1]||null}function We(t){return e=>Be((function(){He(t);const n=e.apply(this,arguments);return Ke(),n}))}function Xe(t,e,n,r=!1){const i={},o={};G(o,Qn,1),$e(t,e,i,o),n?t.props=r?i:Gt(i,!1,yt,Mt):t.type.props?t.props=i:t.props=o,t.attrs=o}function $e(t,e,n,r){const[i,o]=t.propsOptions;if(e)for(const o in e){const s=e[o];if(P(o))continue;let a;i&&w(i,a=M(o))?n[a]=s:De(t.emitsOptions,o)||(r[o]=s)}if(o){const e=Wt(n);for(let r=0;r<o.length;r++){const s=o[r];n[s]=Ye(i,e,s,e[s],t)}}}function Ye(t,e,n,r,i){const o=t[n];if(null!=o){const t=w(o,"default");if(t&&void 0===r){const t=o.default;o.type!==Function&&_(t)?(Ar(i),r=t(e),Ar(null)):r=t}o[0]&&(w(e,n)||t?!o[1]||""!==r&&r!==j(n)||(r=!0):r=!1)}return r}function Je(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const r=t.props,i={},o=[];let s=!1;if(!_(t)){const r=t=>{s=!0;const[n,r]=Je(t,e,!0);g(i,n),r&&o.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!r&&!s)return t.__props=l;if(I(r))for(let t=0;t<r.length;t++){const e=M(r[t]);Qe(e)&&(i[e]=h)}else if(r)for(const t in r){const e=M(t);if(Qe(e)){const n=r[t],s=i[e]=I(n)||_(n)?{type:n}:n;if(s){const t=en(Boolean,s.type),n=en(String,s.type);s[0]=t>-1,s[1]=n<0||t<n,(t>-1||w(s,"default"))&&o.push(e)}}}return t.__props=[i,o]}function Qe(t){return"$"!==t[0]}function Ze(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function tn(t,e){return Ze(t)===Ze(e)}function en(t,e){if(I(e)){for(let n=0,r=e.length;n<r;n++)if(tn(e[n],t))return n}else if(_(e))return tn(e,t)?0:-1;return-1}function nn(t,e,n=_r,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;nt(),Ar(n);const i=oe(e,n,t,r);return Ar(null),rt(),i});return r?i.unshift(o):i.push(o),o}}const rn=t=>(e,n=_r)=>!Sr&&nn(t,e,n),on=rn("bm"),sn=rn("m"),an=rn("bu"),un=rn("u"),cn=rn("bum"),hn=rn("um"),ln=rn("rtg"),fn=rn("rtc"),pn={};function dn(t,e,n){return vn(t,e,n)}function vn(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=h,a=_r){let u,c,l=!1;if($t(t)?(u=()=>t.value,l=!!t._shallow):zt(t)?(u=()=>t,r=!0):u=I(t)?()=>t.map((t=>$t(t)?t.value:zt(t)?gn(t):_(t)?ie(t,a,2):void 0)):_(t)?e?()=>ie(t,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),ie(t,a,3,[p])}:f,e&&r){const t=u;u=()=>gn(t())}const p=t=>{c=g.options.onStop=()=>{ie(t,a,4)}};let d=I(t)?[]:pn;const v=()=>{if(g.active)if(e){const t=g();(r||l||q(t,d))&&(c&&c(),oe(e,a,3,[t,d===pn?void 0:d,p]),d=t)}else g()};let y;v.allowRecurse=!!e,y="sync"===i?v:"post"===i?()=>xn(v,a&&a.suspense):()=>{!a||a.isMounted?function(t){Te(t,fe,le,pe)}(v):v()};const g=Y(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:y});return Or(g),e?n?v():d=g():"post"===i?xn(g,a&&a.suspense):g(),()=>{J(g),a&&m(a.effects,g)}}function yn(t,e,n){const r=this.proxy;return vn(A(t)?()=>r[t]:t.bind(r),e.bind(r),n,this)}function gn(t,e=new Set){if(!N(t)||e.has(t))return t;if(e.add(t),$t(t))gn(t.value,e);else if(I(t))for(let n=0;n<t.length;n++)gn(t[n],e);else if(T(t)||E(t))t.forEach((t=>{gn(t,e)}));else for(const n in t)gn(t[n],e);return t}const mn=t=>t.type.__isKeepAlive;function bn(t,e,n=_r){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(nn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)mn(t.parent.vnode)&&wn(r,e,n,t),t=t.parent}}function wn(t,e,n,r){const i=nn(e,t,r,!0);hn((()=>{m(r[e],i)}),n)}const In=t=>"_"===t[0]||"$stable"===t,En=t=>I(t)?t.map(or):[or(t)],Tn=(t,e,n)=>Be((t=>En(e(t))),n),_n=(t,e)=>{const n=t._ctx;for(const r in t){if(In(r))continue;const i=t[r];if(_(i))e[r]=Tn(0,i,n);else if(null!=i){const t=En(i);e[r]=()=>t}}},An=(t,e)=>{const n=En(e);t.slots.default=()=>n};function Sn(t,e){if(null===Re)return t;const n=Re.proxy,r=t.dirs||(t.dirs=[]);for(let t=0;t<e.length;t++){let[i,o,s,a=h]=e[t];_(i)&&(i={mounted:i,updated:i}),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function Nn(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);const u=a.dir[r];u&&oe(u,n,8,[t.el,a,t,e])}}function kn(){return{app:null,config:{isNativeTag:p,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:p,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let On=0;function Dn(t,e){return function(n,r=null){null==r||N(r)||(r=null);const i=kn(),o=new Set;let s=!1;const a=i.app={_uid:On++,_component:n,_props:r,_container:null,_context:i,version:Cr,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&_(t.install)?(o.add(t),t.install(a,...e)):_(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||(i.mixins.push(t),(t.props||t.emits)&&(i.deopt=!0)),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u){if(!s){const c=er(n,r);return c.appContext=i,u&&e?e(c,o):t(c,o),s=!0,a._container=o,o.__vue_app__=a,c.component.proxy}},unmount(){s&&t(null,a._container)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}const Rn={scheduler:Ie,allowRecurse:!0},xn=function(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):Te(t,ve,de,ye)},Pn=(t,e,n,r,i)=>{if(I(t))return void t.forEach(((t,o)=>Pn(t,e&&(I(e)?e[o]:e),n,r,i)));let o;o=i?4&i.shapeFlag?i.component.exposed||i.component.proxy:i.el:null;const{i:s,r:a}=t,u=e&&e.r,c=s.refs===h?s.refs={}:s.refs,l=s.setupState;if(null!=u&&u!==a&&(A(u)?(c[u]=null,w(l,u)&&(l[u]=null)):$t(u)&&(u.value=null)),A(a)){const t=()=>{c[a]=o,w(l,a)&&(l[a]=o)};o?(t.id=-1,xn(t,r)):t()}else if($t(a)){const t=()=>{a.value=o};o?(t.id=-1,xn(t,r)):t()}else _(a)&&ie(a,n,12,[o,c])};function Cn(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:p,parentNode:d,nextSibling:v,setScopeId:y=f,cloneNode:m,insertStaticContent:b}=t,I=(t,e,n,r=null,i=null,o=null,s=!1,a=!1)=>{t&&!Jn(t,e)&&(r=et(t),X(t,i,o,!0),t=null),-2===e.patchFlag&&(a=!1,e.dynamicChildren=null);const{type:u,ref:c,shapeFlag:h}=e;switch(u){case Bn:E(t,e,n,r);break;case Gn:T(t,e,n,r);break;case zn:null==t&&_(e,n,r,s);break;case qn:C(t,e,n,r,i,o,s,a);break;default:1&h?A(t,e,n,r,i,o,s,a):6&h?L(t,e,n,r,i,o,s,a):(64&h||128&h)&&u.process(t,e,n,r,i,o,s,a,st)}null!=c&&i&&Pn(c,t&&t.ref,i,o,e)},E=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},T=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},_=(t,e,n,r)=>{[t.el,t.anchor]=b(t.children,e,n,r)},A=(t,e,n,r,i,o,s,a)=>{s=s||"svg"===e.type,null==t?S(e,n,r,i,o,s,a):D(t,e,i,o,s,a)},S=(t,e,r,o,a,u,c)=>{let h,l;const{type:f,props:d,shapeFlag:v,transition:y,scopeId:g,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==m&&-1===b)h=t.el=m(t.el);else{if(h=t.el=s(t.type,u,d&&d.is),8&v?p(h,t.children):16&v&&O(t.children,h,null,o,a,u&&"foreignObject"!==f,c||!!t.dynamicChildren),w&&Nn(t,null,o,"created"),d){for(const e in d)P(e)||i(h,e,null,d[e],u,t.children,o,a,tt);(l=d.onVnodeBeforeMount)&&Ln(l,o,t)}N(h,g,t,o)}w&&Nn(t,null,o,"beforeMount");const I=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;I&&y.beforeEnter(h),n(h,e,r),((l=d&&d.onVnodeMounted)||I||w)&&xn((()=>{l&&Ln(l,o,t),I&&y.enter(h),w&&Nn(t,null,o,"mounted")}),a)},N=(t,e,n,r)=>{if(e&&y(t,e),r){const i=r.type.__scopeId;i&&i!==e&&y(t,i+"-s"),n===r.subTree&&N(t,r.vnode.scopeId,r.vnode,r.parent)}},O=(t,e,n,r,i,o,s,a=0)=>{for(let u=a;u<t.length;u++){const a=t[u]=s?sr(t[u]):or(t[u]);I(null,a,e,n,r,i,o,s)}},D=(t,e,n,r,s,a)=>{const u=e.el=t.el;let{patchFlag:c,dynamicChildren:l,dirs:f}=e;c|=16&t.patchFlag;const d=t.props||h,v=e.props||h;let y;if((y=v.onVnodeBeforeUpdate)&&Ln(y,n,e,t),f&&Nn(e,t,n,"beforeUpdate"),c>0){if(16&c)x(u,e,d,v,n,r,s);else if(2&c&&d.class!==v.class&&i(u,"class",null,v.class,s),4&c&&i(u,"style",d.style,v.style,s),8&c){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const c=a[e],h=d[c],l=v[c];(l!==h||o&&o(u,c))&&i(u,c,h,l,s,t.children,n,r,tt)}}1&c&&t.children!==e.children&&p(u,e.children)}else a||null!=l||x(u,e,d,v,n,r,s);const g=s&&"foreignObject"!==e.type;l?R(t.dynamicChildren,l,u,n,r,g):a||z(t,e,u,null,n,r,g),((y=v.onVnodeUpdated)||f)&&xn((()=>{y&&Ln(y,n,e,t),f&&Nn(e,t,n,"updated")}),r)},R=(t,e,n,r,i,o)=>{for(let s=0;s<e.length;s++){const a=t[s],u=e[s],c=a.type===qn||!Jn(a,u)||6&a.shapeFlag||64&a.shapeFlag?d(a.el):n;I(a,u,c,null,r,i,o,!0)}},x=(t,e,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(P(c))continue;const h=r[c],l=n[c];(h!==l||o&&o(t,c))&&i(t,c,l,h,u,e.children,s,a,tt)}if(n!==h)for(const o in n)P(o)||o in r||i(t,o,n[o],null,u,e.children,s,a,tt)}},C=(t,e,r,i,o,s,u,c)=>{const h=e.el=t?t.el:a(""),l=e.anchor=t?t.anchor:a("");let{patchFlag:f,dynamicChildren:p}=e;f>0&&(c=!0),null==t?(n(h,r,i),n(l,r,i),O(e.children,r,l,o,s,u,c)):f>0&&64&f&&p?(R(t.dynamicChildren,p,r,o,s,u),(null!=e.key||o&&e===o.subTree)&&Mn(t,e,!0)):z(t,e,r,l,o,s,u,c)},L=(t,e,n,r,i,o,s,a)=>{null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,a):U(e,n,r,i,o,s,a):V(t,e,a)},U=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Er,o={uid:Tr++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Je(r,i),emitsOptions:Oe(r,i),emit:null,emitted:null,ctx:h,data:h,props:h,attrs:h,slots:h,refs:h,setupState:h,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=ke.bind(null,o),o}(t,r,i);if(mn(t)&&(a.ctx.renderer=st),function(t,e=!1){Sr=e;const{props:n,children:r,shapeFlag:i}=t.vnode,o=4&i;Xe(t,n,o,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,G(e,"_",n)):_n(e,t.slots={})}else t.slots={},e&&An(t,e);G(t.slots,Qn,1)})(t,r);const s=o?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,wr);const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=ee(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;_r=t,nt();const i=ie(r,t,0,[t.props,n]);if(rt(),_r=null,k(i)){if(e)return i.then((e=>{Nr(t,e)}));t.asyncDep=i}else Nr(t,i)}else kr(t)}(t,e):void 0;Sr=!1}(a),a.asyncDep){if(i&&i.registerDep(a,F),!t.el){const t=a.subTree=er(Gn);T(null,t,e,n)}}else F(a,t,e,n,i,o,s)},V=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||Ue(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Ue(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!De(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void q(r,e,n);r.next=e,function(t){const e=ce.indexOf(t);e>-1&&ce.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},F=(t,e,n,r,i,o,s)=>{t.update=Y((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,h=n;n?(n.el=c.el,q(t,n,s)):n=c,r&&B(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Ln(e,u,n,c);const l=Pe(t),f=t.subTree;t.subTree=l,I(f,l,d(f.el),et(f),t,i,o),n.el=l.el,null===h&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,l.el),a&&xn(a,i),(e=n.props&&n.props.onVnodeUpdated)&&xn((()=>{Ln(e,u,n,c)}),i)}else{let s;const{el:a,props:u}=e,{bm:c,m:h,parent:l}=t;c&&B(c),(s=u&&u.onVnodeBeforeMount)&&Ln(s,l,e);const f=t.subTree=Pe(t);a&&ut?ut(e.el,f,t,i):(I(null,f,n,r,t,i,o),e.el=f.el),h&&xn(h,i),(s=u&&u.onVnodeMounted)&&xn((()=>{Ln(s,l,e)}),i);const{a:p}=t;p&&256&e.shapeFlag&&xn(p,i),t.isMounted=!0}}),Rn)},q=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Wt(i),[u]=t.propsOptions;if(!(r||s>0)||16&s){let r;$e(t,e,i,o);for(const o in a)e&&(w(e,o)||(r=j(o))!==o&&w(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=Ye(u,e||h,o,void 0,t)):delete i[o]);if(o!==a)for(const t in o)e&&w(e,t)||delete o[t]}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){const s=n[r],c=e[s];if(u)if(w(o,s))o[s]=c;else{const e=M(s);i[e]=Ye(u,a,e,c,t)}else o[s]=c}}ot(t,"set","$attrs")}(t,e.props,r,n),((t,e)=>{const{vnode:n,slots:r}=t;let i=!0,o=h;if(32&n.shapeFlag){const t=e._;t?1===t?i=!1:g(r,e):(i=!e.$stable,_n(e,r)),o=e}else e&&(An(t,e),o={default:1});if(i)for(const t in r)In(t)||t in o||delete r[t]})(t,e.children),_e(void 0,t.update)},z=(t,e,n,r,i,o,s,a=!1)=>{const u=t&&t.children,c=t?t.shapeFlag:0,h=e.children,{patchFlag:l,shapeFlag:f}=e;if(l>0){if(128&l)return void K(u,h,n,r,i,o,s,a);if(256&l)return void H(u,h,n,r,i,o,s,a)}8&f?(16&c&&tt(u,i,o),h!==u&&p(n,h)):16&c?16&f?K(u,h,n,r,i,o,s,a):tt(u,i,o,!0):(8&c&&p(n,""),16&f&&O(h,n,r,i,o,s,a))},H=(t,e,n,r,i,o,s,a)=>{e=e||l;const u=(t=t||l).length,c=e.length,h=Math.min(u,c);let f;for(f=0;f<h;f++){const r=e[f]=a?sr(e[f]):or(e[f]);I(t[f],r,n,null,i,o,s,a)}u>c?tt(t,i,o,!0,!1,h):O(e,n,r,i,o,s,a,h)},K=(t,e,n,r,i,o,s,a)=>{let u=0;const c=e.length;let h=t.length-1,f=c-1;for(;u<=h&&u<=f;){const r=t[u],c=e[u]=a?sr(e[u]):or(e[u]);if(!Jn(r,c))break;I(r,c,n,null,i,o,s,a),u++}for(;u<=h&&u<=f;){const r=t[h],u=e[f]=a?sr(e[f]):or(e[f]);if(!Jn(r,u))break;I(r,u,n,null,i,o,s,a),h--,f--}if(u>h){if(u<=f){const t=f+1,h=t<c?e[t].el:r;for(;u<=f;)I(null,e[u]=a?sr(e[u]):or(e[u]),n,h,i,o,s),u++}}else if(u>f)for(;u<=h;)X(t[u],i,o,!0),u++;else{const p=u,d=u,v=new Map;for(u=d;u<=f;u++){const t=e[u]=a?sr(e[u]):or(e[u]);null!=t.key&&v.set(t.key,u)}let y,g=0;const m=f-d+1;let b=!1,w=0;const E=new Array(m);for(u=0;u<m;u++)E[u]=0;for(u=p;u<=h;u++){const r=t[u];if(g>=m){X(r,i,o,!0);continue}let c;if(null!=r.key)c=v.get(r.key);else for(y=d;y<=f;y++)if(0===E[y-d]&&Jn(r,e[y])){c=y;break}void 0===c?X(r,i,o,!0):(E[c-d]=u+1,c>=w?w=c:b=!0,I(r,e[c],n,null,i,o,s,a),g++)}const T=b?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(E):l;for(y=T.length-1,u=m-1;u>=0;u--){const t=d+u,a=e[t],h=t+1<c?e[t+1].el:r;0===E[u]?I(null,a,n,h,i,o,s):b&&(y<0||u!==T[y]?W(a,n,h,2):y--)}}},W=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:h}=t;if(6&h)return void W(t.component.subTree,e,r,i);if(128&h)return void t.suspense.move(e,r,i);if(64&h)return void a.move(t,e,r,st);if(a===qn){n(s,e,r);for(let t=0;t<c.length;t++)W(c[t],e,r,i);return void n(t.anchor,e,r)}if(2!==i&&1&h&&u)if(0===i)u.beforeEnter(s),n(s,e,r),xn((()=>u.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else n(s,e,r)},X=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:h,patchFlag:l,dirs:f}=t;if(null!=a&&e&&Pn(a,null,e,n,null),256&h)return void e.ctx.deactivate(t);const p=1&h&&f;let d;if((d=s&&s.onVnodeBeforeUnmount)&&Ln(d,e,t),6&h)Z(t.component,n,r);else{if(128&h)return void t.suspense.unmount(n,r);p&&Nn(t,null,e,"beforeUnmount"),c&&(o!==qn||l>0&&64&l)?tt(c,e,n,!1,!0):(o===qn&&(128&l||256&l)||!i&&16&h)&&tt(u,e,n),64&h&&(r||!Un(t.props))&&t.type.remove(t,st),r&&$(t)}((d=s&&s.onVnodeUnmounted)||p)&&xn((()=>{d&&Ln(d,e,t),p&&Nn(t,null,e,"unmounted")}),n)},$=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===qn)return void Q(n,i);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},Q=(t,e)=>{let n;for(;t!==e;)n=v(t),r(t),t=n;r(e)},Z=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=t;if(r&&B(r),i)for(let t=0;t<i.length;t++)J(i[t]);o&&(J(o),X(s,t,e,n)),a&&xn(a,e),xn((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},tt=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)X(t[s],e,n,r,i)},et=t=>6&t.shapeFlag?et(t.component.subTree):128&t.shapeFlag?t.suspense.next():v(t.anchor||t.el),it=(t,e)=>{null==t?e._vnode&&X(e._vnode,null,null,!0):I(e._vnode||null,t,e),Ae(),e._vnode=t},st={p:I,um:X,m:W,r:$,mt:U,mc:O,pc:z,pbc:R,n:et,o:t};let at,ut;e&&([at,ut]=e(st));return{render:it,hydrate:at,createApp:Dn(it,at)}}(t)}function Ln(t,e,n,r=null){oe(t,e,7,[n,r])}function Mn(t,e,n=!1){const r=t.children,i=e.children;if(I(r)&&I(i))for(let t=0;t<r.length;t++){const e=r[t];let o=i[t];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=i[t]=sr(i[t]),o.el=e.el),n||Mn(e,o))}}const Un=t=>t&&(t.disabled||""===t.disabled);function jn(t){return function(t,e,n=!0){const r=Re||_r;if(r){const n=r.type;if("components"===t){const t=n.displayName||n.name;if(t&&(t===e||t===M(e)||t===V(M(e))))return n}return Fn(r[t]||n[t],e)||Fn(r.appContext[t],e)}}("components",t)||t}const Vn=Symbol();function Fn(t,e){return t&&(t[e]||t[M(e)]||t[V(M(e))])}const qn=Symbol(void 0),Bn=Symbol(void 0),Gn=Symbol(void 0),zn=Symbol(void 0),Hn=[];let Kn=null;function Wn(t=!1){Hn.push(Kn=t?null:[])}function Xn(){Hn.pop(),Kn=Hn[Hn.length-1]||null}function $n(t,e,n,r,i){const o=er(t,e,n,r,i,!0);return o.dynamicChildren=Kn||l,Xn(),Kn&&Kn.push(o),o}function Yn(t){return!!t&&!0===t.__v_isVNode}function Jn(t,e){return t.type===e.type&&t.key===e.key}const Qn="__vInternal",Zn=({key:t})=>null!=t?t:null,tr=({ref:t})=>null!=t?I(t)?t:{i:Re,r:t}:null,er=function(t,e=null,n=null,i=0,o=null,s=!1){t&&t!==Vn||(t=Gn);if(Yn(t)){const r=nr(t,e,!0);return n&&ar(r,n),r}u=t,_(u)&&"__vccOpts"in u&&(t=t.__vccOpts);var u;if(e){(Kt(e)||Qn in e)&&(e=g({},e));let{class:t,style:n}=e;t&&!A(t)&&(e.class=a(t)),N(n)&&(Kt(n)&&!I(n)&&(n=g({},n)),e.style=r(n))}const c=A(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:N(t)?4:_(t)?2:0,h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zn(e),ref:e&&tr(e),scopeId:Ge,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(ar(h,n),128&c){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:n}=t;let r,i;return 32&e?(r=je(n.default),i=je(n.fallback)):(r=je(n),i=or(null)),{content:r,fallback:i}}(h);h.ssContent=t,h.ssFallback=e}!s&&Kn&&(i>0||6&c)&&32!==i&&Kn.push(h);return h};function nr(t,e,n=!1){const{props:i,ref:o,patchFlag:s}=t,u=e?function(...t){const e=g({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=a([e.class,i.class]));else if("style"===t)e.style=r([e.style,i.style]);else if(v(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,i[t]):r)}else""!==t&&(e[t]=i[t])}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Zn(u),ref:e&&e.ref?n&&o?I(o)?o.concat(tr(e)):[o,tr(e)]:tr(e):o,scopeId:t.scopeId,children:t.children,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&nr(t.ssContent),ssFallback:t.ssFallback&&nr(t.ssFallback),el:t.el,anchor:t.anchor}}function rr(t=" ",e=0){return er(Bn,null,t,e)}function ir(t="",e=!1){return e?(Wn(),$n(Gn,null,t)):er(Gn,null,t)}function or(t){return null==t||"boolean"==typeof t?er(Gn):I(t)?er(qn,null,t):"object"==typeof t?null===t.el?t:nr(t):er(Bn,null,String(t))}function sr(t){return null===t.el?t:nr(t)}function ar(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(I(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&Fe(1),ar(t,n()),n._c&&Fe(-1)))}{n=32;const r=e._;r||Qn in e?3===r&&Re&&(1024&Re.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=Re}}else _(e)?(e={default:e,_ctx:Re},n=32):(e=String(e),64&r?(n=16,e=[rr(e)]):n=8);t.children=e,t.shapeFlag|=n}function ur(t,e){if(_r){let n=_r.provides;const r=_r.parent&&_r.parent.provides;r===n&&(n=_r.provides=Object.create(r)),n[t]=e}else;}function cr(t,e,n=!1){const r=_r||Re;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&_(e)?e():e}}let hr=!1;function lr(t,e,n=[],r=[],i=[],o=!1){const{mixins:s,extends:a,data:u,computed:c,methods:l,watch:p,provide:d,inject:v,components:y,directives:m,beforeMount:b,mounted:w,beforeUpdate:E,updated:T,activated:A,deactivated:S,beforeDestroy:k,beforeUnmount:O,destroyed:D,unmounted:R,render:x,renderTracked:P,renderTriggered:C,errorCaptured:L,expose:M}=e,U=t.proxy,j=t.ctx,V=t.appContext.mixins;if(o&&x&&t.render===f&&(t.render=x),o||(hr=!0,fr("beforeCreate","bc",e,t,V),hr=!1,vr(t,V,n,r,i)),a&&lr(t,a,n,r,i,!0),s&&vr(t,s,n,r,i),v)if(I(v))for(let t=0;t<v.length;t++){const e=v[t];j[e]=cr(e)}else for(const t in v){const e=v[t];N(e)?j[t]=cr(e.from||t,e.default,!0):j[t]=cr(e)}if(l)for(const t in l){const e=l[t];_(e)&&(j[t]=e.bind(U))}if(o?u&&n.push(u):(n.length&&n.forEach((e=>yr(t,e,U))),u&&yr(t,u,U)),c)for(const t in c){const e=c[t],n=Dr({get:_(e)?e.bind(U,U):_(e.get)?e.get.bind(U,U):f,set:!_(e)&&_(e.set)?e.set.bind(U):f});Object.defineProperty(j,t,{enumerable:!0,configurable:!0,get:()=>n.value,set:t=>n.value=t})}var F;if(p&&r.push(p),!o&&r.length&&r.forEach((t=>{for(const e in t)gr(t[e],j,U,e)})),d&&i.push(d),!o&&i.length&&i.forEach((t=>{const e=_(t)?t.call(U):t;for(const t in e)ur(t,e[t])})),o&&(y&&g(t.components||(t.components=g({},t.type.components)),y),m&&g(t.directives||(t.directives=g({},t.type.directives)),m)),o||fr("created","c",e,t,V),b&&on(b.bind(U)),w&&sn(w.bind(U)),E&&an(E.bind(U)),T&&un(T.bind(U)),A&&bn(A.bind(U),"a",F),S&&function(t,e){bn(t,"da",e)}(S.bind(U)),L&&((t,e=_r)=>{nn("ec",t,e)})(L.bind(U)),P&&fn(P.bind(U)),C&&ln(C.bind(U)),O&&cn(O.bind(U)),R&&hn(R.bind(U)),I(M)&&!o)if(M.length){const e=t.exposed||(t.exposed=ee({}));M.forEach((t=>{e[t]=function(t,e){return $t(t[e])?t[e]:new ne(t,e)}(U,t)}))}else t.exposed||(t.exposed=h)}function fr(t,e,n,r,i){dr(t,e,i,r);const{extends:o,mixins:s}=n;o&&pr(t,e,o,r),s&&dr(t,e,s,r);const a=n[t];a&&oe(a.bind(r.proxy),r,e)}function pr(t,e,n,r){n.extends&&pr(t,e,n.extends,r);const i=n[t];i&&oe(i.bind(r.proxy),r,e)}function dr(t,e,n,r){for(let i=0;i<n.length;i++){const o=n[i].mixins;o&&dr(t,e,o,r);const s=n[i][t];s&&oe(s.bind(r.proxy),r,e)}}function vr(t,e,n,r,i){for(let o=0;o<e.length;o++)lr(t,e[o],n,r,i,!0)}function yr(t,e,n){const r=e.call(n,n);N(r)&&(t.data===h?t.data=qt(r):g(t.data,r))}function gr(t,e,n,r){const i=r.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(n,r):()=>n[r];if(A(t)){const n=e[t];_(n)&&dn(i,n)}else if(_(t))dn(i,t.bind(n));else if(N(t))if(I(t))t.forEach((t=>gr(t,e,n,r)));else{const r=_(t.handler)?t.handler.bind(n):e[t.handler];_(r)&&dn(i,r,t)}}function mr(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=e;o&&mr(t,o,n),i&&i.forEach((e=>mr(t,e,n)));for(const i in e)r&&w(r,i)?t[i]=r[i](t[i],e[i],n.proxy,i):t[i]=e[i]}const br=g(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>t.parent&&t.parent.proxy,$root:t=>t.root&&t.root.proxy,$emit:t=>t.emit,$options:t=>function(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const o=t.appContext.mixins;if(!o.length&&!r&&!i)return e;const s={};return o.forEach((e=>mr(s,e,t))),mr(s,e,t),e.__merged=s}(t),$forceUpdate:t=>()=>Ie(t.update),$nextTick:t=>we.bind(t.proxy),$watch:t=>yn.bind(t)}),wr={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==h&&w(r,e))return s[e]=0,r[e];if(i!==h&&w(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&w(c,e))return s[e]=2,o[e];if(n!==h&&w(n,e))return s[e]=3,n[e];hr||(s[e]=4)}}const l=br[e];let f,p;return l?("$attrs"===e&&it(t,0,e),l(t)):(f=a.__cssModules)&&(f=f[e])?f:n!==h&&w(n,e)?(s[e]=3,n[e]):(p=u.config.globalProperties,w(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==h&&w(i,e))i[e]=n;else if(r!==h&&w(r,e))r[e]=n;else if(e in t.props)return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==h&&w(t,s)||e!==h&&w(e,s)||(a=o[0])&&w(a,s)||w(r,s)||w(br,s)||w(i.config.globalProperties,s)}},Ir=g({},wr,{get(t,e){if(e!==Symbol.unscopables)return wr.get(t,e,t)},has:(t,n)=>"_"!==n[0]&&!e(n)}),Er=kn();let Tr=0;let _r=null;const Ar=t=>{_r=t};let Sr=!1;function Nr(t,e,n){_(e)?t.render=e:N(e)&&(t.setupState=ee(e)),kr(t)}function kr(t,e){const n=t.type;t.render||(t.render=n.render||f,t.render._rc&&(t.withProxy=new Proxy(t.ctx,Ir))),_r=t,lr(t,n),_r=null}function Or(t){_r&&(_r.effects||(_r.effects=[])).push(t)}function Dr(t){const e=function(t){let e,n;return _(t)?(e=t,n=f):(e=t.get,n=t.set),new re(e,n,_(t)||!t.set)}(t);return Or(e.effect),e}function Rr(t){return _(t)?{setup:t,name:t.name}:t}function xr(t,e,n){const r=arguments.length;return 2===r?N(e)&&!I(e)?Yn(e)?er(t,null,[e]):er(t,e):er(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Yn(n)&&(n=[n]),er(t,e,n))}function Pr(t,e){let n;if(I(t)||A(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(N(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}const Cr="3.0.3",Lr="http://www.w3.org/2000/svg",Mr="undefined"!=typeof document?document:null;let Ur,jr;const Vr={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n)=>e?Mr.createElementNS(Lr,t):Mr.createElement(t,n?{is:n}:void 0),createText:t=>Mr.createTextNode(t),createComment:t=>Mr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Mr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode:t=>t.cloneNode(!0),insertStaticContent(t,e,n,r){const i=r?jr||(jr=Mr.createElementNS(Lr,"svg")):Ur||(Ur=Mr.createElement("div"));i.innerHTML=t;const o=i.firstChild;let s=o,a=s;for(;s;)a=s,Vr.insert(s,e,n),s=i.firstChild;return[o,a]}};const Fr=/\s*!important$/;function qr(t,e,n){if(I(n))n.forEach((n=>qr(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=Gr[e];if(n)return n;let r=M(e);if("filter"!==r&&r in t)return Gr[e]=r;r=V(r);for(let n=0;n<Br.length;n++){const i=Br[n]+r;if(i in t)return Gr[e]=i}return e}(t,e);Fr.test(n)?t.setProperty(j(r),n.replace(Fr,""),"important"):t[r]=n}}const Br=["Webkit","Moz","ms"],Gr={};const zr="http://www.w3.org/1999/xlink";let Hr=Date.now;"undefined"!=typeof document&&Hr()>document.createEvent("Event").timeStamp&&(Hr=()=>performance.now());let Kr=0;const Wr=Promise.resolve(),Xr=()=>{Kr=0};function $r(t,e,n,r){t.addEventListener(e,n,r)}function Yr(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(Jr.test(t)){let n;for(e={};n=t.match(Jr);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t.slice(2).toLowerCase(),e]}(e);if(r){$r(t,n,o[e]=function(t,e){const n=t=>{(t.timeStamp||Hr())>=n.attached-1&&oe(function(t,e){if(I(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>Kr||(Wr.then(Xr),Kr=Hr()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const Jr=/(?:Once|Passive|Capture)$/;const Qr=/^on[a-z]/;const Zr=t=>{const e=t.props["onUpdate:modelValue"];return I(e)?t=>B(e,t):e};function ti(t){t.target.composing=!0}function ei(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}(e,"input"))}const ni={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=Zr(i);const o=r||"number"===t.type;$r(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n?r=r.trim():o&&(r=z(r)),t._assign(r)})),n&&$r(t,"change",(()=>{t.value=t.value.trim()})),e||($r(t,"compositionstart",ti),$r(t,"compositionend",ei),$r(t,"change",ei))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{trim:n,number:r}},i){if(t._assign=Zr(i),t.composing)return;if(document.activeElement===t){if(n&&t.value.trim()===e)return;if((r||"number"===t.type)&&z(t.value)===e)return}const o=null==e?"":e;t.value!==o&&(t.value=o)}},ri=g({patchProp:(t,e,r,i,o=!1,s,a,u,c)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,i,o);break;case"style":!function(t,e,n){const r=t.style;if(n)if(A(n))e!==n&&(r.cssText=n);else{for(const t in n)qr(r,t,n[t]);if(e&&!A(e))for(const t in e)null==n[t]&&qr(r,t,"")}else t.removeAttribute("style")}(t,r,i);break;default:v(e)?y(e)||Yr(t,e,0,i,a):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&Qr.test(e)&&_(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e&&"string"==typeof n)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if(Qr.test(e)&&A(n))return!1;return e in t}(t,e,i,o)?function(t,e,n,r,i,o,s){if("innerHTML"===e||"textContent"===e)return r&&s(r,i,o),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName)if(""===n&&"boolean"==typeof t[e])t[e]=!0;else if(null==n&&"string"==typeof t[e])t[e]="",t.removeAttribute(e);else try{t[e]=n}catch(t){}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}(t,e,i,s,a,u,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,r,i){if(i&&e.startsWith("xlink:"))null==r?t.removeAttributeNS(zr,e.slice(6,e.length)):t.setAttributeNS(zr,e,r);else{const i=n(e);null==r||i&&!1===r?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}(t,e,i,o))}},forcePatchProp:(t,e)=>"value"===e},Vr);let ii;
/*!
  * vue-router v4.0.0-rc.6
  * (c) 2020 Eduardo San Martin Morote
  * @license MIT
  */
const oi="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,si=t=>oi?Symbol(t):"_vr_"+t,ai=si("rvlm"),ui=si("rvd"),ci=si("r"),hi=si("rl"),li="undefined"!=typeof window;const fi=Object.assign;function pi(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}let di=()=>{};const vi=/\/$/;function yi(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("?"),u=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),o=e.slice(a+1,u>-1?u:e.length),i=t(o)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function gi(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function mi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function bi(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!wi(t[n],e[n]))return!1;return!0}function wi(t,e){return Array.isArray(t)?Ii(t,e):Array.isArray(e)?Ii(e,t):t===e}function Ii(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var Ei,Ti,_i,Ai;function Si(t){if(!t)if(li){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(vi,"")}(Ti=Ei||(Ei={})).pop="pop",Ti.push="push",(Ai=_i||(_i={})).back="back",Ai.forward="forward",Ai.unknown="";const Ni=/^[^#]+#/;function ki(t,e){return t.replace(Ni,"#")+e}const Oi=()=>({left:window.pageXOffset,top:window.pageYOffset});function Di(t){let e;if("el"in t){let n=t.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function Ri(t,e){return(history.state?history.state.position-e:-1)+t}const xi=new Map;function Pi(t,e){const{pathname:n,search:r,hash:i}=e;if(t.indexOf("#")>-1){let t=i.slice(1);return"/"!==t[0]&&(t="/"+t),gi(t,"")}return gi(n,t)+r+i}function Ci(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Oi():null}}function Li(t){const{history:e,location:n}=window;let r={value:Pi(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),u=a>-1?t.slice(a)+r:location.protocol+"//"+location.host+t+r;try{e[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(t){console.error(t),n[s?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(t,n){const s=fi({},i.value,e.state,{forward:t,scroll:Oi()});o(s.current,s,!0),o(t,fi({},Ci(r.value,t,null),{position:s.position+1},n),!1),r.value=t},replace:function(t,n){o(t,fi({},e.state,Ci(i.value.back,t,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=t}}}function Mi(t){const e=Li(t=Si(t)),n=function(t,e,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=Pi(t,location),u=n.value,c=e.value;let h=0;if(o){if(n.value=a,e.value=o,s&&s===u)return void(s=null);h=c?o.position-c.position:0}else r(a);i.forEach((t=>{t(n.value,u,{delta:h,type:Ei.pop,direction:h?h>0?_i.forward:_i.back:_i.unknown})}))};function u(){const{history:t}=window;t.state&&t.replaceState(fi({},t.state,{scroll:Oi()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(t,e.state,e.location,e.replace);const r=fi({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:ki.bind(null,t)},e,n);return Object.defineProperty(r,"location",{get:()=>e.location.value}),Object.defineProperty(r,"state",{get:()=>e.state.value}),r}function Ui(t){return"string"==typeof t||"symbol"==typeof t}const ji={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Vi=si("nf");var Fi,qi;function Bi(t,e){return fi(new Error,{type:t,[Vi]:!0},e)}function Gi(t,e){return t instanceof Error&&Vi in t&&(null==e||!!(t.type&e))}(qi=Fi||(Fi={}))[qi.aborted=4]="aborted",qi[qi.cancelled=8]="cancelled",qi[qi.duplicated=16]="duplicated";const zi={sensitive:!1,strict:!1,start:!0,end:!0},Hi=/[.+*?^${}()[\]/\\]/g;function Ki(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function Wi(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const t=Ki(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const Xi={type:0,value:""},$i=/[a-zA-Z0-9_]/;function Yi(t,e,n){const r=function(t,e){const n=fi({},zi,e);let r=[],i=n.start?"^":"";const o=[];for(const e of t){const t=e.length?[]:[90];n.strict&&!e.length&&(i+="/");for(let r=0;r<e.length;r++){const s=e[r];let a=40+(n.sensitive?.25:0);if(0===s.type)r||(i+="/"),i+=s.value.replace(Hi,"\\$&"),a+=40;else if(1===s.type){const{value:t,repeatable:e,optional:n,regexp:u}=s;o.push({name:t,repeatable:e,optional:n});const c=u||"[^/]+?";if("[^/]+?"!==c){a+=10;try{new RegExp(`(${c})`)}catch(e){throw new Error(`Invalid custom RegExp for param "${t}" (${c}): `+e.message)}}let h=e?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;r||(h=n?`(?:/${h})`:"/"+h),n&&(h+="?"),i+=h,a+=20,n&&(a+=-8),e&&(a+=-20),".*"===c&&(a+=-50)}t.push(a)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let t=1;t<e.length;t++){const r=e[t]||"",i=o[t-1];n[i.name]=r&&i.repeatable?r.split("/"):r}return n},stringify:function(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:i,repeatable:o,optional:s}=t,a=i in e?e[i]:"";if(Array.isArray(a)&&!o)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const u=Array.isArray(a)?a.join("/"):a;if(!u){if(!s)throw new Error(`Missing required param "${i}"`);n.endsWith("/")?n=n.slice(0,-1):r=!0}n+=u}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[Xi]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,c="",h="";function l(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:h,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;u<t.length;)if(a=t[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&l(),s()):":"===a?(l(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?(n=2,h=""):$i.test(a)?f():(l(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==h[h.length-1]?h=h.slice(0,-1)+a:n=3:h+=a;break;case 3:l(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--;break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),l(),s(),i}(t.path),n),i=fi(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Ji(t,e){const n=[],r=new Map;function i(t,n,r){let a=!r,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Qi(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);u.aliasOf=r&&r.record;const c=eo(e,t),h=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)h.push(fi({},u,{components:r?r.record.components:u.components,path:t,aliasOf:r?r.record:u}))}let l,f;for(const e of h){let{path:h}=e;if(n&&"/"!==h[0]){let t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(h&&r+h)}if(l=Yi(e,n,c),r?r.alias.push(l):(f=f||l,f!==l&&f.alias.push(l),a&&t.name&&!Zi(l)&&o(t.name)),"children"in u){let t=u.children;for(let e=0;e<t.length;e++)i(t[e],l,r&&r.children[e])}r=r||l,s(l)}return f?()=>{o(f)}:di}function o(t){if(Ui(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function s(t){let e=0;for(;e<n.length&&Wi(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!Zi(t)&&r.set(t.record.name,t)}return e=eo({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>i(t))),{addRoute:i,resolve:function(t,e){let i,o,s,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw Bi(1,{location:t});s=i.record.name,a=fi(function(t,e){let n={};for(let r of e)r in t&&(n[r]=t[r]);return n}(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(a)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw Bi(1,{location:t,currentLocation:e});s=i.record.name,a=fi({},e.params,t.params),o=i.stringify(a)}const u=[];let c=i;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:u,meta:to(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function Qi(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let r in t.components)e[r]="boolean"==typeof n?n:n[r];return e}function Zi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function to(t){return t.reduce(((t,e)=>fi(t,e.meta)),{})}function eo(t,e){let n={};for(let r in t)n[r]=r in e?e[r]:t[r];return n}const no=/#/g,ro=/&/g,io=/\//g,oo=/=/g,so=/\?/g,ao=/\+/g,uo=/%5B/g,co=/%5D/g,ho=/%5E/g,lo=/%60/g,fo=/%7B/g,po=/%7C/g,vo=/%7D/g,yo=/%20/g;function go(t){return encodeURI(""+t).replace(po,"|").replace(uo,"[").replace(co,"]")}function mo(t){return go(t).replace(ao,"%2B").replace(yo,"+").replace(no,"%23").replace(ro,"%26").replace(lo,"`").replace(fo,"{").replace(vo,"}").replace(ho,"^")}function bo(t){return function(t){return go(t).replace(no,"%23").replace(so,"%3F")}(t).replace(io,"%2F")}function wo(t){try{return decodeURIComponent(""+t)}catch(t){}return""+t}function Io(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let t=0;t<n.length;++t){const r=n[t].replace(ao," ");let i=r.indexOf("="),o=wo(i<0?r:r.slice(0,i)),s=i<0?null:wo(r.slice(i+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function Eo(t){let e="";for(let n in t){e.length&&(e+="&");const r=t[n];if(n=mo(n).replace(oo,"%3D"),null==r){void 0!==r&&(e+=n);continue}let i=Array.isArray(r)?r.map((t=>t&&mo(t))):[r&&mo(r)];for(let t=0;t<i.length;t++)e+=(t?"&":"")+n,null!=i[t]&&(e+="="+i[t])}return e}function To(t){const e={};for(let n in t){let r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function _o(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function Ao(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=t=>{var u;!1===t?a(Bi(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(u=t)||u&&"object"==typeof u?a(Bi(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"==typeof t&&o.push(t),s())},c=t.call(r&&r.instances[i],e,n,u);let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch((t=>a(t)))}))}function So(t,e,n,r){const i=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[e];o&&i.push(Ao(o,n,r,s,t))}else{let o=a();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const o=(a=i).__esModule||oi&&"Module"===a[Symbol.toStringTag]?i.default:i;var a;s.components[t]=o;const u=o[e];return u&&Ao(u,n,r,s,t)()}))))}}var o;return i}function No(t){const e=cr(ci),n=cr(hi),r=Dr((()=>e.resolve(Zt(t.to)))),i=Dr((()=>{let{matched:t}=r.value,{length:e}=t;const i=t[e-1];let o=n.matched;if(!i||!o.length)return-1;let s=o.findIndex(mi.bind(null,i));if(s>-1)return s;let a=Oo(t[e-2]);return e>1&&Oo(i)===a&&o[o.length-1].path!==a?o.findIndex(mi.bind(null,t[e-2])):s})),o=Dr((()=>i.value>-1&&function(t,e){for(let n in e){let r=e[n],i=t[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}(n.params,r.value.params))),s=Dr((()=>i.value>-1&&i.value===n.matched.length-1&&bi(n.params,r.value.params)));return{route:r,href:Dr((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[Zt(t.replace)?"replace":"push"](Zt(t.to)):Promise.resolve()}}}const ko=Rr({name:"RouterLink",props:{to:{type:[String,Object],required:!0},activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e,attrs:n}){const r=qt(No(t)),{options:i}=cr(ci),o=Dr((()=>({[Do(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Do(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const i=e.default&&e.default(r);return t.custom?i:xr("a",fi({"aria-current":r.isExactActive?t.ariaCurrentValue:null,onClick:r.navigate,href:r.href},n,{class:o.value}),i)}}});function Oo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Do=(t,e,n)=>null!=t?t:null!=e?e:n,Ro=Rr({name:"RouterView",props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=cr(hi),i=cr(ui,0),o=Dr((()=>(t.route||r).matched[i]));ur(ui,i+1),ur(ai,o);const s=Yt();return dn((()=>[s.value,o.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards=i.leaveGuards,e.updateGuards=i.updateGuards)),!t||!e||i&&mi(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=t.route||r,a=o.value,u=a&&a.components[t.name],c=t.name;if(!u)return n.default?n.default({Component:u,route:i}):null;const h=a.props[t.name],l=h?!0===h?i.params:"function"==typeof h?h(i):h:null,f=xr(u,fi({},l,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(a.instances[c]=null)},ref:s}));return n.default?n.default({Component:f,route:i}):f}}});var xo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Po(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var Co=Po((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hook=e.target=e.isBrowser=void 0,e.isBrowser="undefined"!=typeof navigator,e.target=e.isBrowser?window:void 0!==xo?xo:{},e.hook=e.target.__VUE_DEVTOOLS_GLOBAL_HOOK__})),Lo=Po((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ApiHookEvents=void 0,(e.ApiHookEvents||(e.ApiHookEvents={})).SETUP_DEVTOOLS_PLUGIN="devtools-plugin:setup"})),Mo=Po((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})),Uo=Po((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})),jo=Po((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})),Vo=Po((function(t,e){Object.defineProperty(e,"__esModule",{value:!0})})),Fo=Po((function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Hooks=void 0,(n=e.Hooks||(e.Hooks={})).TRANSFORM_CALL="transformCall",n.GET_APP_RECORD_NAME="getAppRecordName",n.GET_APP_ROOT_INSTANCE="getAppRootInstance",n.REGISTER_APPLICATION="registerApplication",n.WALK_COMPONENT_TREE="walkComponentTree",n.WALK_COMPONENT_PARENTS="walkComponentParents",n.INSPECT_COMPONENT="inspectComponent",n.GET_COMPONENT_BOUNDS="getComponentBounds",n.GET_COMPONENT_NAME="getComponentName",n.GET_ELEMENT_COMPONENT="getElementComponent",n.GET_INSPECTOR_TREE="getInspectorTree",n.GET_INSPECTOR_STATE="getInspectorState"})),qo=Po((function(t,e){var n=xo&&xo.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),r=xo&&xo.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),r(Mo,e),r(Uo,e),r(jo,e),r(Vo,e),r(Fo,e)}));Po((function(t,e){var n=xo&&xo.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),r=xo&&xo.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.setupDevtoolsPlugin=void 0,r(qo,e),e.setupDevtoolsPlugin=function(t,e){if(Co.hook)Co.hook.emit(Lo.ApiHookEvents.SETUP_DEVTOOLS_PLUGIN,t,e);else{(Co.target.__VUE_DEVTOOLS_PLUGINS__=Co.target.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:t,setupFn:e})}}}));function Bo(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Go=function(t,e){return(Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function zo(t,e){function n(){this.constructor=t}Go(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ho=function(){return(Ho=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ko(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Wo(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Xo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Yo(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($o(arguments[e]));return t}function Jo(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=Qo(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zo=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function es(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ns=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,rs.prototype.create),i}return zo(e,t),e}(Error),rs=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?is(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new ns(i,a),c=0,h=Object.keys(r);c<h.length;c++){var l=h[c];"_"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),u[l]=r[l])}return u},t}();function is(t,e){return t.replace(os,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var os=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function as(t,e){var n=new us(t,e);return n.subscribe.bind(n)}var us=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=cs),void 0===r.error&&(r.error=cs),void 0===r.complete&&(r.complete=cs);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function cs(){}var hs=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),ls=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Zo;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Ho({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=Xo(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=$o(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Ko(this,void 0,void 0,(function(){var t;return Wo(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Yo(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs,ps=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ls(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ds(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vs,ys,gs=[];(ys=vs||(vs={}))[ys.DEBUG=0]="DEBUG",ys[ys.VERBOSE=1]="VERBOSE",ys[ys.INFO=2]="INFO",ys[ys.WARN=3]="WARN",ys[ys.ERROR=4]="ERROR",ys[ys.SILENT=5]="SILENT";var ms,bs={debug:vs.DEBUG,verbose:vs.VERBOSE,info:vs.INFO,warn:vs.WARN,error:vs.ERROR,silent:vs.SILENT},ws=vs.INFO,Is=((fs={})[vs.DEBUG]="log",fs[vs.VERBOSE]="log",fs[vs.INFO]="info",fs[vs.WARN]="warn",fs[vs.ERROR]="error",fs),Es=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Is[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,ds(["["+i+"]  "+t.name+":"],n))}},Ts=function(){function t(t){this.name=t,this._logLevel=ws,this._logHandler=Es,this._userLogHandler=null,gs.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in vs))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?bs[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ds([this,vs.DEBUG],t)),this._logHandler.apply(this,ds([this,vs.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ds([this,vs.VERBOSE],t)),this._logHandler.apply(this,ds([this,vs.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ds([this,vs.INFO],t)),this._logHandler.apply(this,ds([this,vs.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ds([this,vs.WARN],t)),this._logHandler.apply(this,ds([this,vs.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ds([this,vs.ERROR],t)),this._logHandler.apply(this,ds([this,vs.ERROR],t))},t}();function _s(t){gs.forEach((function(e){e.setLogLevel(t)}))}var As,Ss=((ms={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ms["bad-app-name"]="Illegal App name: '{$appName}",ms["duplicate-app"]="Firebase App named '{$appName}' already exists",ms["app-deleted"]="Firebase App named '{$appName}' already deleted",ms["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ms["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ms),Ns=new rs("app","Firebase",Ss),ks=((As={})["@firebase/app"]="fire-core",As["@firebase/analytics"]="fire-analytics",As["@firebase/auth"]="fire-auth",As["@firebase/database"]="fire-rtdb",As["@firebase/functions"]="fire-fn",As["@firebase/installations"]="fire-iid",As["@firebase/messaging"]="fire-fcm",As["@firebase/performance"]="fire-perf",As["@firebase/remote-config"]="fire-rc",As["@firebase/storage"]="fire-gcs",As["@firebase/firestore"]="fire-fst",As["fire-js"]="fire-js",As["firebase-wrapper"]="fire-js-all",As),Os=new Ts("@firebase/app"),Ds=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Qo(void 0,t),this.container=new ps(e.name),this._addComponent(new hs("app",(function(){return o}),"PUBLIC"));try{for(var s=Xo(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Os.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ns.create("app-deleted",{appName:this.name_})},t}();Ds.prototype.name&&Ds.prototype.options||Ds.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Rs(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw Ns.create("bad-app-name",{appName:String(s)});if(ss(e,s))throw Ns.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=ks[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Os.warn(u.join(" "))}o(new hs(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:_s,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Ns.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=bs[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:vs[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=gs;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!ss(e,t=t||"[DEFAULT]"))throw Ns.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u=o.name;if(n.has(u))return Os.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw Ns.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Qo(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var h=Xo(Object.keys(e)),l=h.next();!l.done;l=h.next()){var f=l.value;e[f]._addComponent(o)}}catch(t){s={error:t}}finally{try{l&&!l.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xs=function t(){var e=Rs(Ds);return e.INTERNAL=Ho(Ho({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Qo(e,t)},createSubscribe:as,ErrorFactory:rs,deepExtend:Qo}),e}(),Ps=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Os.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Cs=self.firebase.SDK_VERSION;Cs&&Cs.indexOf("LITE")>=0&&Os.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ls=xs.initializeApp;xs.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return es()&&Os.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),Ls.apply(void 0,t)};var Ms,Us,js=xs;(Ms=js).INTERNAL.registerComponent(new hs("platform-logger",(function(t){return new Ps(t)}),"PRIVATE")),Ms.registerVersion("@firebase/app","0.6.11",Us),Ms.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
js.registerVersion("firebase","7.24.0","app");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Pa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Pa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function l(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function I(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=A+t,this.message=e||S[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new E(e.substring(A.length),t.message,t.serverResponse):null}I(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var _,A="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function k(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function x(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function C(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}_=k("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(R,D),R.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new P((function(){return new j}),(function(t){t.reset()}));function U(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=V(t,e)}function H(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function W(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Q=/</g,Z=/>/g,tt=/"/g,et=/'/g,nt=/\x00/g,rt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function ot(t,e){return t<e?-1:t>e?1:0}t:{var st=s.navigator;if(st){var at=st.userAgent;if(at){$=at;break t}}$=""}function ut(t){return it($,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function lt(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===mt&&e||"",this.b=gt}function yt(t){return t instanceof vt&&t.constructor===vt&&t.b===gt?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.sa=!0,vt.prototype.ra=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var gt={},mt={},bt=new vt(mt,"");function wt(t,e){this.a=t===St&&e||"",this.b=At}function It(t){return t instanceof wt&&t.constructor===wt&&t.b===At?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=yt(t);if(!_t.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof vt?yt(t):encodeURIComponent(String(t))})),new wt(St,t)}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,_t=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={},St={};function Nt(t,e){this.a=t===xt&&e||"",this.b=Rt}function kt(t){return t instanceof Nt&&t.constructor===Nt&&t.b===Rt?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Ot.test(t)||(t="about:invalid#zClosurez"),new Nt(xt,t))}var Rt={},xt={};function Pt(){this.a="",this.b=Lt}function Ct(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Lt?t.a:(x("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}Pt.prototype.sa=!0,Pt.prototype.ra=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lt={};function Mt(t){var e=new Pt;return e.a=t,e}Mt("<!DOCTYPE html>");var Ut=Mt("");function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Q,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Z,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(et,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(nt,"&#0;"))),t}function Ft(t){return Ft[" "](t),t}Mt("<br>"),Ft[" "]=c;var qt,Bt,Gt=ut("Opera"),zt=ut("Trident")||ut("MSIE"),Ht=ut("Edge"),Kt=Ht||zt,Wt=ut("Gecko")&&!(it($.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Xt=it($.toLowerCase(),"webkit")&&!ut("Edge");function $t(){var t=s.document;return t?t.documentMode:void 0}t:{var Yt="",Jt=(Bt=$,Wt?/rv:([^\);]+)(\)|;)/.exec(Bt):Ht?/Edge\/([\d\.]+)/.exec(Bt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):Xt?/WebKit\/(\S+)/.exec(Bt):Gt?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Jt&&(Yt=Jt?Jt[1]:""),zt){var Qt=$t();if(null!=Qt&&Qt>parseFloat(Yt)){qt=String(Qt);break t}}qt=Yt}var Zt,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Y(String(qt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ot(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ot(0==s[2].length,0==a[2].length)||ot(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}Zt=s.document&&zt?$t():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Bt){}var ne=!zt||9<=Number(Zt);function re(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ie(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ae.hasOwnProperty(n)?t.setAttribute(ae[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var oe,se,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!l(o)||p(o)&&0<o.nodeType?r(o):F(he(o)?X(o):o,r)}}function ce(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function he(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function le(t){s.setTimeout((function(){throw t}),0)}function fe(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ce(document,"IFRAME");t.style.display="none",function(t){var e=new wt(St,yt(bt));dt(t,"HTMLIFrameElement"),t.src=It(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ct(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=m((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}function pe(t,e){se||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);se=function(){t.then(ye)}}else se=function(){var t=ye;!f(s.setImmediate)||s.Window&&s.Window.prototype&&!ut("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(oe||(oe=fe()),oe(t)):s.setImmediate(t)}}(),de||(se(),de=!0),ve.add(t,e)}var de=!1,ve=new L;function ye(){for(var t;t=U();){try{t.a.call(t.b)}catch(t){le(t)}C(M,t)}de=!1}function ge(t,e){if(this.a=me,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Re(n,be,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Re(n,we,t)}))}catch(t){Re(this,we,t)}}var me=0,be=2,we=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new P((function(){return new Ie}),(function(t){t.reset()}));function Te(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function _e(t){if(t instanceof ge)return t;var e=new ge(c);return Re(e,be,t),e}function Ae(t){return new ge((function(e,n){n(t)}))}function Se(t,e,n){xe(t,e,n,null)||pe(b(e,t))}function Ne(t){return new ge((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Se(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function ke(t,e){if(t.a==me)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==me&&1==r?ke(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ce(n),Le(n,i,we,e)))}t.c=null}else Re(t,we,e)}function Oe(t,e){t.b||t.a!=be&&t.a!=we||Pe(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=Te(null,null,null);return i.a=new ge((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Oe(t,i),i.a}function Re(t,e,n){t.a==me&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,xe(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Pe(t),e!=we||n instanceof je||function(t,e){t.g=!0,pe((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function xe(t,e,n,r){if(t instanceof ge)return Oe(t,Te(e||c,n||null,r)),!0;if(O(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Pe(t){t.h||(t.h=!0,pe(t.fc,t))}function Ce(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(t){Ue.call(null,t)}C(Ee,e)}function Me(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ge.prototype.then=function(t,e,n){return De(this,f(t)?t:null,f(e)?e:null,n)},ge.prototype.$goog_Thenable=!0,(t=ge.prototype).na=function(t,e){return(t=Te(t,t,e)).c=!0,Oe(this,t),this},t.s=function(t,e){return De(this,null,t,e)},t.cancel=function(t){if(this.a==me){var e=new je(t);pe((function(){ke(this,e)}),this)}},t.Zc=function(t){this.a=me,Re(this,be,t)},t.$c=function(t){this.a=me,Re(this,we,t)},t.fc=function(){for(var t;t=Ce(this);)Le(this,t,this.a,this.i);this.h=!1};var Ue=le;function je(t){D.call(this,t)}function Ve(){this.xa=this.xa,this.oa=this.oa}I(je,D),je.prototype.name="cancel";function Fe(t){if(!t.xa&&(t.xa=!0,t.Da(),0))(function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++v)})(t)}Ve.prototype.xa=!1,Ve.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var qe=Object.freeze||function(t){return t},Be=!zt||9<=Number(Zt),Ge=zt&&!ee("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(t){}return t}();function He(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ke(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Wt){t:{try{Ft(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:We[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}He.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Ke,He);var We=qe({2:"touch",3:"pen",4:"mouse"});Ke.prototype.preventDefault=function(){Ke.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ke.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++$e,this.va=this.Oa=!1}function Je(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function Qe(t){this.src=t,this.a={},this.b=0}function Ze(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(Je(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function tn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}Qe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=tn(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new Ye(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var en="closure_lm_"+(1e6*Math.random()|0),nn={};function rn(t,e,n,r,i){if(r&&r.once)sn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)rn(t,e[o],n,r,i);else n=vn(n),t&&t[Xe]?gn(t,e,n,p(r)?!!r.capture:!!r,i):on(t,e,n,!1,r,i)}function on(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=pn(t);if(a||(t[en]=a=new Qe(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=fn,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=vn(n),t&&t[Xe]?mn(t,e,n,p(r)?!!r.capture:!!r,i):on(t,e,n,!0,r,i)}function an(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=vn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=tn(o=t.a[e],n,r,i))&&(Je(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=pn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=tn(e,n,r,i)),(n=-1<t?e[t]:null)&&un(n))}function un(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])Ze(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pn(e))?(Ze(n,t),0==n.b&&(n.src=null,e[en]=null)):Je(t)}}}function cn(t){return t in nn?nn[t]:nn[t]="on"+t}function hn(t,e,n,r){var i=!0;if((t=pn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=ln(o,r),i=i&&!1!==o)}return i}function ln(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&un(t),n.call(r,e)}function fn(t,e){if(t.va)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ke(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=hn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=hn(r[i],t,!1,e),n=n&&o}return n}return ln(t,new Ke(e,this))}function pn(t){return(t=t[en])instanceof Qe?t:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(t){return f(t)?t:(t[dn]||(t[dn]=function(e){return t.handleEvent(e)}),t[dn])}function yn(){Ve.call(this),this.v=new Qe(this),this.$b=this,this.fb=null}function gn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function mn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function bn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&Ze(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function wn(t,e,n){if(f(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function In(t){var e=null;return new ge((function(n,r){-1==(e=wn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw s.clearTimeout(e),t}))}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(l(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function _n(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof _n)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Sn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Sn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(yn,Ve),yn.prototype[Xe]=!0,yn.prototype.addEventListener=function(t,e,n,r){rn(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){an(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new He(t,n);else if(t instanceof He)t.target=t.target||n;else{var i=t;pt(t=new He(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=bn(s,r,!0,t)&&i}if(i=bn(s=t.b=n,r,!0,t)&&i,i=bn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=bn(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Je(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=_n.prototype).V=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Sn(this.b,t)?this.b[t]:e},t.set=function(t,e){Sn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof kn?(this.i=void 0!==e?e:t.i,On(this,t.f),this.l=t.l,this.a=t.a,Dn(this,t.g),this.c=t.c,Rn(this,Yn(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,On(this,n[1]||"",!0),this.l=Mn(n[2]||""),this.a=Mn(n[3]||"",!0),Dn(this,n[4]),this.c=Mn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Mn(n[7]||"")):(this.i=!!e,this.b=new zn(null,this.i))}function On(t,e,n){t.f=n?Mn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof zn?(t.b=e,function(t,e){e&&!t.f&&(Hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Wn(this,e),$n(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Un(e,Bn)),t.b=new zn(e,t.i))}function xn(t,e,n){t.b.set(e,n)}function Pn(t,e){return t.b.get(e)}function Cn(t){return t instanceof kn?new kn(t):new kn(t,void 0)}function Ln(t,e,n,r){var i=new kn(null,void 0);return t&&On(i,t),e&&(i.a=e),n&&Dn(i,n),r&&(i.c=r),i}function Mn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,jn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Un(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Un(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?qn:Fn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Un(n,Gn)),t.join("")},kn.prototype.resolve=function(t){var e=new kn(this),n=!!t.f;n?On(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Dn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(it(i,"./")||it(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Rn(e,Yn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Fn=/[#\?:]/g,qn=/[#\?]/g,Bn=/[#\?@]/g,Gn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(t){t.a||(t.a=new _n,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?$n(n,i,o):n.add(i,o)}return n}function Wn(t,e){Hn(t),e=Jn(t,e),Sn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Sn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Xn(t,e){return Hn(t),e=Jn(t,e),Sn(t.a.b,e)}function $n(t,e,n){Wn(t,e),0<n.length&&(t.c=null,t.a.set(Jn(t,e),X(n)),t.b+=n.length)}function Yn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new _n(t.a),e.b=t.b),e}function Jn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Qn(t){var e=[];return tr(new Zn,t,e),e.join("")}function Zn(){}function tr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),tr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),rr(r,n),n.push(":"),tr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":rr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=zn.prototype).add=function(t,e){Hn(this),this.c=null,t=Jn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Hn(this),this.a.forEach((function(n,r){F(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Hn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Hn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=W(e,this.a.get(Jn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Hn(this),this.c=null,Xn(this,t=Jn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var er={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},nr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rr(t,e){e.push('"',t.replace(nr,(function(t){var e=er[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),er[t]=e),e})),'"')}function ir(){var t=_r();return zt&&!!Zt&&11==Zt||/Edge\/\d+/.test(t)}function or(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function sr(t,e){e=e||s.window;var n="about:blank";t&&(n=kt(Dt(t))),e.location.href=n}function ar(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<ar(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function ur(t){return!!((t=(t||_r()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function cr(t){t=t||s.window;try{t.close()}catch(t){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=_r().toLowerCase(),r&&(e.target=r,it(n,"crios/")&&(e.target="_blank")),Ir(_r())==br&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Dt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(dt(s=ce(document,"A"),"HTMLAnchorElement"),e instanceof Nt||e instanceof Nt||(e="object"==typeof e&&e.sa?e.ra():String(e),Ot.test(e)||(e="about:invalid#zClosurez"),e=new Nt(xt,e)),s.href=kt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=kt(e),s&&(Kt&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Mt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">'),r=s.document)&&(r.write(Ct(t)),r.close())):(s=r.open(kt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new ge((function(e){"complete"==s.document.readyState?e():(t=function(){e()},sn(window,"load",t))})).s((function(e){throw an(window,"load",t),e}))}function dr(t){return t=t||_r(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function yr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function gr(){return js.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":js.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function mr(){var t=gr();return"ReactNative"===t||"Node"===t}var br="Firefox",wr="Chrome";function Ir(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?br:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":wr:"Safari"}var Er={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Tr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=gr())?r=Ir(i=_r()):"Worker"===r&&(r=Ir(i=_r())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function _r(){return s.navigator&&s.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Sr(){try{var t=s.localStorage,e=Cr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ir()||!!s.indexedDB}catch(t){return yr()&&!!s.indexedDB}return!1}function Nr(){return(kr()||"chrome-extension:"===Or()||dr())&&!mr()&&Sr()&&!yr()}function kr(){return"http:"===Or()||"https:"===Or()}function Or(){return s.location&&s.location.protocol||null}function Dr(t){return!ur(t=t||_r())&&Ir(t)!=br}function Rr(t){return void 0===t?null:Qn(t)}function xr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Pr(t){if(null!==t)return JSON.parse(t)}function Cr(t){return t||Math.floor(1e9*Math.random()).toString()}function Lr(t){return"Safari"!=Ir(t=t||_r())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Mr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=_r(),e=gr(),this.b=ur(t)||"ReactNative"===e}function jr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Fr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function qr(){return!(!Ar("fireauth.oauthhelper",s)&&!Ar("fireauth.iframe",s))}Ur.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!kr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Gr={};function zr(t){Gr[t]||(Gr[t]=!0,Vr(t))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Hr.abcd}catch(Bt){Br=!1}function Kr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Wr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Kr(t,n,e[n])}function Xr(t){var e={};return Wr(e,t),e}function $r(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Kr(e,n,$r(t[n]));return e}function Yr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Kr(this,"uid",t[ti]),Kr(this,"displayName",t[Qr]||null);var n=null;t[Zr]&&(n=new Date(t[Zr]).toUTCString()),Kr(this,"enrollmentTime",n),Kr(this,"factorId",e)}function Jr(t){try{var e=new ni(t)}catch(t){e=null}return e}Yr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Qr="displayName",Zr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Yr.call(this,t),Kr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[ai],r=t[ci],i=t[hi];if(t=Jr(t[ui]),!i||i!=oi&&i!=si&&!n||i==si&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[fi]=n||null,e[di]=n||null,e[li]=r):(e[fi]=r||null,e[di]=r||null,e[li]=n||null),e[pi]=t||null,Kr(this,yi,i),Kr(this,vi,$r(e))}I(ni,Yr),ni.prototype.w=function(){var t=ni.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ai="email",ui="mfaInfo",ci="newEmail",hi="requestType",li="email",fi="fromEmail",pi="multiFactorInfo",di="previousEmail",vi="data",yi="operation";function gi(t){var e=Pn(t=Cn(t),mi)||null,n=Pn(t,bi)||null,r=Pn(t,Ei)||null;if(r=r&&_i[r]||null,!e||!n||!r)throw new E("argument-error",mi+", "+bi+"and "+Ei+" are required in a valid action code URL.");Wr(this,{apiKey:e,operation:r,code:n,continueUrl:Pn(t,wi)||null,languageCode:Pn(t,Ii)||null,tenantId:Pn(t,Ti)||null})}var mi="apiKey",bi="oobCode",wi="continueUrl",Ii="languageCode",Ei="mode",Ti="tenantId",_i={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new gi(t)}catch(t){return null}}function Si(t){var e=t[Ri];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ni];if(n&&"object"==typeof n){e=n[Ci];var r=n[xi];if(n=n[Pi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",xi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Pi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Ci+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ni+" property must be a non null object when specified.");if(this.f=null,(e=t[Di])&&"object"==typeof e){if("string"==typeof(e=e[Li])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Li+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Di+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new E("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ki])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",ki+" property must be a non empty string when specified.");this.i=t||null}var Ni="android",ki="dynamicLinkDomain",Oi="handleCodeInApp",Di="iOS",Ri="url",xi="installApp",Pi="minimumVersion",Ci="packageName",Li="bundleId";function Mi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Vi(t){var e=qi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Fi(t){try{return new Vi(t)}catch(t){return null}}function qi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(ji(t))}catch(t){}return null}Vi.prototype.S=function(){return this.f},Vi.prototype.i=function(){return this.b},Vi.prototype.toString=function(){return this.g};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],zi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Gi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Gi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Gi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Bi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Hi(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Ki(t){var e={};e["facebook.com"]=Ji,e["google.com"]=Zi,e["github.com"]=Qi,e["twitter.com"]=to;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Yi(t);if(void 0!==t[Wi])return new $i(t)}catch(t){}return null}var Wi="idToken",Xi="providerId";function $i(t){var e=t[Xi];if(!e&&t[Wi]){var n=Fi(t[Wi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Kr(this,"providerId",e),Kr(this,"isNewUser",n)}function Yi(t){$i.call(this,t),Kr(this,"profile",$r((t=Pr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qi(t){if(Yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if(Yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",t.screenName||null)}function eo(t){var e=Cn(t),n=Pn(e,"link"),r=Pn(Cn(n),"link");return e=Pn(e,"deep_link_id"),Pn(Cn(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}I(Yi,$i),I(Ji,Yi),I(Qi,Yi),I(Zi,Yi),I(to,Yi);var ro="enroll",io="signin";function oo(){}function so(t,e){return t.then((function(t){if(t[Ys]){var n=Fi(t[Ys]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new E("user-mismatch"):t}))}function ao(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Kr(this,"providerId",t),Kr(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(t){}return null}function ho(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Kr(this,"idToken",e.idToken),e.accessToken&&Kr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Kr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Kr(this,"accessToken",e.oauthToken),Kr(this,"secret",e.oauthTokenSecret)}Kr(this,"providerId",t),Kr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Kn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ho(t.providerId,e,t.signInMethod)}catch(t){}}return null}function po(t,e){this.Pc=e||[],Wr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Hi(t)||{}).Ja||null,this.nb=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function yo(t){po.call(this,t,Gi),this.a=[]}function go(){yo.call(this,"facebook.com")}function mo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function bo(){yo.call(this,"github.com")}function wo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){yo.call(this,"google.com"),this.Ca("profile")}function Eo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function To(){po.call(this,"twitter.com",Bi)}function _o(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ho("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,Kr(this,"providerId","password"),Kr(this,"signInMethod",n===No.EMAIL_LINK_SIGN_IN_METHOD?No.EMAIL_LINK_SIGN_IN_METHOD:No.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function No(){Wr(this,{providerId:"password",isOAuthProvider:!1})}function ko(t,e){if(!(e=Oo(e)))throw new E("argument-error","Invalid email link!");return new Ao(t,e.code,No.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ai(t=eo(t)))&&t.operation===oi?t:null}function Do(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new E("internal-error");this.a=t,Kr(this,"providerId","phone"),this.fa="phone",Kr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Do(e)}return null}function xo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Po(t){try{this.a=t||js.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wr(this,{providerId:"phone",isOAuthProvider:!1})}function Co(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Do({cb:t,bb:e})}function Lo(t){if(t.temporaryProof&&t.phoneNumber)return new Do({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Eo(o,n);case"facebook.com":return mo(n);case"github.com":return wo(n);case"twitter.com":return _o(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ao(e,s):new ho(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Mo(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Vo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return this.a?_e(this.a):_e(this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ja=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},ao.prototype.ja=function(t){return ma(t,uo(this))},ao.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,ba(t,n)},ao.prototype.c=function(t,e){return so(wa(t,uo(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ho.prototype.ja=function(t){return ma(t,lo(this))},ho.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ba(t,n)},ho.prototype.c=function(t,e){return so(wa(t,lo(this)),e)},ho.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Hb=lt(t),this},I(vo,po),I(yo,po),yo.prototype.Ca=function(t){return z(this.a,t)||this.a.push(t),this},yo.prototype.Pb=function(){return X(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new ho(this.providerId,n,this.providerId)},I(go,yo),Kr(go,"PROVIDER_ID","facebook.com"),Kr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(bo,yo),Kr(bo,"PROVIDER_ID","github.com"),Kr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Io,yo),Kr(Io,"PROVIDER_ID","google.com"),Kr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),I(To,po),Kr(To,"PROVIDER_ID","twitter.com"),Kr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ja=function(t){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?eu(t,ka,{email:this.a,oobCode:this.f}):eu(t,Ya,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?eu(t,Oa,{idToken:e,email:this.a,oobCode:this.f}):eu(t,Ba,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return so(this.ja(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Wr(No,{PROVIDER_ID:"password"}),Wr(No,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wr(No,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ja=function(t){return t.eb(xo(this))},Do.prototype.b=function(t,e){var n=xo(this);return n.idToken=e,eu(t,Qa,n)},Do.prototype.c=function(t,e){var n=xo(this);return n.operation="REAUTH",so(t=eu(t,Za,n),e)},Do.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.eb=function(t,e){var n=this.a.a;return _e(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then((function(t){return function(t,e){return eu(t,za,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==io?i.Ha().then((function(e){return function(t,e){return eu(t,Ha,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return eu(t,Fa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Wr(Po,{PROVIDER_ID:"phone"}),Wr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.S=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Fo,qo=null;function Bo(t){var e="unauthorized-domain",n=void 0,r=Cn(t);t=r.a,"chrome-extension"==(r=r.f)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Go(t,e,n){E.call(this,t,n),(t=e||{}).Ib&&Kr(this,"email",t.Ib),t.ea&&Kr(this,"phoneNumber",t.ea),t.credential&&Kr(this,"credential",t.credential),t.Yb&&Kr(this,"tenantId",t.Yb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Lo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Go(e,n,t.message)}return null}function Ho(){}function Ko(t){return t.c||(t.c=t.b())}function Wo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.pc,this),this.a.onerror=m(this.Rb,this),this.a.onprogress=m(this.qc,this),this.a.ontimeout=m(this.uc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Qo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Zo(t){this.f=t,this.b=this.c=this.a=null}function ts(t,e){this.name=t,this.value=e}I(Bo,E),I(Go,E),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Go.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,I(Wo,Ho),Wo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Wo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},Fo=new Wo,I($o,Ho),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Qo.prototype.a=null,Qo.prototype.reset=function(t,e,n,r,i){delete this.a},ts.prototype.toString=function(){return this.name};var es=new ts("SEVERE",1e3),ns=new ts("WARNING",900),rs=new ts("CONFIG",700),is=new ts("FINE",500);function os(t){return t.c?t.c:t.a?os(t.a):(x("Root logger has no level set."),null)}Zo.prototype.log=function(t,e,n){if(t.value>=os(this).value)for(f(e)&&(e=e()),t=new Qo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ss={},as=null;function us(t){var e;if(as||(as=new Zo(""),ss[""]=as,as.c=rs),!(e=ss[t])){e=new Zo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=us(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ss[t]=e}return e}function cs(t,e){t&&t.log(is,e,void 0)}function hs(t){this.f=t}function ls(t){yn.call(this),this.o=t,this.readyState=fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=us("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}I(hs,Ho),hs.prototype.a=function(){return new ls(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),I(ls,yn);var fs=0;function ps(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ds(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ys(t){yn.call(this),this.headers=new _n,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=gs,this.u=this.R=!1}(t=ls.prototype).open=function(t,e){if(this.readyState!=fs)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,vs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ds(this,!1)),this.readyState=fs},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ps(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ds(this,!0):vs(this),3==this.readyState&&ps(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ds(this,!0))},t.rc=function(t){this.a&&(this.response=t,ds(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(ns,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ds(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ns,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ns,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},I(ys,yn);var gs="";ys.prototype.b=us("goog.net.XhrIo");var ms=/^https?$/i,bs=["POST","PUT"];function ws(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Fo.a(),t.A=t.O?Ko(t.O):Ko(Fo),t.a.onreadystatechange=m(t.Ub,t);try{cs(t.b,Os(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return cs(t.b,Os(t,"Error opening Xhr: "+e.message)),void Es(t,e)}e=r||"";var o=new _n(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)F(t,e,void 0);else for(var n=Tn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Is,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!z(bs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ss(t),0<t.g&&(t.u=function(t){return zt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),cs(t.b,Os(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ma,t)):t.o=wn(t.Ma,t.g,t)),cs(t.b,Os(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){cs(t.b,Os(t,"Send error: "+e.message)),Es(t,e)}}function Is(t){return"content-type"==t.toLowerCase()}function Es(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ts(t),As(t)}function Ts(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _s(t){if(t.c&&void 0!==o)if(t.A[1]&&4==Ns(t)&&2==ks(t))cs(t.b,Os(t,"Local request error detected and ignored"));else if(t.i&&4==Ns(t))wn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ns(t)){cs(t.b,Os(t,"Request complete")),t.c=!1;try{var e,n=ks(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Nn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!ms.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ns(t)?t.a.statusText:""}catch(e){cs(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+ks(t)+"]",Ts(t)}}finally{As(t)}}}function As(t,e){if(t.a){Ss(t);var n=t.a,r=t.A[0]?c:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(es,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ss(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(s.clearTimeout(t.o),t.o=null)}function Ns(t){return t.a?t.a.readyState:0}function ks(t){try{return 2<Ns(t)?t.a.status:-1}catch(t){return-1}}function Os(t,e){return e+" ["+t.P+" "+t.l+" "+ks(t)+"]"}function Ds(t){var e=Bs;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ls(t)}function xs(t){if(t.a){if(!t.m)throw new Ms(t);t.m=!1}}function Ps(t,e,n,r){t.g.push([e,n,r]),t.a&&Ls(t)}function Cs(t){return G(t.g,(function(t){return f(t[1])}))}function Ls(t){if(t.h&&t.a&&Cs(t)){var e=t.h,n=Fs[e];n&&(s.clearTimeout(n.a),delete Fs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(O(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Cs(t)||(n=!0)}}t.c=e,r&&(u=m(t.v,t,!0),r=m(t.v,t,!1),e instanceof Ds?(Ps(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Vs(e),Fs[e.a]=e,t.h=e.a)}function Ms(){D.call(this)}function Us(){D.call(this)}function Vs(t){this.a=s.setTimeout(m(this.c,this),0),this.b=t}(t=ys.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",cs(this.b,Os(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(cs(this.b,Os(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),As(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),As(this,!0)),ys.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?_s(this):this.Ic())},t.Ic=function(){_s(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case gs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(es,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return cs(this.b,"Can not get response: "+t.message),null}},Ds.prototype.cancel=function(t){if(this.a)this.c instanceof Ds&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Us(this),xs(this),Rs(this,!1,t))}},Ds.prototype.v=function(t,e){this.i=!1,Rs(this,t,e)},Ds.prototype.then=function(t,e,n){var r,i,o=new ge((function(t,e){r=t,i=e}));return Ps(this,r,(function(t){t instanceof Us?o.cancel():i(t)})),o.then(t,e,n)},Ds.prototype.$goog_Thenable=!0,I(Ms,D),Ms.prototype.message="Deferred has already fired",Ms.prototype.name="AlreadyCalledError",I(Us,D),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",Vs.prototype.c=function(){throw delete Fs[this.a],this.b};var Fs={};function qs(t){var e,n=document,r=It(t).toString(),i=ce(document,"SCRIPT"),o={Vb:i,Ma:void 0},c=new Ds(o);return e=window.setTimeout((function(){Gs(i,!0);var t=new Ks(Hs,"Timeout reached for loading script "+r);xs(c),Rs(c,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Gs(i,!1,e),xs(c),Rs(c,!0,null))},i.onerror=function(){Gs(i,!0,e);var t=new Ks(zs,"Error while loading script "+r);xs(c),Rs(c,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ie(i,o),function(t,e){dt(t,"HTMLScriptElement"),t.src=It(e),null===u&&(u=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function Bs(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Gs(t,!0,this.Ma)}}function Gs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var zs=0,Hs=1;function Ks(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ws(t){this.f=t}function Xs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Js,this.g=lt(t.secureTokenHeaders||Qs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Zs,this.a=lt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==gr(),!(n=s.XMLHttpRequest||n&&js.INTERNAL.node&&js.INTERNAL.node.XMLHttpRequest)&&!yr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new hs(self):mr()?this.f=new Ws(n):this.f=new $o,this.b=null}I(Ks,D),I(Ws,Ho),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var $s,Ys="idToken",Js=new Ur(3e4,6e4),Qs={"Content-Type":"application/x-www-form-urlencoded"},Zs=new Ur(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Cn(t),e=Cn(e.url),t.c=t.a+t.c,On(t,e.f),t.a=e.a,Dn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,a){(function(){var t=_r();return!((t=Ir(t)!=wr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&Zt&&!(9<Zt))})()||yr()?t=m(t.u,t):($s||($s=new ge((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ps(t,null,e,void 0)}(qs(Et(sa,{onload:aa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=m(t.o,t)),t(e,n,r,i,o,a)}Xs.prototype.S=function(){return this.b},Xs.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ys(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}gn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return cs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),mn(a,"ready",(function(){u&&clearTimeout(u),Fe(this)})),mn(a,"timeout",(function(){u&&clearTimeout(u),Fe(this),e&&e(null)})),ws(a,t,n,r,i)};var sa=new vt(mt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t,e,n,r,i,o,s){var a=Cn(e+n);xn(a,"key",t.c),s&&xn(a,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&xn(a,c,i[c]);return new ge((function(e,n){oa(t,a.toString(),(function(t){t?t.error?n(ru(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Qn(xr(i)),t.a,t.m.get())}))}function ca(t){if("string"!=typeof(t=t.email)||!fr.test(t))throw new E("invalid-email")}function ha(t){"email"in t&&ca(t)}function la(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,lt(t));throw new E("internal-error")}}function fa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Xs.prototype.o=function(t,e,n,r,i){var o=this;$s.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Xs.prototype.yb=function(){return eu(this,Ga,{})},Xs.prototype.Ab=function(t,e){return eu(this,qa,{idToken:t,email:e})},Xs.prototype.Bb=function(t,e){return eu(this,Ba,{idToken:t,password:e})};var pa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function va(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ya(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Xn(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=nu(t.errorMessage)),e)throw e;la(t)}function ma(t,e){return e.returnIdpCredential=!0,eu(t,Ka,e)}function ba(t,e){return e.returnIdpCredential=!0,eu(t,Xa,e)}function wa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,eu(t,Wa,e)}function Ia(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Xs.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ct(pa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),eu(this,qa,n)},t.ub=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),eu(this,Ma,t)},t.vb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),eu(this,Pa,t)},t.tb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),eu(this,Ca,t)},t.Db=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),eu(this,La,t)},t.eb=function(t){return eu(this,Ja,t)},t.mb=function(t,e){return eu(this,Va,{oobCode:t,newPassword:e})},t.Qa=function(t){return eu(this,Ta,{oobCode:t})},t.ib=function(t){return eu(this,Ea,{oobCode:t})};var Ea={endpoint:"setAccountInfo",B:Ia,Z:"email",C:!0},Ta={endpoint:"resetPassword",B:Ia,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},_a={endpoint:"signupNewUser",B:function(t){if(ca(t),!t.password)throw new E("weak-password")},F:la,U:!0,C:!0},Aa={endpoint:"createAuthUri",C:!0},Sa={endpoint:"deleteAccount",M:["idToken"]},Na={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=h(t.deleteProvider))throw new E("internal-error")}},ka={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ca,F:la,U:!0,C:!0},Oa={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ca,F:la,U:!0},Da={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:da,F:la,C:!0,Na:!0},Ra={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:da,F:la,C:!0,Na:!0},xa={endpoint:"getAccountInfo"},Pa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ca(t)},Z:"email",C:!0},Ca={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},La={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},Ma={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ca(t)},Z:"email",C:!0},Ua={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},ja={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Va={endpoint:"resetPassword",B:Ia,Z:"email",C:!0},Fa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},qa={endpoint:"setAccountInfo",M:["idToken"],B:ha,U:!0},Ba={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ha(t),!t.password)throw new E("weak-password")},F:la,U:!0},Ga={endpoint:"signupNewUser",F:la,U:!0,C:!0},za={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},Ha={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},Ka={endpoint:"verifyAssertion",B:va,Xa:ya,F:ga,U:!0,C:!0},Wa={endpoint:"verifyAssertion",B:va,Xa:ya,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw nu(t.errorMessage);la(t)},U:!0,C:!0},Xa={endpoint:"verifyAssertion",B:function(t){if(va(t),!t.idToken)throw new E("internal-error")},Xa:ya,F:ga,U:!0},$a={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new E("invalid-custom-token")},F:la,U:!0,C:!0},Ya={endpoint:"verifyPassword",B:function(t){if(ca(t),!t.password)throw new E("wrong-password")},F:la,U:!0,C:!0},Ja={endpoint:"verifyPhoneNumber",B:fa,F:la,C:!0},Qa={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new E("internal-error");fa(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);la(t)}},Za={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:fa,F:la,C:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Ys]^!!t.refreshToken)throw new E("internal-error")},C:!0,Na:!0};function eu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ae(new E("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return _e(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ua(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]}))}function nu(t){return ru({error:{errors:[{message:t}],code:400,message:t}})}function ru(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Rr(t)),new E("internal-error",e)}function iu(t){this.b=t,this.a=null,this.qb=function(t){return(uu||(uu=new ge((function(t,e){function n(){Mr(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Mr(),e(Error("Network Error"))},timeout:su.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},_e(qs(r=Et(ou,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw uu=null,t})))).then((function(){return new ge((function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),au.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ou=new vt(mt,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Ur(3e4,6e4),au=new Ur(5e3,15e3),uu=null;function cu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Ln((t=Cn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Ln("https",this.l,null,"/__/auth/iframe"),this.a=t,xn(this.a,"apiKey",this.h),xn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return js.app(t).auth().Ga()}catch(t){return[]}}function fu(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function pu(t){var e=or();return function(t){return eu(t,Ua,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Cn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Cn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:lr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Bo(or())}))}function du(t){return t.v||(t.v=pr().then((function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new cu(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.m=new iu(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",_e(n)}return n.status="ERROR",_e(n)}))}(t)}))),t.v}function vu(t){return t.l||(t.A=t.c?Tr(t.c,lu(t.b)):null,t.l=new Xs(t.g,k(t.i),t.A),t.f&&na(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,s,a,u,c,h,l){return(t=new hu(t,e,n,r,i,l)).l=o,t.g=s,t.i=a,t.b=lt(u||null),t.f=c,t.xb(h).toString()}function gu(t){if(this.a=t||js.INTERNAL.reactNative&&js.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function mu(t){this.b=t,this.a={},this.f=m(this.c,this)}cu.prototype.toString=function(){return this.f?xn(this.a,"v",this.f):Wn(this.a.b,"v"),this.b?xn(this.a,"eid",this.b):Wn(this.a.b,"eid"),this.c.length?xn(this.a,"fw",this.c.join(",")):Wn(this.a.b,"fw"),this.a.toString()},hu.prototype.xb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.m){var t=Cn(this.m.url);t=Ln(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Ln("https",this.u,null,"/__/auth/handler");if(xn(t,"apiKey",this.o),xn(t,"appName",this.c),xn(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=js.app(this.c).auth().ka()}catch(t){n=null}for(var r in e.nb=n,xn(t,"providerId",this.a.providerId),e=xr((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=lt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),ht(e)||xn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Pb&&((n=this.a.Pb()).length&&xn(t,"scopes",n.join(","))),this.l?xn(t,"redirectUrl",this.l):Wn(t.b,"redirectUrl"),this.g?xn(t,"eventId",this.g):Wn(t.b,"eventId"),this.i?xn(t,"v",this.i):Wn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Pn(t,s)&&xn(t,s,this.b[s]);return this.h?xn(t,"tid",this.h):Wn(t.b,"tid"),this.f?xn(t,"eid",this.f):Wn(t.b,"eid"),(s=lu(this.c)).length&&xn(t,"fw",s.join(",")),t.toString()},(t=fu.prototype).Nb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return du(t).then((function(){return function(t,e){return t.qb.then((function(){return new ge((function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&cr(t),e(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(t){return new ge((function(e){return function n(){In(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return In(n).then((function(){e(r)}))}))},t.Wb=function(){var t=_r();return!Dr(t)&&!Lr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new E("popup-blocked"));if(s&&!Dr())return this.la().s((function(e){cr(t),i(e)})),r(),_e();this.a||(this.a=pu(vu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw cr(t),i(e),e}));return r(),e})).then((function(){(Mo(n),s)||sr(yu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=pu(vu(this)));var i=this;return this.a.then((function(){Mo(e),sr(yu(i.o,i.g,i.b,t,e,or(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return du(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new E("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){K(this.h,(function(e){return e==t}))},(t=gu.prototype).get=function(t){return _e(this.a.getItem(t)).then((function(t){return t&&Pr(t)}))},t.set=function(t,e){return _e(this.a.setItem(t,Rr(e)))},t.T=function(t){return _e(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bu,wu=[];function Iu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Eu(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function _u(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ge((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Au(t,c),e})).s((function(e){throw Au(t,c),e}))}function Au(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(t.a,(function(t){return t==e}))}}function Su(){if(!Ou())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;yr()&&self?(this.l=function(){var t=yr()?self:null;if(F(wu,(function(n){n.b==t&&(e=n)})),!e){var e=new mu(t);wu.push(e)}return e}(),Iu(this.l,"keyChanged",(function(e,n){return Cu(t).then((function(e){return 0<e.length&&F(t.a,(function(t){t(e)})),{keyProcessed:z(e,n.key)}}))})),Iu(this.l,"ping",(function(){return _e(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?_e().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):_e(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new Eu(e)),_u(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Nu(t){return new ge((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ge((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).s((function(t){n(t)}))}}))}function ku(t){return t.v||(t.v=Nu(t)),t.v}function Ou(){try{return!!s.indexedDB}catch(t){return!1}}function Du(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function xu(t){return new ge((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Pu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?_u(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):_e()}function Cu(t){return ku(t).then((function(t){var e=Du(Ru(t,!1));return e.getAll?xu(e.getAll()):new ge((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=ar(t.c,n),t.c=n}return r}))}function Lu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=_e().then((function(){if(Ou()){var t=Cr(),r="__sak"+t;return bu||(bu=new Su),(n=bu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){F(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function ju(){if(!function(){var t="Node"==gr();if(!(t=Vu()||t&&js.INTERNAL.node&&js.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==gr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Vu()||js.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var t=s.localStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Fu(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==gr();if(!(t=Bu()||t&&js.INTERNAL.node&&js.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==gr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Bu()||js.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=s.sessionStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){var t={};t.Browser=Ku,t.Node=Wu,t.ReactNative=Xu,t.Worker=$u,this.a=t[gr()]}mu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];F(r,(function(e){i.push(_e().then((function(){return e(t.origin,t.data.data)})))})),Ne(i).then((function(r){var i=[];F(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),F(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Eu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Su.prototype).set=function(t,e){var n,r=!1,i=this;return ku(this).then((function(e){return xu((e=Du(Ru(n=e,!0))).get(t))})).then((function(o){var s=Du(Ru(n,!0));return o?(o.value=e,xu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,xu(s.add(o)))})).then((function(){return i.c[t]=e,Pu(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return ku(this).then((function(e){return xu(Du(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return ku(this).then((function(r){return e=!0,n.b++,xu(Du(Ru(r,!0)).delete(t))})).then((function(){return delete n.c[t],Pu(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.i=Cu(t).then((function(e){0<e.length&&F(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Lu(t),e()}(this),this.a.push(t)},t.ia=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&Lu(this)},(t=Mu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){K(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return _e(this.a[t])},t.set=function(t,e){return this.a[t]=e,_e()},t.T=function(t){return delete this.a[t],_e()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return _e().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&rn(s.window,"storage",t)},t.ia=function(t){s.window&&an(s.window,"storage",t)},(t=Fu.prototype).get=function(){return _e(null)},t.set=function(){return _e()},t.T=function(){return _e()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return _e().then((function(){return Pr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var zu,Hu,Ku={D:ju,ab:qu},Wu={D:ju,ab:qu},Xu={D:gu,ab:Fu},$u={D:ju,ab:Fu},Yu={qd:"local",NONE:"none",sd:"session"};function Ju(){var t=!(Lr(_r())||!vr()),e=Dr(),n=Sr();this.v=t,this.h=e,this.l=n,this.a={},zu||(zu=new Gu),t=zu;try{this.g=!ir()&&qr()||!s.indexedDB?new t.a.D:new Mu(yr()?new Uu:new t.a.D)}catch(t){this.g=new Uu,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new Uu}this.m=new Uu,this.f=m(this.Xb,this),this.b={}}function Qu(){return Hu||(Hu=new Ju),Hu}function Zu(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.D&&(t.b[n]=null),Zu(t,e.D).T(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function rc(t){this.a=t,this.b=Qu()}(t=Ju.prototype).get=function(t,e){return Zu(this,t.D).get(tc(t,e))},t.set=function(t,e,n){var r=tc(t,n),i=this,o=Zu(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(Zu(this,"local").ca(this.f),this.h||(ir()||!qr())&&s.indexedDB||!this.l||function(t){nc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ke({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(Zu(this,"local").ia(this.f),nc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zu(this,"local").ia(this.f):nc(this),this.v)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.lb(e))},zt&&Zt&&10==Zt&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else F(t,m(this.lb,this))},t.lb=function(t){this.a[t]&&F(this.a[t],(function(t){t()}))};var ic,oc={name:"authEvent",D:"local"};function sc(){this.a=Qu()}function ac(t,e){this.b=uc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ic&&(ic=s.Int32Array?new Int32Array(vc):vc),this.reset()}I(ac,(function(){this.b=-1}));for(var uc=64,cc=uc-1,hc=[],lc=0;lc<cc;lc++)hc[lc]=0;var fc=W(128,hc);function pc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|ic[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function dc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(pc(t),i=0);else{if(!l(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(pc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var vc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){ac.call(this,8,gc)}I(yc,ac);var gc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function mc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new sc,this.g=new rc(this.h),this.f=null,this.b=[],this.a=this.c=null}function bc(t){return new E("invalid-cordova-configuration",t)}function wc(t){var e=new yc;dc(e,t),t=[];var n=8*e.g;56>e.c?dc(e,fc,56-e.c):dc(e,fc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(pc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ic(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ec(t){return t.f||(t.f=t.la().then((function(){return new ge((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Tc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Pr(Pn(o=Cn(i),"firebaseError")||null))?T(o):null)?new Uo(r.c,r.b,null,null,o,null,r.S()):new Uo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Ic(t,i)}))}var n=new Uo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=In(500).then((function(){return Tc(t).then((function(){r||Ic(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},qo||(qo=new Vo),function(t){var e=qo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ar("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Tc(t){var e=null;return function(t){return t.b.get(oc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,ec((n=t.g).b,oc,n.a)})).then((function(){return e}))}function _c(t){this.a=t,this.b=Qu()}(t=mc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(dr(void 0)?pr().then((function(){return new ge((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ar("universalLinks.subscribe",s))throw bc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ar("BuildInfo.packageName",s))throw bc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ar("cordova.plugins.browsertab.openUrl",s))throw bc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ar("cordova.InAppBrowser.open",s))throw bc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Nb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),_e()},t.Lb=function(){return Ae(new E("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ae(new E("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=_e().then((function(){return Mo(e),Ec(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new E("no-auth-event"),null,i),u=Ar("BuildInfo.packageName",s);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",s),h={};if(_r().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!_r().toLowerCase().match(/android/))return Ae(new E("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=wc(o),h.sessionId=o;var l=yu(t.m,t.i,t.l,e,n,null,r,t.v,h,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(oc,a.w(),e)})).then((function(){var e=Ar("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Ar("cordova.plugins.browsertab.openUrl",s)))throw new E("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=Ar("cordova.InAppBrowser.open",s)))throw new E("invalid-cordova-configuration");e=_r(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ge((function(t,e){u=function(){var e=Ar("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=In(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},h=function(){jr()&&c()},o.addEventListener("resume",c,!1),_r().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).s((function(t){return Tc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Ec(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Ra=function(t){K(this.b,(function(e){return e==t}))};var Ac={name:"pendingRedirect",D:"session"};function Sc(t){return ec(t.b,Ac,t.a)}function Nc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=m(this.o,this),this.b=new Bc,this.A=new Wc,this.g=new _c(Fc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=kc(this.O,this.m,this.v,_,this.G)}function kc(t,e,n,r,i){var o=js.SDK_VERSION||null;return dr()?new mc(t,e,n,o,r,i):new fu(t,e,n,o,r,i)}function Oc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Dc(t){t.a.Wb()&&Oc(t).s((function(e){var n=new Uo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Mc(e)&&t.o(n)})),t.a.Sb()||Gc(t.b)}function Rc(t,e){z(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ac,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Sc(t.g).then((function(){Oc(t).s((function(e){var n=new Uo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Mc(e)&&t.o(n)}))})):Dc(t)})).s((function(){Dc(t)}))}function xc(t,e){K(t.h,(function(t){return t==e}))}Nc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=kc(this.O,this.m,this.v,null,this.G),this.i={}},Nc.prototype.o=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=w()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=w())),e=!0;break}}return Gc(this.b),e};var Pc=new Ur(2e3,1e4),Cc=new Ur(3e4,6e4);function Lc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Mc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Ac,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Mc(e))throw new E("operation-not-supported-in-this-environment");return o=e,Sc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new ge((function(){})):Sc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function jc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Pc.get())}Nc.prototype.qa=function(){return this.b.qa()};var Vc={};function Fc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function qc(t,e,n,r){var i=Fc(e,n,r);return Vc[i]||(Vc[i]=new Nc(t,e,n,r)),Vc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,Kc(t,!1,null,null))}function zc(t){t.g&&!t.i&&Kc(t,!1,null,null)}function Hc(t,e){if(t.b=function(){return _e(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Kc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Hc(t,n):Hc(t,{user:null}),t.f=[],t.c=[]}function Wc(){}function Xc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function $c(t,e){this.a=e,Kr(this,"verificationId",t)}function Yc(t,e,n,r){return new Po(t).eb(e,n).then((function(t){return new $c(t,r)}))}function Jc(t){var e=qi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wr(this,{token:t,expirationTime:Fr(1e3*e.exp),authTime:Fr(1e3*e.auth_time),issuedAtTime:Fr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Qc(t,e,n){var r=e&&e[th];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=lt(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;F(e[Zc]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),Kr(this,"auth",this.a),Kr(this,"session",this.c),Kr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Kc(this,!0,null,t.a),_e()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Kc(t,a,e,null)})).s((function(e){Kc(t,a,null,e)}))}(this,t,e):Ae(new E("invalid-auth-event")):(Kc(this,!1,null,null),_e())}else Ae(new E("invalid-auth-event"))},Bc.prototype.qa=function(){var t=this;return new ge((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=In(Cc.get()).then((function(){t.b||(t.g=!0,Kc(t,!0,null,e))}))}(t))}))},Wc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),_e()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Ae(new E("invalid-auth-event"))}else Ae(new E("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Co(this.verificationId,t),this.a(t)};var Zc="mfaInfo",th="mfaPendingCredential";function eh(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Qc(t,e,n),Kr(this,"resolver",this.b)}function nh(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new eh(e,t.serverResponse,n,t.message)}catch(t){}return null}function rh(){}function ih(t){Kr(this,"factorId",t.fa),this.a=t}function oh(t){if(ih.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function sh(t,e){for(var n in He.call(this,t),e)this[n]=e[n]}function ah(t,e){this.a=t,this.b=[],this.c=m(this.xc,this),rn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&F(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Qr]=t.displayName),t.enrollmentTime&&(r[Zr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),uh(this,n)}function uh(t,e){t.b=e,Kr(t,"enrolledFactors",e)}function ch(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function hh(t,e){t.stop(),t.b=In(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return jr()||!t?_e():new ge((function(n){e=function(){jr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){hh(t,!0)})).s((function(e){t.i(e)&&hh(t,!1)}))}function lh(t){this.c=t,this.b=this.a=null}function fh(t){return t.b&&1e3*t.b.c||0}function ph(t,e){var n=e.refreshToken;t.b=Fi(e[Ys]||""),t.a=n}function dh(t,e){return function(t,e){return new ge((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ru(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",Kn(e).toString(),t.g,t.v.get()):r(new E("internal-error"))}))}(t.c,e).then((function(e){return t.b=Fi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function vh(t,e){this.a=t||null,this.b=e||null,Wr(this,{lastSignInTime:Fr(e||null),creationTime:Fr(t||null)})}function yh(t,e,n,r,i,o){Wr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gh(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var r=js.SDK_VERSION?Tr(js.SDK_VERSION):null;this.a=new Xs(this.l,k(_),r),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new lh(this.a),Ah(this,e[Ys]),ph(this.b,e),Kr(this,"refreshToken",this.b.a),kh(this,n||{}),yn.call(this),this.P=!1,this.o&&Nr()&&(this.i=qc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new ch((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=fh(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.$=m(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.h)},this.ba=null,this.za=function(t){na(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){wh(i,t.f)},this.aa=null,this.N=new ah(this,n),Kr(this,"multiFactor",this.N)}function mh(t,e){t.ba&&an(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&rn(e,"languageCodeChanged",t.Ba)}function bh(t,e){t.W&&an(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&rn(e,"emulatorConfigChanged",t.za)}function wh(t,e){t.X=e,ia(t.a,js.SDK_VERSION?Tr(js.SDK_VERSION,t.X):null)}function Ih(t,e){t.aa&&an(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&rn(e,"frameworkChanged",t.Aa)}function Eh(t){try{return js.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Th(t){t.A||t.u.b||(t.u.start(),an(t,"tokenChanged",t.$),rn(t,"tokenChanged",t.$))}function _h(t){an(t,"tokenChanged",t.$),t.u.stop()}function Ah(t,e){t.ya=e,Kr(t,"_lat",e)}function Sh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ne(e).then((function(){return t}))}function Nh(t){t.i&&!t.P&&(t.P=!0,Rc(t.i,t))}function kh(t,e){Wr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new vh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Oh(){}function Dh(t){return _e().then((function(){if(t.A)throw new E("app-deleted")}))}function Rh(t){return B(t.providerData,(function(t){return t.providerId}))}function xh(t,e){e&&(Ph(t,e.providerId),t.providerData.push(e))}function Ph(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function Ch(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Kr(t,e,n)}function Lh(t,e){t!=e&&(Wr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Kr(t,"metadata",function(t){return new vh(t.a,t.b)}(e.metadata)):Kr(t,"metadata",new vh),F(e.providerData,(function(e){xh(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Kr(t,"refreshToken",t.b.a),uh(t.N,e.N.b))}function Mh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return eu(t.a,xa,{idToken:e}).then(m(t.Jc,t))}(t,e).then((function(){return n||Ch(t,"isAnonymous",!1),e}))}))}function Uh(t,e){e[Ys]&&t.ya!=e[Ys]&&(ph(t.b,e),t.dispatchEvent(new sh("tokenChanged")),Ah(t,e[Ys]),Ch(t,"refreshToken",t.b.a))}function jh(t,e){return Mh(t).then((function(){if(z(Rh(t),e))return Sh(t).then((function(){throw new E("provider-already-linked")}))}))}function Vh(t,e,n){return Xr({user:t,credential:Lo(e),additionalUserInfo:e=Ki(e),operationType:n})}function Fh(t,e){return Uh(t,e),t.reload().then((function(){return t}))}function qh(t,e,n,r,i){if(!Nr())return Ae(new E("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ae(t.f);var o=Hi(n.providerId),s=Cr(t.uid+":::"),a=null;(!Dr()||vr())&&t.o&&n.isOAuthProvider&&(a=yu(t.o,t.l,t.m,e,n,null,s,js.SDK_VERSION||null,null,null,t.tenantId));var u=hr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return Lc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new ge((function(n,r){t.ma(e,null,new E("cancelled-popup-request"),t.h||null),t.g=n,t.O=r,t.h=s,t.c=jc(t.i,t,e,u,s)}))})).then((function(t){return u&&cr(u),t?Xr(t):null})).s((function(t){throw u&&cr(u),t})),zh(t,r,i)}function Bh(t,e,n,r,i){if(!Nr())return Ae(new E("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ae(t.f);var o=null,s=Cr(t.uid+":::");return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Sh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Wh,t.w(),e.a)),e})).then((function(){return Uc(t.i,e,n,s,t.tenantId)})).s((function(e){if(o=e,t.ha)return Xh(t.ha);throw o})).then((function(){if(o)throw o})),zh(t,r,i)}function Gh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function zh(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ae(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new sh("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){H(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=nh(e.w(),Eh(t),m(t.ic,t))),n||e}))}function Hh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new gh(e,n,t);return t.providerData&&F(t.providerData,(function(t){t&&xh(r,Xr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Kh(t){this.a=t,this.b=Qu()}Qc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=lt(e.f);return delete n[Zc],delete n[th],pt(n,t),e.g(n)}))},I(eh,E),rh.prototype.rb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:xo(t.a)}),eu(e,Da,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:xo(t.a)}),eu(e,Ra,n)}))}(this,t,e)},I(ih,rh),I(oh,ih),I(sh,He),(t=ah.prototype).xc=function(t){uh(this,function(t){var e=[];return F(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new no(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Uh(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return eu(r,tu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return uh(e,r),Uh(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.w()}))}}},ch.prototype.start=function(){this.a=this.c,hh(this,!0)},ch.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},lh.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:fh(this)}},lh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new E("user-token-expired")):t||!this.b||w()>fh(this)-3e4?this.a?dh(this,{grant_type:"refresh_token",refresh_token:this.a}):_e(null):_e({accessToken:this.b.toString(),refreshToken:this.a})},vh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(gh,yn),gh.prototype.wa=function(t){this.pa=t,ea(this.a,t)},gh.prototype.ka=function(){return this.pa},gh.prototype.Ga=function(){return X(this.X)},gh.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Kr(gh.prototype,"providerId","firebase"),(t=gh.prototype).reload=function(){var t=this;return zh(this,Dh(this).then((function(){return Mh(t).then((function(){return Sh(t)})).then(Oh)})))},t.nc=function(t){return this.I(t).then((function(t){return new Jc(t)}))},t.I=function(t){var e=this;return zh(this,Dh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.ya&&(Ah(e,t.accessToken),e.dispatchEvent(new sh("tokenChanged"))),Ch(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");kh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new yh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)xh(this,e[n]);Ch(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new sh("userReloaded",{gd:t}))},t.Kc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return zh(this,t.c(this.a,this.uid).then((function(t){return Uh(e,t),n=Vh(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return zh(this,jh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vh(e,t,"link"),Fh(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return zh(this,jh(this,"phone").then((function(){return Yc(Eh(n),t,e,m(n.pb,n))})))},t.Lc=function(t,e){var n=this;return zh(this,_e().then((function(){return Yc(Eh(n),t,e,m(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return zh(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.dd=function(t){var e=this;return zh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Uh(e,t),e.reload()})))},t.Bb=function(t){var e=this;return zh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Dh(this);var e=this;return zh(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Uh(e,t),Ch(e,"displayName",t.displayName||null),Ch(e,"photoURL",t.photoUrl||null),F(e.providerData,(function(t){"password"===t.providerId&&(Kr(t,"displayName",e.displayName),Kr(t,"photoURL",e.photoURL))})),Sh(e)})).then(Oh))},t.bd=function(t){var e=this;return zh(this,Mh(this).then((function(n){return z(Rh(e),t)?function(t,e,n){return eu(t,Na,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return F(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),F(Rh(e),(function(t){n[t]||Ph(e,t)})),n[Po.PROVIDER_ID]||Kr(e,"phoneNumber",null),Sh(e)})):Sh(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return zh(this,this.I().then((function(e){return eu(t.a,Sa,{idToken:e})})).then((function(){t.dispatchEvent(new sh("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");mh(t,null),bh(t,null),Ih(t,null),t.G=[],t.A=!0,_h(t),Kr(t,"refreshToken",null),t.i&&xc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?m(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?m(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?m(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?m(this.Kb,this):null},t.Dc=function(t){var e=this;return qh(this,"linkViaPopup",t,(function(){return jh(e,t.providerId).then((function(){return Sh(e)}))}),!1)},t.Mc=function(t){return qh(this,"reauthViaPopup",t,(function(){return _e()}),!0)},t.Ec=function(t){var e=this;return Bh(this,"linkViaRedirect",t,(function(){return jh(e,t.providerId)}),!1)},t.Nc=function(t){return Bh(this,"reauthViaRedirect",t,(function(){return _e()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zh(this,this.I().then((function(n){return ba(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vh(i,t,"link"),Fh(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zh(this,_e().then((function(){return so(wa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vh(i,t,"reauthenticate"),Uh(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return zh(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Mi(new Si(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return zh(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Mi(new Si(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return zh(this,t=so(_e(t),n.uid).then((function(t){return e=Vh(n,t,"reauthenticate"),Uh(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),F(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.N.w()),t};var Wh={name:"redirectUser",D:"session"};function Xh(t){return ec(t.b,Wh,t.a)}function $h(t){this.a=t,this.b=Qu(),this.c=null,this.f=function(t){var e=Qh("local"),n=Qh("session"),r=Qh("none");return function(t,e,n){var r=tc(e,n),i=Zu(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Pr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Jh,t.a).then((function(t){return t?Qh(t):e}))}))}))})).then((function(e){return t.c=e,Yh(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Qh("local"),this.a,m(this.g,this))}function Yh(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(ec(t.b,Qh(Yu[n]),t.a));return r.push(ec(t.b,Jh,t.a)),function(t){return new ge((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Se(t[a],b(o,a),s);else e(i)}))}(r)}$h.prototype.g=function(){var t=this,e=Qh("local");nl(this,(function(){return _e().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Yh(t,"local").then((function(){t.c=e}))}))}))};var Jh={name:"persistence",D:"session"};function Qh(t){return{name:"authUser",D:t}}function Zh(t,e){return nl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function tl(t){return nl(t,(function(){return ec(t.b,t.c,t.a)}))}function el(t,e,n){return nl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Hh(t||{})}))}))}function nl(t,e){return t.f=t.f.then(e,e),t.f}function rl(t){if(this.m=!1,Kr(this,"settings",new Xc),Kr(this,"app",t),!fl(this).options||!fl(this).options.apiKey)throw new E("invalid-api-key");t=js.SDK_VERSION?Tr(js.SDK_VERSION):null,this.a=new Xs(fl(this).options&&fl(this).options.apiKey,k(_),t),this.R=[],this.u=[],this.P=[],this.ac=js.INTERNAL.createSubscribe(m(this.yc,this)),this.X=void 0,this.bc=js.INTERNAL.createSubscribe(m(this.zc,this)),hl(this,null),this.l=new $h(fl(this).options.apiKey+":"+fl(this).name),this.G=new Kh(fl(this).options.apiKey+":"+fl(this).name),this.$=yl(this,function(t){var e=fl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Wh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Hh(t||{})}))}(t.G,fl(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Xh(t.G)}));return yl(t,e)}(t).then((function(){return el(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Zh(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:tl(t.l)}))):null})).then((function(e){hl(t,e||null)}));return yl(t,n)}(this)),this.i=yl(this,function(t){return t.$.then((function(){return ul(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Qh("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=m(this.Yc,this),this.Ba=m(this.da,this),this.ya=m(this.kc,this),this.za=m(this.vc,this),this.Aa=m(this.wc,this),this.b=null,function(t){var e=fl(t).options.authDomain,n=fl(t).options.apiKey;e&&Nr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=qc(e,n,fl(t).name,t.f),Rc(t.b,t),pl(t)&&Nh(pl(t)),t.o){Nh(t.o);var r=t.o;r.wa(t.ka()),mh(r,t),wh(r=t.o,t.N),Ih(r,t),na((r=t.o).a,t.f),bh(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.Fc,this),this.A=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function il(t){He.call(this,"languageCodeChanged"),this.h=t}function ol(t){He.call(this,"emulatorConfigChanged"),this.c=t}function sl(t){He.call(this,"frameworkChanged"),this.f=t}function al(t){return t.gb||Ae(new E("auth-domain-config-required"))}function ul(t){if(!Nr())return Ae(new E("operation-not-supported-in-this-environment"));var e=al(t).then((function(){return t.b.qa()})).then((function(t){return t?Xr(t):null}));return yl(t,e)}function cl(t,e){var n={};return n.apiKey=fl(t).options.apiKey,n.authDomain=fl(t).options.authDomain,n.appName=fl(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new gh(t,e);return n&&(i.ha=n),r&&wh(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return pl(t)&&e.uid==pl(t).uid?(Lh(pl(t),e),t.da(e)):(hl(t,e),Nh(e),t.da(e))})).then((function(){vl(t)}))}function hl(t,e){pl(t)&&(function(t,e){K(t.R,(function(t){return t==e}))}(pl(t),t.Ba),an(pl(t),"tokenChanged",t.ya),an(pl(t),"userDeleted",t.za),an(pl(t),"userInvalidated",t.Aa),_h(pl(t))),e&&(e.R.push(t.Ba),rn(e,"tokenChanged",t.ya),rn(e,"userDeleted",t.za),rn(e,"userInvalidated",t.Aa),0<t.A&&Th(e)),Kr(t,"currentUser",e),e&&(e.wa(t.ka()),mh(e,t),wh(e,t.N),Ih(e,t),na(e.a,t.f),bh(e,t))}function ll(t,e){var n=null,r=null;return yl(t,e.then((function(e){return n=Lo(e),r=Ki(e),cl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=nh(e.w(),t,m(t.jc,t))),n||e})).then((function(){return Xr({user:pl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function fl(t){return t.app}function pl(t){return t.currentUser}function dl(t){return pl(t)&&pl(t)._lat||null}function vl(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](dl(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](dl(t))}}function yl(t,e){return t.R.push(e),e.na((function(){H(t.R,e)})),e}function gl(){}function ml(){this.a={},this.b=1e12}$h.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(gr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ou()&&"none"!==t)throw n;break;default:if(!Sr()&&"none"!==t)throw n}}(t),nl(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Yh(n,t)})).then((function(){if(n.c=Qh(t),e)return n.b.set(n.c,e,n.a)})):_e()}))},I(rl,yn),I(il,He),I(ol,He),I(sl,He),(t=rl.prototype).wb=function(t){return yl(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new il(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Vr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&pr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,na(this.a,this.f),this.dispatchEvent(new ol(this.f))}},t.Fc=function(t){this.N.push(t),ia(this.a,js.SDK_VERSION?Tr(js.SDK_VERSION,this.N):null),this.dispatchEvent(new sl(this.N))},t.Ga=function(){return X(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:fl(this).options.apiKey,authDomain:fl(this).options.authDomain,appName:fl(this).name,currentUser:pl(this)&&pl(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?m(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ll(i,ma(i.a,o))}))},t.Wc=function(t){if(!Nr())return Ae(new E("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),r=Cr(),i=null;(!Dr()||vr())&&fl(this).options.authDomain&&t.isOAuthProvider&&(i=yu(fl(this).options.authDomain,fl(this).options.apiKey,fl(this).name,"signInViaPopup",t,null,r,js.SDK_VERSION||null,null,null,this.S(),this.f));var o=hr(i,n&&n.ua,n&&n.ta);return yl(this,n=al(this).then((function(n){return Lc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ge((function(t,n){e.ma("signInViaPopup",null,new E("cancelled-popup-request"),e.h),e.g=t,e.O=n,e.h=r,e.c=jc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&cr(o),t?Xr(t):null})).s((function(t){throw o&&cr(o),t})))},t.Xc=function(t){if(!Nr())return Ae(new E("operation-not-supported-in-this-environment"));var e=this;return yl(this,al(this).then((function(){return function(t){return nl(t,(function(){return t.b.set(Jh,t.c.D,t.a)}))}(e.l)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return ul(this).then((function(e){return t.b&&zc(t.b.b),e})).s((function(e){throw t.b&&zc(t.b.b),e}))},t.cd=function(t){if(!t)return Ae(new E("null-user"));if(this.W!=t.tenantId)return Ae(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=fl(this).options.apiKey,n.authDomain=fl(this).options.authDomain,n.appName=fl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ys]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new gh(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&wh(e,r),Lh(e,t),e}(t,n,e.G,e.Ga());return yl(this,this.i.then((function(){if(fl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return pl(e)&&t.uid==pl(e).uid?(Lh(pl(e),t),e.da(t)):(hl(e,r),Nh(r),e.da(r))})).then((function(){vl(e)})))},t.zb=function(){var t=this;return yl(this,this.i.then((function(){return t.b&&zc(t.b.b),pl(t)?(hl(t,null),tl(t.l).then((function(){vl(t)}))):_e()})))},t.Yc=function(){var t=this;return el(this.l,fl(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=pl(t)&&e){n=pl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Lh(pl(t),e),pl(t).I();(pl(t)||e)&&(hl(t,e),e&&(Nh(e),e.ha=t.G),t.b&&Rc(t.b,t),vl(t))}}))},t.da=function(t){return Zh(this.l,t)},t.kc=function(){vl(this),this.da(pl(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return ll(e,_e(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(pl(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),yl(t,t.i.then((function(){!t.m&&z(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(dl(t)))})))}(this,(function(){t.next(pl(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(pl(r)):"function"==typeof t.next&&t.next(pl(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(pl(r)):"function"==typeof t.next&&t.next(pl(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return yl(this,this.i.then((function(){return pl(e)?pl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return ll(e,eu(e.a,$a,{token:t}))})).then((function(t){var n=t.user;return Ch(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return ll(n,eu(n.a,Ya,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return ll(n,eu(n.a,_a,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return ll(e,t.ja(e.a))}))},t.Rc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=pl(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ll(t,t.a.yb()).then((function(e){var n=e.user;return Ch(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return pl(this)&&pl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&pl(this)&&Th(pl(this))},t.Oc=function(t){var e=this;F(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&pl(this)&&_h(pl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),yl(this,this.i.then((function(){e.m||z(e.u,t)&&t(dl(e))})))},t.removeAuthTokenListener=function(t){K(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Qh("local"),t.a,this.pa),this.b&&(xc(this.b,this),zc(this.b.b)),Promise.resolve()},t.gc=function(t){return yl(this,function(t,e){return eu(t,Aa,{identifier:e,continueUri:kr()?or():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Oo(t)},t.vb=function(t,e){var n=this;return yl(this,_e().then((function(){var t=new Si(e);if(!t.c)throw new E("argument-error",Oi+" must be true when sending sign in link to email");return Mi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return yl(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return yl(this,this.a.Qa(t).then((function(t){return new ri(t)})))},t.ib=function(t){return yl(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return yl(this,_e().then((function(){return void 0===e||ht(e)?{}:Mi(new Si(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return yl(this,Yc(this,t,e,m(this.Za,this)))},t.Uc=function(t,e){var n=this;return yl(this,_e().then((function(){var r=e||or(),i=ko(t,r);if(!(r=Oo(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Za(i)})))},gl.prototype.render=function(){},gl.prototype.reset=function(){},gl.prototype.getResponse=function(){},gl.prototype.execute=function(){};var bl=null;function wl(t,e){return(e=Il(e))&&t.a[e]||null}function Il(t){return(t=void 0===t?1e12:t)?t.toString():null}function El(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=re(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():rn(this.f,"click",this.i)}function Tl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function _l(){}function Al(){}ml.prototype.render=function(t,e){return this.a[this.b.toString()]=new El(t,e),this.b++},ml.prototype.reset=function(t){var e=wl(this,t);t=Il(t),e&&t&&(e.delete(),delete this.a[t])},ml.prototype.getResponse=function(t){return(t=wl(this,t))?t.getResponse():null},ml.prototype.execute=function(t){(t=wl(this,t))&&t.execute()},El.prototype.getResponse=function(){return Tl(this),this.b},El.prototype.execute=function(){Tl(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},El.prototype.delete=function(){Tl(this),this.g=!0,clearTimeout(this.a),this.a=null,an(this.f,"click",this.i)},Kr(_l,"FACTOR_ID","phone"),Al.prototype.g=function(){return bl||(bl=new ml),_e(bl)},Al.prototype.c=function(){};var Sl=null;function Nl(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var kl=new vt(mt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ol=new Ur(3e4,6e4);Nl.prototype.g=function(t){var e=this;return new ge((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),Ol.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete s[e.a]},_e(qs(Et(kl,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Nl.prototype.c=function(){this.b--};var Dl=null;function Rl(t,e,n,r,i,o,a){if(Kr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(Sl||(Sl=new Al),a=Sl):(Dl||(Dl=new Nl),a=Dl),this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Cl])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ll],!s.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!re(e)||!this.i&&re(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Xs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[xl];this.a[xl]=function(t){if(Ml(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ar(c,s);"function"==typeof e&&e(t)}};var h=this.a[Pl];this.a[Pl]=function(){if(Ml(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=Ar(h,s);"function"==typeof t&&t()}}}var xl="callback",Pl="expired-callback",Cl="sitekey",Ll="size";function Ml(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ul(t,e){return t.h.push(e),e.na((function(){H(t.h,e)})),e}function jl(t){if(t.A)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vl(t,e,n){var r=!1;try{this.b=n||js.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=js.SDK_VERSION?Tr(js.SDK_VERSION,o):null,Rl.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,k(_),r)}function Fl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=ql.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=ql[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=Rl.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ul(this,_e().then((function(){if(kr()&&!yr())return pr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,eu(t.o,ja,{})})).then((function(e){t.a[Cl]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){jl(this);var t=this;return Ul(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=re(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ne&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Vt(s.name),'"'),s.type){o.push(' type="',Vt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ce(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ie(o,s)),2<r.length&&ue(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){jl(this);var t=this;return Ul(this,this.render().then((function(e){return new ge((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){jl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){jl(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=re(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Vl,Rl);var ql="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bl(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Gl(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function zl(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Hl(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Kl(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Wl(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Xl(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function $l(t){return p(t)&&"string"==typeof t.uid}function Yl(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Jl(t,e){for(var n in e){var r=e[n].name;t[r]=tf(r,t[n],e[n].j)}}function Ql(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){Fl(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Zl(t,e,n,r){t[e]=tf(e,n,r)}function tf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Fl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Jl(rl.prototype,{ib:{name:"applyActionCode",j:[Bl("code")]},Qa:{name:"checkActionCode",j:[Bl("code")]},mb:{name:"confirmPasswordReset",j:[Bl("code"),Bl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Bl("email"),Bl("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Bl("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Bl("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Yl(zl(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Yl(zl(),Hl(),"nextOrObserver"),Hl("opt_error",!0),Hl("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Bl("email"),Yl(zl("opt_actionCodeSettings",!0),Kl(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Bl("email"),zl("actionCodeSettings")]},wb:{name:"setPersistence",j:[Bl("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Wl()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Wl()]},Sc:{name:"signInWithCustomToken",j:[Bl("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Bl("email"),Bl("password")]},Uc:{name:"signInWithEmailLink",j:[Bl("email"),Bl("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Yl({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof gh)}},Kl(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bl(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Bl("url")]},hd:{name:"verifyPasswordResetCode",j:[Bl("code")]}}),Ql(rl.prototype,{lc:{name:"languageCode",jb:Yl(Bl(),Kl(),"languageCode")},ti:{name:"tenantId",jb:Yl(Bl(),Kl(),"tenantId")}}),rl.Persistence=Yu,rl.Persistence.LOCAL="local",rl.Persistence.SESSION="session",rl.Persistence.NONE="none",Jl(gh.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Gl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gl("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Wl()]},pb:{name:"linkWithCredential",j:[Wl()]},Cc:{name:"linkWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wl()]},sb:{name:"reauthenticateWithCredential",j:[Wl()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Bl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Yl(zl("opt_actionCodeSettings",!0),Kl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bl(null,!0)]},bd:{name:"unlink",j:[Bl("provider")]},Ab:{name:"updateEmail",j:[Bl("email")]},Bb:{name:"updatePassword",j:[Bl("password")]},dd:{name:"updatePhoneNumber",j:[Wl("phone")]},Cb:{name:"updateProfile",j:[zl("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Bl("email"),Yl(zl("opt_actionCodeSettings",!0),Kl(null,!0),"opt_actionCodeSettings",!0)]}}),Jl(ml.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jl(gl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jl(ge.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Ql(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Gl("appVerificationDisabledForTesting")}}),Jl($c.prototype,{confirm:{name:"confirm",j:[Bl("verificationCode")]}}),Zl(oo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,So,Ro,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Yl(Bl(),zl(),"json")]),Zl(No,"credential",(function(t,e){return new Ao(t,e)}),[Bl("email"),Bl("password")]),Jl(Ao.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(go.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[zl("customOAuthParameters")]}}),Zl(go,"credential",mo,[Yl(Bl(),zl(),"token")]),Zl(No,"credentialWithLink",ko,[Bl("email"),Bl("emailLink")]),Jl(bo.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[zl("customOAuthParameters")]}}),Zl(bo,"credential",wo,[Yl(Bl(),zl(),"token")]),Jl(Io.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},Ka:{name:"setCustomParameters",j:[zl("customOAuthParameters")]}}),Zl(Io,"credential",Eo,[Yl(Bl(),Yl(zl(),Kl()),"idToken"),Yl(Bl(),Kl(),"accessToken",!0)]),Jl(To.prototype,{Ka:{name:"setCustomParameters",j:[zl("customOAuthParameters")]}}),Zl(To,"credential",_o,[Yl(Bl(),zl(),"token"),Bl("secret",!0)]),Jl(yo.prototype,{Ca:{name:"addScope",j:[Bl("scope")]},credential:{name:"credential",j:[Yl(Bl(),Yl(zl(),Kl()),"optionsOrIdToken"),Yl(Bl(),Kl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[zl("customOAuthParameters")]}}),Jl(ho.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(ao.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Zl(Po,"credential",Co,[Bl("verificationId"),Bl("verificationCode")]),Jl(Po.prototype,{eb:{name:"verifyPhoneNumber",j:[Yl(Bl(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Xl(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Xl(t.session,io)&&$l(t.multiFactorHint):t.session&&t.multiFactorUid?Xl(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Jl(Do.prototype,{w:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(E.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(Go.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(Bo.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(eh.prototype,{toJSON:{name:"toJSON",j:[Bl(null,!0)]}}),Jl(Qc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Jl(ah.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Bl("displayName",!0)]},ad:{name:"unenroll",j:[Yl({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:$l},Bl(),"multiFactorInfoIdentifier")]}}),Jl(Vl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zl(gi,"parseLink",Ai,[Bl("link")]),Zl(_l,"assertion",(function(t){return new oh(t)}),[Wl("phone")]),function(){if(void 0===js||!js.INTERNAL||!js.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:rl,AuthCredential:oo,Error:E};Zl(t,"EmailAuthProvider",No,[]),Zl(t,"FacebookAuthProvider",go,[]),Zl(t,"GithubAuthProvider",bo,[]),Zl(t,"GoogleAuthProvider",Io,[]),Zl(t,"TwitterAuthProvider",To,[]),Zl(t,"OAuthProvider",yo,[Bl("providerId")]),Zl(t,"SAMLAuthProvider",vo,[Bl("providerId")]),Zl(t,"PhoneAuthProvider",Po,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof rl)}}]),Zl(t,"RecaptchaVerifier",Vl,[Yl(Bl(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),zl("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof js.app.App)}}]),Zl(t,"ActionCodeURL",gi,[]),Zl(t,"PhoneMultiFactorGenerator",_l,[]),js.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new rl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),js.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:m((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:m(t.mc,t),addAuthTokenListener:m(t.cc,t),removeAuthTokenListener:m(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),js.registerVersion("@firebase/auth","0.15.0"),js.INTERNAL.extendNamespace({User:gh})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Vs=function(t,e){return(Vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Fs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var qs,Bs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gs=Gs||{},zs=Bs||self;function Hs(){}function Ks(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function Ws(t){var e=Ks(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Xs(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var $s="closure_uid_"+(1e9*Math.random()>>>0),Ys=0;function Js(t,e,n){return t.call.apply(t.bind,arguments)}function Qs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Zs(t,e,n){return(Zs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Js:Qs).apply(null,arguments)}function ta(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var ea=Date.now;function na(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function ra(){this.j=this.j,this.i=this.i}ra.prototype.j=!1,ra.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,$s)&&t[$s]||(t[$s]=++Ys)})(this)},ra.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ia=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},oa=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function sa(t){return Array.prototype.concat.apply([],arguments)}function aa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ua(t){return/^[\s\xa0]*$/.test(t)}var ca,ha=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function la(t,e){return-1!=t.indexOf(e)}function fa(t,e){return t<e?-1:t>e?1:0}t:{var pa=zs.navigator;if(pa){var da=pa.userAgent;if(da){ca=da;break t}}ca=""}function va(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ya(t){var e={};for(var n in t)e[n]=t[n];return e}var ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ma(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ga.length;o++)n=ga[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ba(t){return ba[" "](t),t}ba[" "]=Hs;var wa,Ia,Ea=la(ca,"Opera"),Ta=la(ca,"Trident")||la(ca,"MSIE"),_a=la(ca,"Edge"),Aa=_a||Ta,Sa=la(ca,"Gecko")&&!(la(ca.toLowerCase(),"webkit")&&!la(ca,"Edge"))&&!(la(ca,"Trident")||la(ca,"MSIE"))&&!la(ca,"Edge"),Na=la(ca.toLowerCase(),"webkit")&&!la(ca,"Edge");function ka(){var t=zs.document;return t?t.documentMode:void 0}t:{var Oa="",Da=(Ia=ca,Sa?/rv:([^\);]+)(\)|;)/.exec(Ia):_a?/Edge\/([\d\.]+)/.exec(Ia):Ta?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ia):Na?/WebKit\/(\S+)/.exec(Ia):Ea?/(?:Version)[ \/]?(\S+)/.exec(Ia):void 0);if(Da&&(Oa=Da?Da[1]:""),Ta){var Ra=ka();if(null!=Ra&&Ra>parseFloat(Oa)){wa=String(Ra);break t}}wa=Oa}var xa,Pa={};function Ca(t){return function(t,e){var n=Pa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=ha(String(wa)).split("."),r=ha(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=fa(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||fa(0==s[2].length,0==a[2].length)||fa(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(zs.document&&Ta){var La=ka();xa=La||(parseInt(wa,10)||void 0)}else xa=void 0;var Ma=xa,Ua=!Ta||9<=Number(Ma),ja=Ta&&!Ca("9"),Va=function(){if(!zs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{zs.addEventListener("test",Hs,e),zs.removeEventListener("test",Hs,e)}catch(t){}return t}();function Fa(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function qa(t,e){if(Fa.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Sa){t:{try{ba(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ba[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Fa.prototype.b=function(){this.defaultPrevented=!0},na(qa,Fa);var Ba={2:"touch",3:"pen",4:"mouse"};qa.prototype.b=function(){qa.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ja)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Ga="closure_listenable_"+(1e6*Math.random()|0),za=0;function Ha(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++za,this.Y=this.Z=!1}function Ka(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Wa(t){this.src=t,this.a={},this.b=0}function Xa(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ia(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ka(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function $a(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Wa.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=$a(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ha(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ya="closure_lm_"+(1e6*Math.random()|0),Ja={};function Qa(t,e,n,r,i){if(r&&r.once)return tu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Qa(t,e[o],n,r,i);return null}return n=uu(n),t&&t[Ga]?t.va(e,n,Xs(r)?!!r.capture:!!r,i):Za(t,e,n,!1,r,i)}function Za(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Xs(i)?!!i.capture:!!i;if(s&&!Ua)return null;var a=su(t);if(a||(t[Ya]=a=new Wa(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ou,e=Ua?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Va||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ru(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function tu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)tu(t,e[o],n,r,i);return null}return n=uu(n),t&&t[Ga]?t.wa(e,n,Xs(r)?!!r.capture:!!r,i):Za(t,e,n,!0,r,i)}function eu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)eu(t,e[o],n,r,i);else r=Xs(r)?!!r.capture:!!r,n=uu(n),t&&t[Ga]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=$a(o=t.a[e],n,r,i))&&(Ka(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=su(t))&&(e=t.a[e.toString()],t=-1,e&&(t=$a(e,n,r,i)),(n=-1<t?e[t]:null)&&nu(n))}function nu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ga])Xa(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ru(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=su(e))?(Xa(n,t),0==n.b&&(n.src=null,e[Ya]=null)):Ka(t)}}}function ru(t){return t in Ja?Ja[t]:Ja[t]="on"+t}function iu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&nu(t),n.call(r,e)}function ou(t,e){if(t.Y)return!0;if(!Ua){if(!e)t:{e=["window","event"];for(var n=zs,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return iu(t,e=new qa(e,this))}return iu(t,new qa(e,this))}function su(t){return(t=t[Ya])instanceof Wa?t:null}var au="__closure_events_fn_"+(1e9*Math.random()>>>0);function uu(t){return"function"==Ks(t)?t:(t[au]||(t[au]=function(e){return t.handleEvent(e)}),t[au])}function cu(){ra.call(this),this.c=new Wa(this),this.J=this,this.C=null}function hu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Xa(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}na(cu,ra),cu.prototype[Ga]=!0,(qs=cu.prototype).addEventListener=function(t,e,n,r){Qa(this,t,e,n,r)},qs.removeEventListener=function(t,e,n,r){eu(this,t,e,n,r)},qs.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new Fa(t,n);else if(t instanceof Fa)t.target=t.target||n;else{var i=t;ma(t=new Fa(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=hu(s,r,!0,t)&&i}if(i=hu(s=t.a=n,r,!0,t)&&i,i=hu(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=hu(s=t.a=e[o],r,!1,t)&&i;return i},qs.G=function(){if(cu.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ka(n[r]);delete e.a[t],e.b--}}this.C=null},qs.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},qs.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var lu=zs.JSON.stringify;function fu(){this.b=this.a=null}var pu,du=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new yu}),(function(t){t.reset()}),100);function vu(){var t=wu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function yu(){this.next=this.b=this.a=null}function gu(t){zs.setTimeout((function(){throw t}),0)}function mu(t,e){pu||function(){var t=zs.Promise.resolve(void 0);pu=function(){t.then(Iu)}}(),bu||(pu(),bu=!0),wu.add(t,e)}fu.prototype.add=function(t,e){var n=du.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},yu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},yu.prototype.reset=function(){this.next=this.b=this.a=null};var bu=!1,wu=new fu;function Iu(){for(var t;t=vu();){try{t.a.call(t.b)}catch(t){gu(t)}var e=du;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}bu=!1}function Eu(t,e){cu.call(this),this.b=t||1,this.a=e||zs,this.f=Zs(this.Ya,this),this.g=ea()}function Tu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function _u(t,e,n){if("function"==Ks(t))n&&(t=Zs(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Zs(t.handleEvent,t)}return 2147483647<Number(e)?-1:zs.setTimeout(t,e||0)}function Au(t){t.a=_u((function(){t.a=null,t.c&&(t.c=!1,Au(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}na(Eu,cu),(qs=Eu.prototype).aa=!1,qs.M=null,qs.Ya=function(){if(this.aa){var t=ea()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Tu(this),this.start()))}},qs.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ea())},qs.G=function(){Eu.S.G.call(this),Tu(this),delete this.a};var Su=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}Vs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Au(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(zs.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ra);function Nu(t){ra.call(this),this.b=t,this.a={}}na(Nu,ra);var ku=[];function Ou(t,e,n,r){Array.isArray(n)||(n&&(ku[0]=n.toString()),n=ku);for(var i=0;i<n.length;i++){var o=Qa(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Du(t){va(t.a,(function(t,e){this.a.hasOwnProperty(e)&&nu(t)}),t),t.a={}}function Ru(){this.a=!0}function xu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return lu(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Nu.prototype.G=function(){Nu.S.G.call(this),Du(this)},Nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ru.prototype.info=function(){};var Pu=null;function Cu(){return Pu=Pu||new cu}function Lu(t){Fa.call(this,"serverreachability",t)}function Mu(t){var e=Cu();e.dispatchEvent(new Lu(e,t))}function Uu(t){Fa.call(this,"statevent",t)}function ju(t){var e=Cu();e.dispatchEvent(new Uu(e,t))}function Vu(t){Fa.call(this,"timingevent",t)}function Fu(t,e){if("function"!=Ks(t))throw Error("Fn must not be null and must be a function");return zs.setTimeout((function(){t()}),e)}na(Lu,Fa),na(Uu,Fa),na(Vu,Fa);var qu={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Bu={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Gu(){}function zu(t){var e;return(e=t.a)||(e=t.a={}),e}function Hu(){}Gu.prototype.a=null;var Ku,Wu={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Xu(){Fa.call(this,"d")}function $u(){Fa.call(this,"c")}function Yu(){}function Ju(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Nu(this),this.P=Qu,t=Aa?125:void 0,this.R=new Eu(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}na(Xu,Fa),na($u,Fa),na(Yu,Gu),Ku=new Yu;var Qu=45e3,Zu={},tc={};function ec(t,e,n){t.H=1,t.i=Tc(gc(e)),t.j=n,t.I=!0,nc(t,null)}function nc(t,e){t.u=ea(),oc(t),t.l=gc(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Mc(n.b,"t",r),t.D=0,t.a=Dh(t.g,t.g.C?e:null),0<t.O&&(t.F=new Su(Zs(t.Ca,t,t.a),t.O)),Ou(t.J,t.a,"readystatechange",t.Wa),e=t.B?ya(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Mu(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");s=2<=l.length&&"type"==l[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function rc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ic(t,n);if(i==tc){4==e&&(t.h=4,ju(14),r=!1),xu(t.c,t.f,null,"[Incomplete Response]");break}if(i==Zu){t.h=4,ju(15),xu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}xu(t.c,t.f,i,null),hc(t,i)}4==e&&0==n.length&&(t.h=1,ju(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Eh(e),e.F=!0)):(xu(t.c,t.f,n,"[Invalid Chunked Response]"),cc(t),uc(t))}function ic(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?tc:(n=Number(e.substring(n,r)),isNaN(n)?Zu:(r+=1)+n>e.length?tc:(e=e.substr(r,n),t.D=r+n,e))}function oc(t){t.U=ea()+t.P,sc(t,t.P)}function sc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Fu(Zs(t.Ua,t),e)}function ac(t){t.o&&(zs.clearTimeout(t.o),t.o=null)}function uc(t){0==t.g.v||t.A||Ah(t.g,t)}function cc(t){ac(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Tu(t.R),Du(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function hc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Gc(n.b,t)))if(n.I=t.N,!t.C&&Gc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;_h(n),ph(n)}Ih(n),ju(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Fu(Zs(n.Ra,n),6e3));if(1>=Bc(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Nh(n,11)}else if((t.C||n.a==t)&&_h(n),!ua(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=u.b;!l.a&&(la(h,"spdy")||la(h,"quic")||la(h,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(zc(l,l.b),l.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ec(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=ea()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Oh(u,u.C?u.ga:null,u.fa),p.C){Hc(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(ac(d),oc(d)),u.a=p}else wh(u);0<n.g.length&&yh(n)}else"stop"!=i[0]&&"close"!=i[0]||Nh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Nh(n,7):fh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Mu(4)}catch(t){}}function lc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ws(t)||"string"==typeof t)oa(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ws(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ws(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function fc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];dc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)dc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function dc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(qs=Ju.prototype).setTimeout=function(t){this.P=t},qs.Wa=function(t){t=t.target;var e=this.F;e&&3==uh(t)?e.f():this.Ca(t)},qs.Ca=function(t){try{if(t==this.a)t:{var e=uh(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!Aa&&!this.a.$())){this.A||4!=e||7==n||Mu(8==n||0>=r?3:2),ac(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ua(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ju(12),cc(this),uc(this);break t}xu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,hc(this,u)}this.I?(rc(this,e,o),Aa&&this.b&&3==e&&(Ou(this.J,this.R,"tick",this.Va),this.R.start())):(xu(this.c,this.f,o,null),hc(this,o)),4==e&&cc(this),this.b&&!this.A&&(4==e?Ah(this.g,this):(this.b=!1,oc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ju(12)):(this.h=0,ju(13)),cc(this),uc(this)}}}catch(t){}},qs.Va=function(){if(this.a){var t=uh(this.a),e=this.a.$();this.D<e.length&&(ac(this),rc(this,t,e),this.b&&4!=t&&oc(this))}},qs.cancel=function(){this.A=!0,cc(this)},qs.Ua=function(){this.o=null;var t=ea();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Mu(3),ju(17)),cc(this),this.h=2,uc(this)):sc(this,this.U-t)},(qs=fc.prototype).K=function(){pc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},qs.L=function(){return pc(this),this.a.concat()},qs.get=function(t,e){return dc(this.b,t)?this.b[t]:e},qs.set=function(t,e){dc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},qs.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var vc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof yc){this.a=void 0!==e?e:t.a,mc(this,t.f),this.j=t.j,bc(this,t.c),wc(this,t.h),this.g=t.g,e=t.b;var n=new xc;n.c=e.c,e.a&&(n.a=new fc(e.a),n.b=e.b),Ic(this,n),this.i=t.i}else t&&(n=String(t).match(vc))?(this.a=!!e,mc(this,n[1]||"",!0),this.j=_c(n[2]||""),bc(this,n[3]||"",!0),wc(this,n[4]),this.g=_c(n[5]||"",!0),Ic(this,n[6]||"",!0),this.i=_c(n[7]||"")):(this.a=!!e,this.b=new xc(null,this.a))}function gc(t){return new yc(t)}function mc(t,e,n){t.f=n?_c(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bc(t,e,n){t.c=n?_c(e,!0):e}function wc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ic(t,e,n){e instanceof xc?(t.b=e,function(t,e){e&&!t.f&&(Pc(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Cc(this,e),Mc(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ac(e,Dc)),t.b=new xc(e,t.a))}function Ec(t,e,n){t.b.set(e,n)}function Tc(t){return Ec(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ea()).toString(36)),t}function _c(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ac(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Sc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ac(e,Nc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ac(e,Nc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ac(n,"/"==n.charAt(0)?Oc:kc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ac(n,Rc)),t.join("")};var Nc=/[#\/\?@]/g,kc=/[#\?:]/g,Oc=/[#\?]/g,Dc=/[#\?@]/g,Rc=/#/g;function xc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Pc(t){t.a||(t.a=new fc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Cc(t,e){Pc(t),e=Uc(t,e),dc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,dc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&pc(t)))}function Lc(t,e){return Pc(t),e=Uc(t,e),dc(t.a.b,e)}function Mc(t,e,n){Cc(t,e),0<n.length&&(t.c=null,t.a.set(Uc(t,e),aa(n)),t.b+=n.length)}function Uc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function jc(t,e){this.b=t,this.a=e}function Vc(t){this.g=t||Fc,zs.PerformanceNavigationTiming?t=0<(t=zs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(zs.ia&&zs.ia.ya&&zs.ia.ya()&&zs.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(qs=xc.prototype).add=function(t,e){Pc(this),this.c=null,t=Uc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},qs.forEach=function(t,e){Pc(this),this.a.forEach((function(n,r){oa(n,(function(n){t.call(e,n,r,this)}),this)}),this)},qs.L=function(){Pc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},qs.K=function(t){Pc(this);var e=[];if("string"==typeof t)Lc(this,t)&&(e=sa(e,this.a.get(Uc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=sa(e,t[n])}return e},qs.set=function(t,e){return Pc(this),this.c=null,Lc(this,t=Uc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},qs.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},qs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Fc=10;function qc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Bc(t){return t.b?1:t.a?t.a.size:0}function Gc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function zc(t,e){t.a?t.a.add(e):t.b=e}function Hc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Kc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Fs(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return aa(t.c)}function Wc(){}function Xc(){this.a=new Wc}function $c(t,e,n){var r=n||"";try{lc(t,(function(t,n){var i=t;Xs(t)&&(i=lu(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Yc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Vc.prototype.cancel=function(){var t,e;if(this.c=Kc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Fs(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Wc.prototype.stringify=function(t){return zs.JSON.stringify(t,void 0)},Wc.prototype.parse=function(t){return zs.JSON.parse(t,void 0)};var Jc=zs.JSON.parse;function Qc(t){cu.call(this),this.headers=new fc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Zc,this.D=this.F=!1}na(Qc,cu);var Zc="",th=/^https?$/i,eh=["POST","PUT"];function nh(t){return"content-type"==t.toLowerCase()}function rh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ih(t),sh(t)}function ih(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function oh(t){if(t.b&&void 0!==Gs&&(!t.s[1]||4!=uh(t)||2!=t.X()))if(t.l&&4==uh(t))_u(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==uh(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(vc)[1]||null;if(!o&&zs.self&&zs.self.location){var s=zs.self.location.protocol;o=s.substr(0,s.length-1)}i=!th.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<uh(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.X()+"]",ih(t)}}finally{sh(t)}}}function sh(t,e){if(t.a){ah(t);var n=t.a,r=t.s[0]?Hs:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function ah(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(zs.clearTimeout(t.m),t.m=null)}function uh(t){return t.a?t.a.readyState:0}function ch(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return va(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ec(t,e,n))}function hh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lh(t){this.pa=0,this.g=[],this.c=new Ru,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=hh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=hh("baseRetryDelayMs",5e3,t),this.Ma=hh("retryDelaySeedMs",1e4,t),this.Ja=hh("forwardChannelMaxRetries",2,t),this.ma=hh("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Vc(t&&t.concurrentRequestLimit),this.ka=new Xc,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function fh(t){if(dh(t),3==t.v){var e=t.R++,n=gc(t.B);Ec(n,"SID",t.J),Ec(n,"RID",e),Ec(n,"TYPE","terminate"),mh(t,n),(e=new Ju(t,t.c,e,void 0)).H=2,e.i=Tc(gc(n)),n=!1,zs.navigator&&zs.navigator.sendBeacon&&(n=zs.navigator.sendBeacon(e.i.toString(),"")),!n&&zs.Image&&((new Image).src=e.i,n=!0),n||(e.a=Dh(e.g,null),e.a.ba(e.i)),e.u=ea(),oc(e)}kh(t)}function ph(t){t.a&&(Eh(t),t.a.cancel(),t.a=null)}function dh(t){ph(t),t.j&&(zs.clearTimeout(t.j),t.j=null),_h(t),t.b.cancel(),t.h&&("number"==typeof t.h&&zs.clearTimeout(t.h),t.h=null)}function vh(t,e){t.g.push(new jc(t.La++,e)),3==t.v&&yh(t)}function yh(t){qc(t.b)||t.h||(t.h=!0,mu(t.Ba,t),t.u=0)}function gh(t,e){var n;n=e?e.f:t.R++;var r=gc(t.B);Ec(r,"SID",t.J),Ec(r,"RID",n),Ec(r,"AID",t.P),mh(t,r),t.i&&t.l&&ch(r,t.i,t.l),n=new Ju(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=bh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),zc(t.b,n),ec(n,r,e)}function mh(t,e){t.f&&lc({},(function(t,n){Ec(e,n,t)}))}function bh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Zs(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{$c(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function wh(t){t.a||t.j||(t.U=1,mu(t.Aa,t),t.o=0)}function Ih(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=Fu(Zs(t.Aa,t),Sh(t,t.o)),t.o++,!0)}function Eh(t){null!=t.s&&(zs.clearTimeout(t.s),t.s=null)}function Th(t){t.a=new Ju(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gc(t.la);Ec(e,"RID","rpc"),Ec(e,"SID",t.J),Ec(e,"CI",t.H?"0":"1"),Ec(e,"AID",t.P),mh(t,e),Ec(e,"TYPE","xmlhttp"),t.i&&t.l&&ch(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Tc(gc(e)),n.j=null,n.I=!0,nc(n,t)}function _h(t){null!=t.m&&(zs.clearTimeout(t.m),t.m=null)}function Ah(t,e){var n=null;if(t.a==e){_h(t),Eh(t),t.a=null;var r=2}else{if(!Gc(t.b,e))return;n=e.s,Hc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ea()-e.u;var i=t.u;(r=Cu()).dispatchEvent(new Vu(r,n,e,i)),yh(t)}else wh(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Bc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=Fu(Zs(t.Ba,t,e),Sh(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ih(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Nh(t,5);break;case 4:Nh(t,10);break;case 3:Nh(t,6);break;default:Nh(t,2)}}function Sh(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Nh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Zs(t.Xa,t);n||(n=new yc("//www.google.com/images/cleardot.gif"),zs.location&&"http"==zs.location.protocol||mc(n,"https"),Tc(n)),function(t,e){var n=new Ru;if(zs.Image){var r=new Image;r.onload=ta(Yc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ta(Yc,n,r,"TestLoadImage: error",!1,e),r.onabort=ta(Yc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ta(Yc,n,r,"TestLoadImage: timeout",!1,e),zs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ju(2);t.v=0,t.f&&t.f.ra(e),kh(t),dh(t)}function kh(t){t.v=0,t.I=-1,t.f&&(0==Kc(t.b).length&&0==t.g.length||(t.b.c.length=0,aa(t.g),t.g.length=0),t.f.qa())}function Oh(t,e,n){var r=function(t){return t instanceof yc?gc(t):new yc(t,void 0)}(n);if(""!=r.c)e&&bc(r,e+"."+r.c),wc(r,r.h);else{var i=zs.location;r=function(t,e,n,r){var i=new yc(null,void 0);return t&&mc(i,t),e&&bc(i,e),n&&wc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&va(t.W,(function(t,e){Ec(r,e,t)})),e=t.A,n=t.na,e&&n&&Ec(r,e,n),Ec(r,"VER",t.ha),mh(t,r),r}function Dh(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qc(t.Ka)).F=t.C,e}function Rh(){}function xh(){if(Ta&&!(10<=Number(Ma)))throw Error("Environmental error: no available transport.")}function Ph(t,e){cu.call(this),this.a=new lh(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ua(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ua(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Mh(this)}function Ch(t){Xu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Lh(){$u.call(this),this.status=1}function Mh(t){this.a=t}(qs=Qc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?zu(this.H):zu(Ku),this.a.onreadystatechange=Zs(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void rh(this,t)}t=n||"";var i=new fc(this.headers);r&&lc(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=nh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=zs.FormData&&t instanceof zs.FormData,!(0<=ia(eh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ah(this),0<this.o&&((this.D=function(t){return Ta&&Ca(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Zs(this.xa,this)):this.m=_u(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){rh(this,t)}},qs.xa=function(){void 0!==Gs&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},qs.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),sh(this))},qs.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),sh(this,!0)),Qc.S.G.call(this)},qs.za=function(){this.j||(this.A||this.l||this.g?oh(this):this.Ta())},qs.Ta=function(){oh(this)},qs.X=function(){try{return 2<uh(this)?this.a.status:-1}catch(t){return-1}},qs.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},qs.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Jc(e)}},qs.ua=function(){return this.h},qs.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(qs=lh.prototype).ha=8,qs.v=1,qs.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ju(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ma(r=ya(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=bh(this,n,e),Ec(i=gc(this.B),"RID",t),Ec(i,"CVER",22),this.A&&Ec(i,"X-HTTP-Session-Id",this.A),mh(this,i),this.i&&r&&ch(i,this.i,r),zc(this.b,n),this.Ga&&Ec(i,"TYPE","init"),this.da?(Ec(i,"$req",e),Ec(i,"SID","null"),n.V=!0,ec(n,i,null)):ec(n,i,e),this.v=2}}else 3==this.v&&(t?gh(this,t):0==this.g.length||qc(this.b)||gh(this))},qs.Aa=function(){if(this.j=null,Th(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Fu(Zs(this.Sa,this),t)}},qs.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ph(this),Th(this))},qs.Ra=function(){null!=this.m&&(this.m=null,ph(this),Ih(this),ju(19))},qs.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ju(2)):(this.c.info("Failed to ping google.com"),ju(1))},(qs=Rh.prototype).ta=function(){},qs.sa=function(){},qs.ra=function(){},qs.qa=function(){},qs.Ha=function(){},xh.prototype.a=function(t,e){return new Ph(t,e)},na(Ph,cu),(qs=Ph.prototype).addEventListener=function(t,e,n,r){Ph.S.addEventListener.call(this,t,e,n,r)},qs.removeEventListener=function(t,e,n,r){Ph.S.removeEventListener.call(this,t,e,n,r)},qs.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ju(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Oh(t,null,t.fa),yh(t)},qs.close=function(){fh(this.a)},qs.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,vh(this.a,e)}else this.g?((e={}).__data__=lu(t),vh(this.a,e)):vh(this.a,t)},qs.G=function(){this.a.f=null,delete this.f,fh(this.a),delete this.a,Ph.S.G.call(this)},na(Ch,Xu),na(Lh,$u),na(Mh,Rh),Mh.prototype.ta=function(){this.a.dispatchEvent("a")},Mh.prototype.sa=function(t){this.a.dispatchEvent(new Ch(t))},Mh.prototype.ra=function(t){this.a.dispatchEvent(new Lh(t))},Mh.prototype.qa=function(){this.a.dispatchEvent("b")},xh.prototype.createWebChannel=xh.prototype.a,Ph.prototype.send=Ph.prototype.Pa,Ph.prototype.open=Ph.prototype.Oa,Ph.prototype.close=Ph.prototype.close,qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,Bu.COMPLETE="complete",Hu.EventType=Wu,Wu.OPEN="a",Wu.CLOSE="b",Wu.ERROR="c",Wu.MESSAGE="d",cu.prototype.listen=cu.prototype.va,Qc.prototype.listenOnce=Qc.prototype.wa,Qc.prototype.getLastError=Qc.prototype.Qa,Qc.prototype.getLastErrorCode=Qc.prototype.ua,Qc.prototype.getStatus=Qc.prototype.X,Qc.prototype.getResponseJson=Qc.prototype.Na,Qc.prototype.getResponseText=Qc.prototype.$,Qc.prototype.send=Qc.prototype.ba;var Uh=qu,jh=Bu,Vh=Hu,Fh=Qc,qh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bh=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return zo(e,t),e}(Error),Gh=new Ts("@firebase/firestore");function zh(){return Gh.logLevel}function Hh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gh.logLevel<=vs.DEBUG){var r=e.map(Xh);Gh.debug.apply(Gh,Jo(["Firestore (7.24.0): "+t],r))}}function Kh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gh.logLevel<=vs.ERROR){var r=e.map(Xh);Gh.error.apply(Gh,Jo(["Firestore (7.24.0): "+t],r))}}function Wh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gh.logLevel<=vs.WARN){var r=e.map(Xh);Gh.warn.apply(Gh,Jo(["Firestore (7.24.0): "+t],r))}}function Xh(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function Yh(t,e){t||$h()}function Jh(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var el=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&$h(),void 0===n?n=t.length-e:n>t.length-e&&$h(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return t=void 0===t?1:t,this.o(this.segments,this.offset+t,this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Bh(qh.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.P=function(){return new e([])},e}(el),rl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,il=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return rl.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Bh(qh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Bh(qh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Bh(qh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Bh(qh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(el),ol=function(){function t(t){this.path=t}return t.D=function(e){return new t(nl.g(e))},t.C=function(e){return new t(nl.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===nl.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return nl.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new nl(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){if(0!==e.length)throw new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+_l(e.length,"argument")+".")}function al(t,e,n){if(e.length!==n)throw new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() requires "+_l(n,"argument")+", but was called with "+_l(e.length,"argument")+".")}function ul(t,e,n){if(e.length<n)throw new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() requires at least "+_l(n,"argument")+", but was called with "+_l(e.length,"argument")+".")}function cl(t,e,n,r){if(e.length<n||e.length>r)throw new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+_l(e.length,"argument")+".")}function hl(t,e,n,r){yl(t,e,Tl(n)+" argument",r)}function ll(t,e,n,r){void 0!==r&&hl(t,e,n,r)}function fl(t,e,n,r){yl(t,e,n+" option",r)}function pl(t,e,n,r){void 0!==r&&fl(t,e,n,r)}function dl(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(ml(u))}var c=ml(r);throw new Bh(qh.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function vl(t,e,n,r){if(!e.some((function(t){return t===r})))throw new Bh(qh.INVALID_ARGUMENT,"Invalid value "+ml(r)+" provided to function "+t+"() for its "+Tl(n)+" argument. Acceptable values: "+e.join(", "));return r}function yl(t,e,n,r){if(!("object"===e?gl(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=ml(r);throw new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function gl(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function ml(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":$h()}function bl(t,e,n){if(void 0===n)throw new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Tl(e)+" argument, but it was undefined.")}function wl(t,e,n){Zh(e,(function(e,r){if(n.indexOf(e)<0)throw new Bh(qh.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Il(t,e,n,r){var i=ml(r);return new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() requires its "+Tl(n)+" argument to be a "+e+", but it was: "+i)}function El(t,e,n){if(n<=0)throw new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() requires its "+Tl(e)+" argument to be a positive number, but it was: "+n+".")}function Tl(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function _l(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sl=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Al(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Nl(t,e){return t<e?-1:t>e?1:0}function kl(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ol(t){return t+"\0"}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.M,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return Nl(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Dl.B=new Dl("");var Rl=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Dl.fromBase64String(e))}catch(t){throw new Bh(qh.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},t.fromUint8Array=function(e){return new t(Dl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(){if("undefined"==typeof Uint8Array)throw new Bh(qh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Pl(){if("undefined"==typeof atob)throw new Bh(qh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.fromBase64String=function(t){al("Blob.fromBase64String",arguments,1),hl("Blob.fromBase64String","string",1,t),Pl();try{return new e(Dl.fromBase64String(t))}catch(t){throw new Bh(qh.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(al("Blob.fromUint8Array",arguments,1),xl(),!(t instanceof Uint8Array))throw Il("Blob.fromUint8Array","Uint8Array",1,t);return new e(Dl.fromUint8Array(t))},e.prototype.toBase64=function(){return al("Blob.toBase64",arguments,0),Pl(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return al("Blob.toUint8Array",arguments,0),xl(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Rl),Ll=function(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},Ml=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return Nl(this.projectId,t.projectId)||Nl(this.database,t.database)},t}(),Ul=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.G(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Zh(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.m=function(){return tl(this.H)},t}(),jl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Bh(qh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Bh(qh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Bh(qh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Bh(qh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?Nl(this.nanoseconds,t.nanoseconds):Nl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vl=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new jl(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){return null==t}function ql(t){return 0===t&&1/t==-1/0}function Bl(t){return"number"==typeof t&&Number.isInteger(t)&&!ql(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gl=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function zl(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Gl(t,e,n,r,i,o,s)}function Hl(t){var e=Jh(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.R()+e.op.toString()+Uf(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),Fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=qd(e.startAt)),e.endAt&&(n+="|ub:",n+=qd(e.endAt)),e.tt=n}return e.tt}function Kl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Kd(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Pf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gd(t.startAt,e.startAt)&&Gd(t.endAt,e.endAt)}function Wl(t){return ol.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xl,$l,Yl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Vl.min()),void 0===o&&(o=Vl.min()),void 0===s&&(s=Dl.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),Jl=function(t){this.count=t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){switch(t){case qh.OK:return $h();case qh.CANCELLED:case qh.UNKNOWN:case qh.DEADLINE_EXCEEDED:case qh.RESOURCE_EXHAUSTED:case qh.INTERNAL:case qh.UNAVAILABLE:case qh.UNAUTHENTICATED:return!1;case qh.INVALID_ARGUMENT:case qh.NOT_FOUND:case qh.ALREADY_EXISTS:case qh.PERMISSION_DENIED:case qh.FAILED_PRECONDITION:case qh.ABORTED:case qh.OUT_OF_RANGE:case qh.UNIMPLEMENTED:case qh.DATA_LOSS:return!0;default:return $h()}}function Zl(t){if(void 0===t)return Kh("GRPC error has no .code"),qh.UNKNOWN;switch(t){case Xl.OK:return qh.OK;case Xl.CANCELLED:return qh.CANCELLED;case Xl.UNKNOWN:return qh.UNKNOWN;case Xl.DEADLINE_EXCEEDED:return qh.DEADLINE_EXCEEDED;case Xl.RESOURCE_EXHAUSTED:return qh.RESOURCE_EXHAUSTED;case Xl.INTERNAL:return qh.INTERNAL;case Xl.UNAVAILABLE:return qh.UNAVAILABLE;case Xl.UNAUTHENTICATED:return qh.UNAUTHENTICATED;case Xl.INVALID_ARGUMENT:return qh.INVALID_ARGUMENT;case Xl.NOT_FOUND:return qh.NOT_FOUND;case Xl.ALREADY_EXISTS:return qh.ALREADY_EXISTS;case Xl.PERMISSION_DENIED:return qh.PERMISSION_DENIED;case Xl.FAILED_PRECONDITION:return qh.FAILED_PRECONDITION;case Xl.ABORTED:return qh.ABORTED;case Xl.OUT_OF_RANGE:return qh.OUT_OF_RANGE;case Xl.UNIMPLEMENTED:return qh.UNIMPLEMENTED;case Xl.DATA_LOSS:return qh.DATA_LOSS;default:return $h()}}($l=Xl||(Xl={}))[$l.OK=0]="OK",$l[$l.CANCELLED=1]="CANCELLED",$l[$l.UNKNOWN=2]="UNKNOWN",$l[$l.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$l[$l.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$l[$l.NOT_FOUND=5]="NOT_FOUND",$l[$l.ALREADY_EXISTS=6]="ALREADY_EXISTS",$l[$l.PERMISSION_DENIED=7]="PERMISSION_DENIED",$l[$l.UNAUTHENTICATED=16]="UNAUTHENTICATED",$l[$l.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$l[$l.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$l[$l.ABORTED=10]="ABORTED",$l[$l.OUT_OF_RANGE=11]="OUT_OF_RANGE",$l[$l.UNIMPLEMENTED=12]="UNIMPLEMENTED",$l[$l.INTERNAL=13]="INTERNAL",$l[$l.UNAVAILABLE=14]="UNAVAILABLE",$l[$l.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tf=function(){function t(t,e){this.i=t,this.root=e||nf.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,nf.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,nf.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new ef(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new ef(this.root,t,this.i,!1)},t.prototype.dt=function(){return new ef(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new ef(this.root,t,this.i,!0)},t}(),ef=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),nf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw $h();if(this.right.yt())throw $h();var t=this.left.Nt();if(t!==this.right.Nt())throw $h();return t+(this.yt()?0:1)},t}();nf.EMPTY=null,nf.RED=!0,nf.at=!1,nf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw $h()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw $h()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw $h()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw $h()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw $h()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new nf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rf=function(){function t(t){this.i=t,this.data=new tf(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new of(this.data._t())},t.prototype.ft=function(t){return new of(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),of=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),sf=new tf(ol.i);function af(){return sf}function uf(){return af()}var cf=new tf(ol.i);function hf(){return cf}var lf=new tf(ol.i),ff=new rf(ol.i);function pf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ff,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var df=new rf(Nl);function vf(){return df}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yf=function(){function t(t){this.i=t?function(e,n){return t(e,n)||ol.i(e.key,n.key)}:function(t,e){return ol.i(t.key,e.key)},this.Ot=hf(),this.Lt=new tf(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),gf=function(){function t(){this.qt=new tf(ol.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):$h():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),mf=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=s,this.Kt=a}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,yf.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&Sd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),bf=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,wf.Zt(e,n)),new t(Vl.min(),r,vf(),af(),pf())},t}(),wf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Dl.B,n,pf(),pf(),pf())},t}(),If=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Ef=function(t,e){this.targetId=t,this.oe=e},Tf=function(t,e,n,r){void 0===n&&(n=Dl.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},_f=function(){function t(){this.ae=0,this.ce=Nf(),this.ue=Dl.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=pf(),e=pf(),n=pf();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:$h()}})),new wf(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Nf()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Af=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=af(),this.Ve=Sf(),this.pe=new rf(Nl)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof hd?this.ve(r,t.re):t.re instanceof ld&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Se(s,t.key,t.re)}},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:$h()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(Wl(i))if(0===n){var o=new ol(i.path);this.Se(e,o,new ld(o,Vl.min()))}else Yh(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&Wl(o.target)){var s=new ol(o.target.path);null!==e.ye.get(s)||e.Le(i,s)||e.Se(i,s,new ld(s,t))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=pf();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new bf(t,n,this.pe,this.ye,r);return this.ye=af(),this.Ve=Sf(),this.pe=new rf(Nl),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new _f,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new rf(Nl),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||Hh("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new _f),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(){return new tf(ol.i)}function Nf(){return new tf(ol.i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Of(t){var e=t.mapValue.fields.__previous_value__;return kf(e)?Of(e):e}function Df(t){var e=Vf(t.mapValue.fields.__local_write_time__.timestampValue);return new jl(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kf(t)?4:10:$h()}function Pf(t,e){var n,r=xf(t);if(r!==xf(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Df(t).isEqual(Df(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Vf(t.timestampValue),r=Vf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,qf(t.bytesValue).isEqual(qf(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ff(t.geoPointValue.latitude)===Ff(e.geoPointValue.latitude)&&Ff(t.geoPointValue.longitude)===Ff(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ff(t.integerValue)===Ff(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ff(t.doubleValue),r=Ff(e.doubleValue);return n===r?ql(n)===ql(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return kl(t.arrayValue.values||[],e.arrayValue.values||[],Pf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Qh(n)!==Qh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pf(n[i],r[i])))return!1;return!0}(t,e);default:return $h()}}function Cf(t,e){return void 0!==(t.values||[]).find((function(t){return Pf(t,e)}))}function Lf(t,e){var n,r,i,o,s=xf(t),a=xf(e);if(s!==a)return Nl(s,a);switch(s){case 0:return 0;case 1:return Nl(t.booleanValue,e.booleanValue);case 2:return r=e,i=Ff((n=t).integerValue||n.doubleValue),o=Ff(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Mf(t.timestampValue,e.timestampValue);case 4:return Mf(Df(t),Df(e));case 5:return Nl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=qf(t),r=qf(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Nl(n[i],r[i]);if(0!==o)return o}return Nl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Nl(Ff(t.latitude),Ff(e.latitude));return 0!==n?n:Nl(Ff(t.longitude),Ff(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Lf(n[i],r[i]);if(o)return o}return Nl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Nl(r[s],o[s]);if(0!==a)return a;var u=Lf(n[r[s]],i[o[s]]);if(0!==u)return u}return Nl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw $h()}}function Mf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Nl(t,e);var n=Vf(t),r=Vf(e),i=Nl(n.seconds,r.seconds);return 0!==i?i:Nl(n.nanos,r.nanos)}function Uf(t){return jf(t)}function jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=Vf(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?qf(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,ol.C(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=jf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+jf(t.fields[o])}return e+"}"}(t.mapValue):$h();var e,n,r,i}function Vf(t){if(Yh(!!t),"string"==typeof t){var e=0,n=Rf.exec(t);if(Yh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ff(t.seconds),nanos:Ff(t.nanos)}}function Ff(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function qf(t){return"string"==typeof t?Dl.fromBase64String(t):Dl.fromUint8Array(t)}function Bf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function Gf(t){return!!t&&"integerValue"in t}function zf(t){return!!t&&"arrayValue"in t}function Hf(t){return!!t&&"nullValue"in t}function Kf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf={asc:"ASCENDING",desc:"DESCENDING"},$f={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yf=function(t,e){this.U=t,this.Qe=e};function Jf(t){return{integerValue:""+t}}function Qf(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ql(e)?"-0":e}}function Zf(t,e){return Bl(e)?Jf(e):Qf(t,e)}function tp(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ep(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function np(t,e){return tp(t,e.Z())}function rp(t){return Yh(!!t),Vl.J((e=Vf(t),new jl(e.seconds,e.nanos)));var e}function ip(t,e){return(n=t,new nl(["projects",n.projectId,"databases",n.database])).child("documents").child(e).R();var n}function op(t){var e=nl.g(t);return Yh(kp(e)),e}function sp(t,e){return ip(t.U,e.path)}function ap(t,e){var n=op(e);return Yh(n.get(1)===t.U.projectId),Yh(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new ol(lp(n))}function up(t,e){return ip(t.U,e)}function cp(t){var e=op(t);return 4===e.length?nl.P():lp(e)}function hp(t){return new nl(["projects",t.U.projectId,"databases",t.U.database]).R()}function lp(t){return Yh(t.length>4&&"documents"===t.get(4)),t.u(5)}function fp(t,e,n){return{name:sp(t,e),fields:n.proto.mapValue.fields}}function pp(t,e){var n,r,i;if(e instanceof Qp)n={update:fp(t,e.key,e.value)};else if(e instanceof id)n={delete:sp(t,e.key)};else if(e instanceof Zp)n={update:fp(t,e.key,e.data),updateMask:Np(e.We)};else if(e instanceof ed)n={transform:{document:sp(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Pp)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cp)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof Mp)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof jp)return{fieldPath:e.field.R(),increment:n.je};throw $h()}(0,t)}))}};else{if(!(e instanceof od))return $h();n={verify:sp(t,e.key)}}return e.Ge.Ke||(n.currentDocument=(r=t,void 0!==(i=e.Ge).updateTime?{updateTime:np(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$h())),n}function dp(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?zp.updateTime(rp(n.updateTime)):void 0!==n.exists?zp.exists(n.exists):zp.ze():zp.ze();if(e.update){e.update.name;var i=ap(t,e.update.name),o=new sd({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new qp(e.map((function(t){return il.S(t)})))}(e.updateMask);return new Zp(i,o,s,r)}return new Qp(i,o,r)}if(e.delete){var a=ap(t,e.delete);return new id(a,r)}if(e.transform){var u=ap(t,e.transform.document),c=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Yh("REQUEST_TIME"===e.setToServerValue),n=new Pp;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Cp(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Mp(i)}else"increment"in e?n=new jp(t,e.increment):$h();var o=il.S(e.fieldPath);return new Bp(o,n)}(t,e)}));return Yh(!0===r.exists),new ed(u,c)}if(e.verify){var h=ap(t,e.verify);return new od(h,r)}return $h()}function vp(t,e){return{documents:[up(t,e.path)]}}function yp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=up(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=up(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Kf(t.value))return{unaryFilter:{field:Tp(t.field),op:"IS_NAN"}};if(Hf(t.value))return{unaryFilter:{field:Tp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Kf(t.value))return{unaryFilter:{field:Tp(t.field),op:"IS_NOT_NAN"}};if(Hf(t.value))return{unaryFilter:{field:Tp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tp(t.field),op:Ep(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Tp((e=t).field),direction:Ip(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.Qe||Fl(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=bp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=bp(e.endAt)),n}function gp(t){var e=cp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yh(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=mp(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new zd(_p((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,h=null;n.limit&&(u=n.limit,h=Fl(c="object"==typeof u?u.value:u)?null:c);var l=null;n.startAt&&(l=wp(n.startAt));var f=null;return n.endAt&&(f=wp(n.endAt)),Ed(dd(e,i,a,s,h,"F",l,f))}function mp(t){return t?void 0!==t.unaryFilter?[Sp(t)]:void 0!==t.fieldFilter?[Ap(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return mp(t)})).reduce((function(t,e){return t.concat(e)})):$h():[]}function bp(t){return{before:t.before,values:t.position}}function wp(t){var e=!!t.before,n=t.values||[];return new Fd(n,e)}function Ip(t){return Xf[t]}function Ep(t){return $f[t]}function Tp(t){return{fieldPath:t.R()}}function _p(t){return il.S(t.fieldPath)}function Ap(t){return Rd.create(_p(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return $h()}}(t.fieldFilter.op),t.fieldFilter.value)}function Sp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_p(t.unaryFilter.field);return Rd.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_p(t.unaryFilter.field);return Rd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_p(t.unaryFilter.field);return Rd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_p(t.unaryFilter.field);return Rd.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return $h()}}function Np(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function kp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Op=function(){this.He=void 0};function Dp(t,e,n){return t instanceof Pp?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof Cp?Lp(t,e):t instanceof Mp?Up(t,e):function(t,e){var n=xp(t,e),r=Vp(n)+Vp(t.je);return Gf(n)&&Gf(t.je)?Jf(r):Qf(t.serializer,r)}(t,e);var r,i,o}function Rp(t,e,n){return t instanceof Cp?Lp(t,e):t instanceof Mp?Up(t,e):n}function xp(t,e){return t instanceof jp?Gf(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var Pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e}(Op),Cp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return zo(e,t),e}(Op);function Lp(t,e){for(var n=Fp(e),r=function(t){n.some((function(e){return Pf(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Mp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return zo(e,t),e}(Op);function Up(t,e){for(var n=Fp(e),r=function(t){n=n.filter((function(e){return!Pf(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return zo(e,t),e}(Op);function Vp(t){return Ff(t.integerValue||t.doubleValue)}function Fp(t){return zf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qp=function(){function t(t){this.fields=t,t.sort(il.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return kl(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Bp=function(t,e){this.field=t,this.transform=e},Gp=function(t,e){this.version=t,this.transformResults=e},zp=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Hp(t,e){return void 0!==t.updateTime?e instanceof hd&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof hd}var Kp=function(){};function Wp(t,e,n){return t instanceof Qp?(i=n,new hd((r=t).key,i.version,r.value,{hasCommittedMutations:!0})):t instanceof Zp?function(t,e,n){if(!Hp(t.Ge,e))return new fd(t.key,n.version);var r=td(t,e);return new hd(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ed?function(t,e,n){if(Yh(null!=n.transformResults),!Hp(t.Ge,e))return new fd(t.key,n.version);var r=nd(t,e),i=function(t,e,n){var r=[];Yh(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof hd&&(a=e.field(o.field)),r.push(Rp(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=rd(t,r.data(),i);return new hd(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ld(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n);var r,i}function Xp(t,e,n,r){return t instanceof Qp?function(t,e){if(!Hp(t.Ge,e))return e;var n=Jp(e);return new hd(t.key,n,t.value,{Je:!0})}(t,e):t instanceof Zp?function(t,e){if(!Hp(t.Ge,e))return e;var n=Jp(e),r=td(t,e);return new hd(t.key,n,r,{Je:!0})}(t,e):t instanceof ed?function(t,e,n,r){if(!Hp(t.Ge,e))return e;var i=nd(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof hd&&(c=n.field(a.field)),null===c&&r instanceof hd&&(c=r.field(a.field)),i.push(Dp(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=rd(t,i.data(),o);return new hd(t.key,i.version,s,{Je:!0})}(t,e,r,n):(o=e,Hp((i=t).Ge,o)?new ld(i.key,Vl.min()):o);var i,o}function $p(t,e){return t instanceof ed?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof hd?e.field(o.field):void 0,a=xp(o.transform,s||null);null!=a&&(n=null==n?(new ad).set(o.field,a):n.set(o.field,a))}return n?n.Xe():null}(t,e):null}function Yp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||kl(t.fieldTransforms,t.fieldTransforms,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Cp&&o instanceof Cp||i instanceof Mp&&o instanceof Mp?kl(i.elements,o.elements,Pf):i instanceof jp&&o instanceof jp?Pf(i.je,o.je):i instanceof Pp&&o instanceof Pp);var n,r,i,o})))}function Jp(t){return t instanceof hd?t.version:Vl.min()}var Qp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return zo(e,t),e}(Kp),Zp=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return zo(e,t),e}(Kp);function td(t,e){return n=t,r=e instanceof hd?e.data():sd.empty(),i=new ad(r),n.We.fields.forEach((function(t){if(!t.m()){var e=n.data.field(t);null!==e?i.set(t,e):i.delete(t)}})),i.Xe();var n,r,i}var ed=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=zp.exists(!0),r}return zo(e,t),e}(Kp);function nd(t,e){return e}function rd(t,e,n){for(var r=new ad(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Xe()}var id=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return zo(e,t),e}(Kp),od=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return zo(e,t),e}(Kp),sd=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Wf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return Pf(this.proto,t.proto)},t}(),ad=function(){function t(t){void 0===t&&(t=sd.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===xf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(il.P(),this.tn);return null!=t?new sd(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=Wf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.nn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function ud(t){var e=[];return Zh(t.fields||{},(function(t,n){var r=new il([t]);if(Wf(n)){var i=ud(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new qp(e)}var cd=function(t,e){this.key=t,this.version=e},hd=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return zo(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(cd),ld=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return zo(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(cd),fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(cd),pd=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.cn=null,this.un=null,this.startAt,this.endAt};function dd(t,e,n,r,i,o,s,a){return new pd(t,e,n,r,i,o,s,a)}function vd(t){return new pd(t)}function yd(t){return!Fl(t.limit)&&"F"===t.an}function gd(t){return!Fl(t.limit)&&"L"===t.an}function md(t){return t.on.length>0?t.on[0].field:null}function bd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function wd(t){return null!==t.collectionGroup}function Id(t){var e=Jh(t);if(null===e.cn){e.cn=[];var n=bd(e),r=md(e);if(null!==n&&null===r)n.p()||e.cn.push(new zd(n)),e.cn.push(new zd(il.v(),"asc"));else{for(var i=!1,o=0,s=e.on;o<s.length;o++){var a=s[o];e.cn.push(a),a.field.p()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new zd(il.v(),u))}}}return e.cn}function Ed(t){var e=Jh(t);if(!e.un)if("F"===e.an)e.un=zl(e.path,e.collectionGroup,Id(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Id(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new zd(o.field,s))}var a=e.endAt?new Fd(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Fd(e.startAt.position,!e.startAt.before):null;e.un=zl(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.un}function Td(t,e,n){return new pd(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return new pd(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Ad(t,e){return new pd(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Sd(t,e){return Kl(Ed(t),Ed(e))&&t.an===e.an}function Nd(t){return Hl(Ed(t))+"|lt:"+t.an}function kd(t){return"Query(target="+(e=Ed(t),n=e.path.R(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+Uf(e.value);var e})).join(", ")+"]"),Fl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+qd(e.startAt)),e.endAt&&(n+=", endAt: "+qd(e.endAt)),"Target("+n+"); limitType=")+t.an+")";var e,n}function Od(t,e){return n=t,i=(r=e).key.path,(null!==n.collectionGroup?r.key.N(n.collectionGroup)&&n.path.T(i):ol.F(n.path)?n.path.isEqual(i):n.path.I(i))&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Bd(t.startAt,Id(t),e)||t.endAt&&Bd(t.endAt,Id(t),e))}(t,e);var n,r,i}function Dd(t){return function(e,n){for(var r=!1,i=0,o=Id(t);i<o.length;i++){var s=o[i],a=Hd(s,e,n);if(0!==a)return a;r=r||s.field.p()}return 0}}var Rd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return zo(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new xd(t,n,r);if(Hf(r)){if("=="!==n&&"!="!==n)throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(Kf(r)){if("=="!==n&&"!="!==n)throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new Md(t,r):"in"===n?new Ud(t,r):"not-in"===n?new jd(t,r):"array-contains-any"===n?new Vd(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Pd(t,n):new Cd(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(Lf(e,this.value)):null!==e&&xf(this.value)===xf(e)&&this._n(Lf(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $h()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),xd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ol.C(r.referenceValue),i}return zo(e,t),e.prototype.matches=function(t){var e=ol.i(t.key,this.key);return this._n(e)},e}(Rd),Pd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ld("in",n),r}return zo(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Rd),Cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ld("not-in",n),r}return zo(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Rd);function Ld(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ol.C(t.referenceValue)}))}var Md=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return zo(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return zf(e)&&Cf(e.arrayValue,this.value)},e}(Rd),Ud=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return zo(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Cf(this.value.arrayValue,e)},e}(Rd),jd=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return zo(e,t),e.prototype.matches=function(t){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Cf(this.value.arrayValue,e)},e}(Rd),Vd=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return zo(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!zf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Cf(e.value.arrayValue,t)}))},e}(Rd),Fd=function(t,e){this.position=t,this.before=e};function qd(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Uf(t)})).join(",")}function Bd(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.p()?ol.i(ol.C(s.referenceValue),n.key):Lf(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gd(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Pf(t.position[n],e.position[n]))return!1;return!0}var zd=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Hd(t,e,n){var r,i,o,s,a=t.field.p()?ol.i(e.key,n.key):(r=t.field,i=n,o=e.field(r),s=i.field(r),null!==o&&null!==s?Lf(o,s):$h());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return $h()}}function Kd(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wd=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Xd=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&Hh("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),$d=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&$h(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),Yd=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(ts())&&Kh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Hh("SimpleDb","Removing database:",t),nv(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=ts(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production"})||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return Ko(this,void 0,void 0,(function(){var e,n=this;return Wo(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Hh("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Qd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Bh(qh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Qd(t,n))},i.onupgradeneeded=function(t){Hh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Mn.createOrUpgrade(e,i.transaction,t.oldVersion,n.version).next((function(){Hh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o,s,a,u;return Wo(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,h;return Wo(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,a.Wn(t)];case 2:return a.db=l.sent(),e=tv.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),$d.reject(t)})).Fn(),u={},s.catch((function(){})),[4,e.Gn];case 3:return[2,(u.value=(l.sent(),s),u)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,Hh("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Jd=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return nv(this.zn.delete())},t}(),Qd=function(t){function e(e,n){var r=this;return(r=t.call(this,qh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return zo(e,t),e}(Bh);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return"IndexedDbTransactionError"===t.name}var tv=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new Wd,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new Qd(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=iv(e.target.error);n.Zn.reject(new Qd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(t){throw new Qd(n,t)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(Hh("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ev(e)},t}(),ev=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Hh("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Hh("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),nv(n)},t.prototype.add=function(t){return Hh("SimpleDb","ADD",this.store.name,t,t),nv(this.store.add(t))},t.prototype.get=function(t){var e=this;return nv(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Hh("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Hh("SimpleDb","DELETE",this.store.name,t),nv(this.store.delete(t))},t.prototype.count=function(){return Hh("SimpleDb","COUNT",this.store.name),nv(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){Hh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new $d((function(n,r){e.onerror=function(t){var e=iv(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new $d((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Jd(i),s=e(i.primaryKey,i.value,o);if(s instanceof $d){var a=s.catch((function(t){return o.done(),$d.reject(t)}));n.push(a)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return $d.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function nv(t){return new $d((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=iv(t.target.error);n(e)}}))}var rv=!1;function iv(t){var e=Yd.On(ts());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Bh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rv||(rv=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(){return"undefined"!=typeof window?window:null}function sv(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var av=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new Wd,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new Bh(qh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),uv=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Xd(this,"async_queue_retry"),this.Vs=function(){var e=sv();e&&Hh("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=sv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=sv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},t.prototype.Ns=function(){return Ko(this,void 0,void 0,(function(){var t,e=this;return Wo(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Zd(t=n.sent()))throw t;return Hh("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,Kh("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=av._s(this,t,e,n,(function(t){return r.Fs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&$h()},t.prototype.xs=function(){},t.prototype.$s=function(){return Ko(this,void 0,void 0,(function(){var t;return Wo(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function cv(t,e){if(Kh("AsyncQueue",e+": "+t),Zd(t))return new Bh(qh.UNAVAILABLE,e+": "+t);throw t}var hv=function(){this.Ls=void 0,this.listeners=[]},lv=function(){this.Bs=new Ul((function(t){return Nd(t)}),Sd),this.onlineState="Unknown",this.qs=new Set};function fv(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Wo(this,(function(c){switch(c.label){case 0:if(n=Jh(t),r=e.query,i=!1,(o=n.Bs.get(r))||(i=!0,o=new hv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Us(r)];case 2:return s.Ls=c.sent(),[3,4];case 3:return a=c.sent(),u=cv(a,"Initialization of query '"+kd(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.Bs.set(r,o),o.listeners.push(e),e.Qs(n.onlineState),o.Ls&&e.Ws(o.Ls)&&yv(n),[2]}}))}))}function pv(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s;return Wo(this,(function(a){return n=Jh(t),r=e.query,i=!1,(o=n.Bs.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.Bs.delete(r),n.js(r))]:[2]}))}))}function dv(t,e){for(var n=Jh(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.Bs.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Ws(s)&&(r=!0);u.Ls=s}}r&&yv(n)}function vv(t,e,n){var r=Jh(t),i=r.Bs.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(e)}function yv(t){t.qs.forEach((function(t){t.next()}))}var gv=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new mf(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Xs&&n||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){if(t.docChanges.length>0)return!0;var e=this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites;return!(!t.jt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=mf.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),mv=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mv.UNAUTHENTICATED=new mv(null),mv.ei=new mv("google-credentials-uid"),mv.ni=new mv("first-party-uid");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bv=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function wv(t,e){return"firestore_clients_"+t+"_"+e}function Iv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Ev(t,e){return"firestore_targets_"+t+"_"+e}bv.ai=-1;var Tv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Bh(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Kh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_v=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Bh(r.error.code,r.error.message)),i?new t(e,r.state,o):(Kh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Av=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=vf(),s=0;i&&s<r.activeTargetIds.length;++s)i=Bl(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Kh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Sv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Kh("SharedClientState","Failed to parse online state: "+e),null)},t}(),Nv=function(){function t(){this.activeTargetIds=vf()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),kv=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new tf(Nl),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=wv(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new Nv),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Ko(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,h,l=this;return Wo(this,(function(f){switch(f.label){case 0:return[4,this.fi.pi()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._i&&(i=this.getItem(wv(this.persistenceKey,r)))&&(o=Av.ci(r,i))&&(this.Ti=this.Ti.ot(o.clientId,o));for(this.bi(),(s=this.storage.getItem(this.Vi))&&(a=this.vi(s))&&this.Si(a),u=0,c=this.Ii;u<c.length;u++)h=c[u],this.mi(h);return this.Ii=[],this.window.addEventListener("unload",(function(){return l.Di()})),this.Ei=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(Ev(this.persistenceKey,t));if(n){var r=_v.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(Ev(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Hh("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Hh("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Hh("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Hh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void Kh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return Ko(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Wo(this,(function(a){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(r=this.Ji(n.key,n.newValue)))return[2,this.Xi(r)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(i=this.Zi(n.key,n.newValue)))return[2,this.tr(i)]}else if(n.key===this.Vi){if(null!==n.newValue&&(o=this.vi(n.newValue)))return[2,this.Si(o)]}else n.key===this.Ri&&(s=function(t){var e=bv.ai;if(null!=t)try{var n=JSON.parse(t);Yh("number"==typeof n),e=n}catch(t){Kh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==bv.ai&&this.si(s)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new Tv(this.currentUser,t,e,n),i=Iv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=Iv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){var e={clientId:this._i,onlineState:t};this.storage.setItem(this.Vi,JSON.stringify(e))},t.prototype.Wi=function(t,e,n){var r=Ev(this.persistenceKey,t),i=new _v(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return Av.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Tv.ci(new mv(i),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return _v.ci(r,e)},t.prototype.vi=function(t){return Sv.ci(t)},t.prototype.Xi=function(t){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(Hh("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fi.sr(s,a).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=vf();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),Ov=function(){function t(){this.ir=new Nv,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Nv,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Dv=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Wp(o,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Xp(i,e,e,this.ar))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Xp(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),pf())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&kl(this.mutations,t.mutations,(function(t,e){return Yp(t,e)}))&&kl(this.baseMutations,t.baseMutations,(function(t,e){return Yp(t,e)}))},t}(),Rv=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){Yh(e.mutations.length===r.length);for(var i=lf,o=e.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),xv=function(){function t(){this.wr=new Ul((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?$d.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),Pv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cv=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},t}(),Lv=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},t.prototype.$r=function(t,e,n){var r=uf();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)})),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){var i=n.$r(t,e,r),o=af();return i.forEach((function(t,e){e||(e=new ld(t,Vl.min())),o=o.ot(t,e)})),o}))},t.prototype.Lr=function(t,e,n){return r=e,ol.F(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Br(t,e.path):wd(e)?this.qr(t,e,n):this.Ur(t,e,n);var r},t.prototype.Br=function(t,e){return this.Cr(t,new ol(e)).next((function(t){var e=hf();return t instanceof hd&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=hf();return this.Dr.Qr(t,i).next((function(s){return $d.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new pd(u,null,a.on.slice(),a.filters.slice(),a.limit,a.an,a.startAt,a.endAt));return r.Ur(t,c,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Wr(t,e)})).next((function(e){return i=e,o.jr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),l=Xp(u,h,h,o.ar);r=l instanceof hd?r.ot(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Od(e,n)||(r=r.remove(t))})),r}))},t.prototype.jr=function(t,e,n){for(var r=pf(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Zp&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof hd&&(c=c.ot(t,e))})),c}))},t}(),Mv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=pf(),i=pf(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Nl(n,i);return 0===s?Nl(r,o):s}var jv=function(){function t(t){this.Hr=t,this.buffer=new rf(Uv),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Uv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Vv={Zr:!1,eo:0,no:0,so:0},Fv=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();Fv.ho=-1,Fv.lo=1048576,Fv._o=41943040,Fv.co=10,Fv.uo=1e3,Fv.fo=new Fv(Fv._o,Fv.co,Fv.uo),Fv.do=new Fv(Fv.ho,0,0);var qv=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==Fv.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;Hh("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return Ko(e,void 0,void 0,(function(){var e;return Wo(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return Zd(e=n.sent())?(Hh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,sg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Bv=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yo=function(t,e){var n=this;if(0===e)return $d.resolve(bv.ai);var r=new jv(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===Fv.ho?(Hh("LruGarbageCollector","Garbage collection skipped; disabled"),$d.resolve(Vv)):this.So(t).next((function(r){return r<n.params.io?(Hh("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),Vv):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>c.params.oo?(Hh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.oo+" from "+e),r=c.params.oo):r=e,o=Date.now(),c.yo(t,r)})).next((function(r){return n=r,s=Date.now(),c.po(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.bo(t,n)})).next((function(t){return u=Date.now(),zh()<=vs.DEBUG&&Hh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),$d.resolve({Zr:!0,eo:r,no:i,so:t})}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hv(e)),e=zv(t.get(n),e);return Hv(e)}function zv(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Hv(t){return t+""}function Kv(t){var e=t.length;if(Yh(e>=2),2===e)return Yh(""===t.charAt(0)&&""===t.charAt(1)),nl.P();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&$h(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:$h()}o=s+2}return new nl(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wv=function(t){this.Co=t};function Xv(t,e){if(e.document)return n=t.Co,r=e.document,i=!!e.hasCommittedMutations,o=ap(n,r.name),s=rp(r.updateTime),a=new sd({mapValue:{fields:r.fields}}),new hd(o,s,a,{hasCommittedMutations:!!i});var n,r,i,o,s,a;if(e.noDocument){var u=ol.$(e.noDocument.path),c=Zv(e.noDocument.readTime);return new ld(u,c,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var h=ol.$(e.unknownDocument.path),l=Zv(e.unknownDocument.version);return new fd(h,l)}return $h()}function $v(t,e,n){var r,i,o=Yv(n),s=e.key.path.h().A();if(e instanceof hd){var a={name:sp(r=t.Co,(i=e).key),fields:i.rn().mapValue.fields,updateTime:tp(r,i.version.Z())},u=e.hasCommittedMutations;return new Ay(null,null,a,u,o,s)}if(e instanceof ld){var c=e.key.path.A(),h=Qv(e.version),l=e.hasCommittedMutations;return new Ay(null,new Ty(c,h),null,l,o,s)}if(e instanceof fd){var f=e.key.path.A(),p=Qv(e.version);return new Ay(new _y(f,p),null,null,!0,o,s)}return $h()}function Yv(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function Jv(t){var e=new jl(t[0],t[1]);return Vl.J(e)}function Qv(t){var e=t.Z();return new my(e.seconds,e.nanoseconds)}function Zv(t){var e=new jl(t.seconds,t.nanoseconds);return Vl.J(e)}function ty(t,e){var n=(e.baseMutations||[]).map((function(e){return dp(t.Co,e)})),r=e.mutations.map((function(e){return dp(t.Co,e)})),i=jl.fromMillis(e.localWriteTimeMs);return new Dv(e.batchId,i,n,r)}function ey(t){var e,n,r=Zv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Zv(t.lastLimboFreeSnapshotVersion):Vl.min();return void 0!==t.query.documents?(Yh(1===(n=t.query).documents.length),e=Ed(vd(cp(n.documents[0])))):e=gp(t.query),new Yl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Dl.fromBase64String(t.resumeToken))}function ny(t,e){var n,r=Qv(e.nt),i=Qv(e.lastLimboFreeSnapshotVersion);n=Wl(e.target)?vp(t.Co,e.target):yp(t.Co,e.target);var o=e.resumeToken.toBase64();return new Ny(e.targetId,Hl(e.target),r,o,e.sequenceNumber,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ry=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return Yh(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sy(t).rs({index:Iy.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.ko=function(t,e,n,r){var i=this,o=ay(t),s=sy(t);return s.add({}).next((function(a){Yh("number"==typeof a);for(var u=new Dv(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return pp(t.Co,e)})),i=n.mutations.map((function(e){return pp(t.Co,e)}));return new Iy(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),h=[],l=new rf((function(t,e){return Nl(t.R(),e.R())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Ey.key(i.userId,d.key.path,a);l=l.add(d.key.path.h()),h.push(s.put(c)),h.push(o.put(v,Ey.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[a]=u.keys()})),$d.$n(h).next((function(){return u}))}))},t.prototype.Oo=function(t,e){var n=this;return sy(t).get(e).next((function(t){return t?(Yh(t.userId===n.userId),ty(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?$d.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sy(t).rs({index:Iy.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Yh(e.batchId>=r),o=ty(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sy(t).rs({index:Iy.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sy(t).ts(Iy.userMutationsIndex,n).next((function(t){return t.map((function(t){return ty(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=Ey.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ay(t).rs({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Kv(u);if(a===n.userId&&e.path.isEqual(h))return sy(t).get(c).next((function(t){if(!t)throw $h();Yh(t.userId===n.userId),o.push(ty(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.Or=function(t,e){var n=this,r=new rf(Nl),i=[];return e.forEach((function(e){var o=Ey.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ay(t).rs({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Kv(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),$d.$n(i).next((function(){return n.Qo(t,r)}))},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ey.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new rf(Nl);return ay(t).rs({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Kv(u);s===n.userId&&r.T(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Qo(t,a)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(sy(t).get(e).next((function(t){if(null===t)throw $h();Yh(t.userId===n.userId),r.push(ty(n.serializer,t))})))})),$d.$n(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return oy(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),$d.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return $d.resolve();var r=IDBKeyRange.lowerBound(Ey.prefixForUser(e.userId)),i=[];return ay(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Kv(t[1]);i.push(o)}else r.done()})).next((function(){Yh(0===i.length)}))}))},t.prototype.Ho=function(t,e){return iy(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return uy(t).get(this.userId).next((function(t){return t||new wy(e.userId,-1,"")}))},t}();function iy(t,e,n){var r=Ey.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ay(t).rs({range:o,ss:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function oy(t,e,n){var r=t.store(Iy.store),i=t.store(Ey.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Yh(1===a)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=Ey.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return $d.$n(o).next((function(){return c}))}function sy(t){return Gy.Qn(t,Iy.store)}function ay(t){return Gy.Qn(t,Ey.store)}function uy(t){return Gy.Qn(t,wy.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cy=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return fy(t).put(py(e),n)},t.prototype.Ar=function(t,e){var n=fy(t),r=py(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return fy(t).get(py(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return fy(t).get(py(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:dy(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=uf();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=uf(),i=new tf(ol.i);return this.ea(t,e,(function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,dy(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.m())return $d.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return fy(t).rs({range:r},(function(t,e,r){for(var s=ol.$(t);o&&ol.i(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=hf(),o=e.path.length+1,s={};if(n.isEqual(Vl.min())){var a=e.path.A();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.A(),c=Yv(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ay.collectionReadTimeIndex}return fy(t).rs(s,(function(t,n,s){if(t.length===o){var a=Xv(r.serializer,n);e.path.T(a.key.path)?a instanceof hd&&Od(e,a)&&(i=i.ot(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new hy(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ly(t).get(Sy.key).next((function(t){return Yh(!!t),t}))},t.prototype.Jo=function(t,e){return ly(t).put(Sy.key,e)},t.prototype.Xo=function(t){if(t){var e=Xv(this.serializer,t);return e instanceof ld&&e.version.isEqual(Vl.min())?null:e}return null},t}(),hy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new Ul((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return zo(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new rf((function(t,e){return Nl(t.R(),e.R())}));return this.wr.forEach((function(o,s){var a=e.ua.get(o);if(s){var u=$v(e.ca.serializer,s,e.readTime);i=i.add(o.path.h());var c=dy(u);r+=c-a,n.push(e.ca.Er(t,o,u))}else if(r-=a,e.oa){var h=$v(e.ca.serializer,new ld(o,Vl.min()),e.readTime);n.push(e.ca.Er(t,o,h))}else n.push(e.ca.Ar(t,o))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),$d.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},e}(xv);function ly(t){return Gy.Qn(t,Sy.store)}function fy(t){return Gy.Qn(t,Ay.store)}function py(t){return t.path.A()}function dy(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw $h();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vy=function(){function t(){this.ha=new yy}return t.prototype.Mo=function(t,e){return this.ha.add(e),$d.resolve()},t.prototype.Qr=function(t,e){return $d.resolve(this.ha.getEntries(e))},t}(),yy=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new rf(nl.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rf(nl.i)).A()},t}(),gy=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Yh(n<r&&n>=0&&r<=10);var o=new tv("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(by.store),function(t){t.createObjectStore(wy.store,{keyPath:wy.keyPath}),t.createObjectStore(Iy.store,{keyPath:Iy.keyPath,autoIncrement:!0}).createIndex(Iy.userMutationsIndex,Iy.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ey.store)}(t),Ry(t),function(t){t.createObjectStore(Ay.store)}(t));var s=$d.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ky.store),t.deleteObjectStore(Ny.store),t.deleteObjectStore(Oy.store)}(t),Ry(t)),s=s.next((function(){return function(t){var e=t.store(Oy.store),n=new Oy(0,0,Vl.min().Z(),0);return e.put(Oy.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Iy.store).ts().next((function(n){t.deleteObjectStore(Iy.store),t.createObjectStore(Iy.store,{keyPath:Iy.keyPath,autoIncrement:!0}).createIndex(Iy.userMutationsIndex,Iy.userMutationsKeyPath,{unique:!0});var r=e.store(Iy.store),i=n.map((function(t){return r.put(t)}));return $d.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(xy.store,{keyPath:xy.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Sy.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ay.store);e.createIndex(Ay.readTimeIndex,Ay.readTimeIndexPath,{unique:!1}),e.createIndex(Ay.collectionReadTimeIndex,Ay.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ay.store).rs((function(t,n){e+=dy(n)})).next((function(){var n=new Sy(e);return t.store(Sy.store).put(Sy.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(wy.store),r=t.store(Iy.store);return n.ts().next((function(n){return $d.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Iy.userMutationsIndex,i).next((function(r){return $d.forEach(r,(function(r){Yh(r.userId===n.userId);var i=ty(e.serializer,r);return oy(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ky.store),n=t.store(Ay.store);return t.store(Oy.store).get(Oy.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new nl(n),s=[0,Gv(o)];r.push(e.get(s).next((function(n){return n?$d.resolve():(r=o,e.put(new ky(0,Gv(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return $d.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Dy.store,{keyPath:Dy.keyPath});var n=e.store(Dy.store),r=new yy,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:Gv(i)})}};return e.store(Ay.store).rs({ss:!0},(function(t,e){var n=new nl(t);return i(n.h())})).next((function(){return e.store(Ey.store).rs({ss:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Kv(n));return i(r.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Ny.store);return n.rs((function(t,r){var i=ey(r),o=ny(e.serializer,i);return n.put(o)}))},t}(),my=function(t,e){this.seconds=t,this.nanoseconds=e},by=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};by.store="owner",by.key="owner";var wy=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};wy.store="mutationQueues",wy.keyPath="userId";var Iy=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Iy.store="mutations",Iy.keyPath="batchId",Iy.userMutationsIndex="userMutationsIndex",Iy.userMutationsKeyPath=["userId","batchId"];var Ey=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Gv(e)]},t.key=function(t,e,n){return[t,Gv(e),n]},t}();Ey.store="documentMutations",Ey.PLACEHOLDER=new Ey;var Ty=function(t,e){this.path=t,this.readTime=e},_y=function(t,e){this.path=t,this.version=e},Ay=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ay.store="remoteDocuments",Ay.readTimeIndex="readTimeIndex",Ay.readTimeIndexPath="readTime",Ay.collectionReadTimeIndex="collectionReadTimeIndex",Ay.collectionReadTimeIndexPath=["parentPath","readTime"];var Sy=function(t){this.byteSize=t};Sy.store="remoteDocumentGlobal",Sy.key="remoteDocumentGlobalKey";var Ny=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ny.store="targets",Ny.keyPath="targetId",Ny.queryTargetsIndexName="queryTargetsIndex",Ny.queryTargetsKeyPath=["canonicalId","targetId"];var ky=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ky.store="targetDocuments",ky.keyPath=["targetId","path"],ky.documentTargetsIndex="documentTargetsIndex",ky.documentTargetsKeyPath=["path","targetId"];var Oy=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Oy.key="targetGlobalKey",Oy.store="targetGlobal";var Dy=function(t,e){this.collectionId=t,this.parent=e};function Ry(t){t.createObjectStore(ky.store,{keyPath:ky.keyPath}).createIndex(ky.documentTargetsIndex,ky.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ny.store,{keyPath:Ny.keyPath}).createIndex(Ny.queryTargetsIndexName,Ny.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Oy.store)}Dy.store="collectionParents",Dy.keyPath=["collectionId","parent"];var xy=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};xy.store="clientMetadata",xy.keyPath="clientId";var Py=Jo(Jo(Jo([wy.store,Iy.store,Ey.store,Ay.store,Ny.store,by.store,Oy.store,ky.store],[xy.store]),[Sy.store]),[Dy.store]),Cy=function(){function t(){this.la=new yy}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr((function(){n.la.add(e)}));var o={collectionId:r,parent:Gv(i)};return Ly(t).put(o)}return $d.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ol(e),""],!1,!0);return Ly(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Kv(o.parent))}return n}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){return Gy.Qn(t,Dy.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var My=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),Uy=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new My(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ea=function(t){return this.ma(t).next((function(t){return Vl.J(new jl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return jy(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return Yh(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return jy(t).rs((function(s,a){var u=ey(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Va(t,u)))})).next((function(){return $d.$n(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return jy(t).rs((function(t,n){var r=ey(n);e(r)}))},t.prototype.ma=function(t){return Vy(t).get(Oy.key).next((function(t){return Yh(null!==t),t}))},t.prototype.Ta=function(t,e){return Vy(t).put(Oy.key,e)},t.prototype.ga=function(t,e){return jy(t).put(ny(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=Hl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jy(t).rs({range:r,index:Ny.queryTargetsIndexName},(function(t,n,r){var o=ey(n);Kl(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=Fy(t);return e.forEach((function(e){var s=Gv(e.path);i.push(o.put(new ky(n,s))),i.push(r.No.Da(t,n,e))})),$d.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=Fy(t);return $d.forEach(e,(function(e){var o=Gv(e.path);return $d.$n([i.delete([n,o]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=Fy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fy(t),i=pf();return r.rs({range:n,ss:!0},(function(t,e,n){var r=Kv(t[1]),o=new ol(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=Gv(e.path),r=IDBKeyRange.bound([n],[Ol(n)],!1,!0),i=0;return Fy(t).rs({index:ky.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return jy(t).get(e).next((function(t){return t?ey(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){return Gy.Qn(t,Ny.store)}function Vy(t){return Gy.Qn(t,Oy.store)}function Fy(t){return Gy.Qn(t,ky.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qy="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",By=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return zo(e,t),e}(Cv),Gy=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=a,this.$a=c,this.ka=h,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new Bh(qh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var l,f;this.No=new Ky(this,i),this.Wa=n+"main",this.serializer=new Wv(u),this.ja=new Yd(this.Wa,10,new gy(this.serializer)),this.Ka=new Uy(this.No,this.serializer),this.Dr=new Cy,this.vr=(l=this.serializer,f=this.Dr,new cy(l,f)),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===h&&Kh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof By)return Yd.Qn(t.jo,e);throw $h()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Bh(qh.FAILED_PRECONDITION,qy);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new bv(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return Ko(e,void 0,void 0,(function(){return Wo(this,(function(e){return this.Ei?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn((function(n){return Ko(e,void 0,void 0,(function(){return Wo(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return Ko(e,void 0,void 0,(function(){return Wo(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Hy(e).put(new xy(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(Zd(e))return Hh("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Hh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},t.prototype.ec=function(t){var e=this;return zy(t).get(by.key).next((function(t){return $d.resolve(e.rc(t))}))},t.prototype.oc=function(t){return Hy(t).delete(this.clientId)},t.prototype.ac=function(){return Ko(this,void 0,void 0,(function(){var e,n,r,i,o=this;return Wo(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Qn(e,xy.store);return n.ts().next((function(t){var e=o.uc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return $d.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.Ga)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ga.removeItem(this.hc(i.clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?$d.resolve(!0):zy(t).get(by.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new Bh(qh.FAILED_PRECONDITION,qy);return!1}}return!(!e.networkEnabled||!e.inForeground)||Hy(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Hh("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return Ko(this,void 0,void 0,(function(){var t=this;return Wo(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[by.store,xy.store],(function(e){var n=new By(e,bv.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},t.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Hy(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return ry.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r=this;Hh("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.ja.runTransaction(t,o,Py,(function(o){return i=new By(o,r.Ma?r.Ma.next():bv.ai),"readwrite-primary"===e?r.ec(i).next((function(t){return!!t||r.nc(i)})).next((function(e){if(!e)throw Kh("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.fn.Cs((function(){return r.Qa(!1)})),new Bh(qh.FAILED_PRECONDITION,Pv);return n(i)})).next((function(t){return r.ic(i).next((function(){return t}))})):r.Ac(i).next((function(){return n(i)}))})).then((function(t){return i.br(),t}))},t.prototype.Ac=function(t){var e=this;return zy(t).get(by.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Bh(qh.FAILED_PRECONDITION,qy)}))},t.prototype.ic=function(t){var e=new by(this.clientId,this.allowTabSynchronization,Date.now());return zy(t).put(by.key,e)},t.Ln=function(){return Yd.Ln()},t.prototype.sc=function(t){var e=this,n=zy(t);return n.get(by.key).next((function(t){return e.rc(t)?(Hh("IndexedDbPersistence","Releasing primary lease."),n.delete(by.key)):$d.resolve()}))},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Kh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return Hh("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Kh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(t){Kh("Failed to set zombie client id.",t)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(t){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function zy(t){return Gy.Qn(t,by.store)}function Hy(t){return Gy.Qn(t,xy.store)}var Ky=function(){function t(t,e){this.db=t,this.wo=new Bv(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return Wy(t,n)},t.prototype.Na=function(t,e,n){return Wy(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return Wy(t,e)},t.prototype.Pc=function(t,e){return r=e,i=!1,uy(n=t).os((function(t){return iy(n,t,r).next((function(t){return t&&(i=!0),$d.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,(function(s,a){if(a<=e){var u=n.Pc(t,s).next((function(e){if(!e)return o++,r.Rr(t,s).next((function(){return r.Ar(s),Fy(t).delete([0,Gv(s.path)])}))}));i.push(u)}})).next((function(){return $d.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return Wy(t,e)},t.prototype.gc=function(t,e){var n,r=Fy(t),i=bv.ai;return r.rs({index:ky.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==bv.ai&&e(new ol(Kv(n)),i),i=a,n=s):i=bv.ai})).next((function(){i!==bv.ai&&e(new ol(Kv(n)),i)}))},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function Wy(t,e){return Fy(t).put((n=e,r=t.xa,new ky(0,Gv(n.path),r)));var n,r}function Xy(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var $y=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new tf(Nl),this.vc=new Ul((function(t){return Hl(t)}),Kl),this.Sc=Vl.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new Lv(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},t}();function Yy(t,e){var n=Jh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,h=e.batch.keys(),l=n.Dc.ra({oa:!0});return(r=n,i=t,o=e,s=l,a=o.batch,u=a.keys(),c=$d.resolve(),u.forEach((function(t){c=c.next((function(){return s.Rr(i,t)})).next((function(e){var n=e,r=o.dr.get(t);Yh(null!==r),(!n||n.version.L(r)<0)&&(n=a.cr(t,n,o))&&s.Er(n,o._r)}))})),c.next((function(){return r.Sr.Wo(i,a)}))).next((function(){return l.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,h)}))}))}function Jy(t){var e=Jh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function Qy(t,e){var n=Jh(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var s=[];e.zt.forEach((function(e,o){var a,u,c,h=i.get(o);if(h){s.push(n.Ka.Ca(t,e.se,o).next((function(){return n.Ka.Sa(t,e.ee,o)})));var l=e.resumeToken;if(l.O()>0){var f=h.it(l,r).st(t.xa);i=i.ot(o,f),a=h,c=e,Yh((u=f).resumeToken.O()>0),(0===a.resumeToken.O()||u.nt.X()-a.nt.X()>=3e8||c.ee.size+c.ne.size+c.se.size>0)&&s.push(n.Ka.ya(t,f))}}}));var a=af(),u=pf();if(e.Yt.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var h=i.get(u);c instanceof ld&&c.version.isEqual(Vl.min())?(o.Ar(u,r),a=a.ot(u,c)):null==h||c.version.L(h.version)>0||0===c.version.L(h.version)&&h.hasPendingWrites?(o.Er(c,r),a=a.ot(u,c)):Hh("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version),e.Jt.has(u)&&s.push(n.persistence.No.yc(t,u))}))}))),!r.isEqual(Vl.min())){var c=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)}));s.push(c)}return $d.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Cc.Mr(t,a)}))})).then((function(t){return n.bc=i,t}))}function Zy(t,e){var n=Jh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function tg(t,e){var n=Jh(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?(r=i,$d.resolve(r)):n.Ka.wa(t).next((function(i){return r=new Yl(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function eg(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s;return Wo(this,(function(a){switch(a.label){case 0:r=Jh(t),i=r.bc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.No.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Zd(s=a.sent()))throw s;return Hh("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.bc=r.bc.remove(e),r.vc.delete(i.target),[2]}}))}))}function ng(t,e,n){var r=Jh(t),i=Vl.min(),o=pf();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=Ed(e),c=Jh(s),h=c.vc.get(u),void 0!==h?$d.resolve(c.bc.get(h)):c.Ka.va(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:Vl.min(),n?o:pf())})).next((function(t){return{documents:t,Fc:o}}));var s,a,u,c,h}))}function rg(t,e){var n=Jh(t),r=Jh(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function ig(t){var e=Jh(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.Dc,r=t,i=e.Sc,o=Jh(n),s=af(),a=Yv(i),u=fy(r),c=IDBKeyRange.lowerBound(a,!0),u.rs({index:Ay.readTimeIndex,range:c},(function(t,e){var n=Xv(o.serializer,e);s=s.ot(n.key,n),a=e.readTime})).next((function(){return{xc:s,readTime:Jv(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.xc,r=t.readTime;return e.Sc=r,n}))}function og(t){return Ko(this,void 0,void 0,(function(){var e;return Wo(this,(function(n){return[2,(e=Jh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=fy(t),n=Vl.min(),e.rs({index:Ay.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Jv(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.Sc=t}))]}))}))}function sg(t){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(e){if(t.code!==qh.FAILED_PRECONDITION||t.message!==Pv)throw t;return Hh("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ag=function(){function t(){this.$c=new rf(ug.kc),this.Mc=new rf(ug.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new ug(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.Bc(new ug(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Uc=function(t){var e=this,n=new ol(new nl([])),r=new ug(n,t),i=new ug(n,t+1),o=[];return this.Mc.Ft([r,i],(function(t){e.Bc(t),o.push(t.key)})),o},t.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new ol(new nl([])),n=new ug(e,t),r=new ug(e,t+1),i=pf();return this.Mc.Ft([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new ug(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),ug=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return ol.i(t.key,e.key)||Nl(t.jc,e.jc)},t.Oc=function(t,e){return Nl(t.jc,e.jc)||ol.i(t.key,e.key)},t}(),cg=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},hg=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(mv.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),lg=function(){function t(t){var e=this;this.Jc=null,this.currentUser=mv.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(Hh("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Yh("string"==typeof n.accessToken),new cg(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return Yh(null===t||"string"==typeof t),new mv(t)},t}(),fg=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=mv.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),pg=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new fg(this.eu,this.nu))},t.prototype.Hc=function(t){t(mv.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),dg=function(){function t(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Xd(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===qh.RESOURCE_EXHAUSTED?(Kh(e.toString()),Kh("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===qh.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new Bh(qh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return Ko(t,void 0,void 0,(function(){return Wo(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Au=function(t){return Hh("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(Hh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),vg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return zo(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:$h(),o=e.targetChange.targetIds||[],s=function(t,e){return t.Qe?(Yh(void 0===e||"string"==typeof e),Dl.fromBase64String(e||"")):(Yh(void 0===e||e instanceof Uint8Array),Dl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(t){var e=void 0===t.code?qh.UNKNOWN:Zl(t.code);return new Bh(e,t.message||"")}(a);n=new Tf(i,o,s,u||null)}else if("documentChange"in e){e.documentChange;var c=e.documentChange;c.document,c.document.name,c.document.updateTime;var h=ap(t,c.document.name),l=rp(c.document.updateTime),f=new sd({mapValue:{fields:c.document.fields}}),p=new hd(h,l,f,{}),d=c.targetIds||[],v=c.removedTargetIds||[];n=new If(d,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;var y=e.documentDelete;y.document;var g=ap(t,y.document),m=y.readTime?rp(y.readTime):Vl.min(),b=new ld(g,m),w=y.removedTargetIds||[];n=new If([],w,b.key,b)}else if("documentRemove"in e){e.documentRemove;var I=e.documentRemove;I.document;var E=ap(t,I.document),T=I.removedTargetIds||[];n=new If([],T,E,null)}else{if(!("filter"in e))return $h();e.filter;var _=e.filter;_.targetId;var A=_.count||0,S=new Jl(A),N=_.targetId;n=new Ef(N,S)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Vl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vl.min():e.readTime?rp(e.readTime):Vl.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e,n,r,i,o={};o.database=hp(this.serializer),o.addTarget=(e=this.serializer,i=(n=t).target,(r=Wl(i)?{documents:vp(e,i)}:{query:yp(e,i)}).targetId=n.targetId,n.resumeToken.O()>0&&(r.resumeToken=ep(e,n.resumeToken)),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $h()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);s&&(o.labels=s),this.du(o)},e.prototype.pu=function(t){var e={};e.database=hp(this.serializer),e.removeTarget=t,this.du(e)},e}(dg),yg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.bu=!1,s}return zo(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(Yh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(Yh(void 0!==i),r.map((function(t){return function(t,e){var n=t.updateTime?rp(t.updateTime):rp(e);n.isEqual(Vl.min())&&(n=rp(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Gp(n,r)}(t,i)}))):[]),n=rp(t.commitTime);return this.listener.Du(n,e)}var r,i;return Yh(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=hp(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return pp(e.serializer,t)}))};this.du(n)},e}(dg),gg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return zo(e,t),e.prototype.xu=function(){if(this.Fu)throw new Bh(qh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===qh.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===qh.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.terminate=function(){this.Fu=!1},e}((function(){})),mg=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(Kh(e),this.Lu=!1):Hh("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),bg=function(t,e,n,r,i){var o=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=i,this.Xu.Zu((function(t){n.ws((function(){return Ko(o,void 0,void 0,(function(){return Wo(this,(function(t){switch(t.label){case 0:return Og(this)?(Hh("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Ko(this,void 0,void 0,(function(){var e;return Wo(this,(function(n){switch(n.label){case 0:return(e=Jh(t)).Yu.add(4),[4,Ig(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,wg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new mg(n,r)};function wg(t){return Ko(this,void 0,void 0,(function(){var e,n;return Wo(this,(function(r){switch(r.label){case 0:if(!Og(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ig(t){return Ko(this,void 0,void 0,(function(){var e,n;return Wo(this,(function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Eg(t){return Ko(this,void 0,void 0,(function(){var e;return Wo(this,(function(n){switch(n.label){case 0:return e=Jh(t),Hh("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Ig(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function Tg(t,e){var n=Jh(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),kg(n)?Ng(n):zg(n).uu()&&Ag(n,e))}function _g(t,e){var n=Jh(t),r=zg(n);n.Hu.delete(e),r.uu()&&Sg(n,e),0===n.Hu.size&&(r.uu()?r._u():Og(n)&&n.th.set("Unknown"))}function Ag(t,e){t.eh.Ie(e.targetId),zg(t).Vu(e)}function Sg(t,e){t.eh.Ie(e),zg(t).pu(e)}function Ng(t){t.eh=new Af({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),zg(t).start(),t.th.Bu()}function kg(t){return Og(t)&&!zg(t).cu()&&t.Hu.size>0}function Og(t){return 0===Jh(t).Yu.size}function Dg(t){t.eh=void 0}function Rg(t){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(e){return t.Hu.forEach((function(e,n){Ag(t,e)})),[2]}))}))}function xg(t,e){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(n){return Dg(t),kg(t)?(t.th.Qu(e),Ng(t)):t.th.set("Unknown"),[2]}))}))}function Pg(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o;return Wo(this,(function(s){switch(s.label){case 0:if(t.th.set("Online"),!(e instanceof Tf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o;return Wo(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Hu.has(o)?[4,t.Gu.nh(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Hu.delete(o),t.eh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Hh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Cg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof If?t.eh.be(e):e instanceof Ef?t.eh.$e(e):t.eh.De(e),n.isEqual(Vl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Jy(t.ju)];case 8:return i=s.sent(),n.L(i)>=0?[4,(a=t,u=n,c=a.eh.Oe(u),c.zt.forEach((function(t,e){if(t.resumeToken.O()>0){var n=a.Hu.get(e);n&&a.Hu.set(e,n.it(t.resumeToken,u))}})),c.Ht.forEach((function(t){var e=a.Hu.get(t);if(e){a.Hu.set(t,e.it(Dl.B,e.nt)),Sg(a,t);var n=new Yl(e.target,t,1,e.sequenceNumber);Ag(a,n)}})),a.Gu.sh(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Hh("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Cg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function Cg(t,e,n){return Ko(this,void 0,void 0,(function(){var r=this;return Wo(this,(function(i){switch(i.label){case 0:if(!Zd(e))throw e;return t.Yu.add(1),[4,Ig(t)];case 1:return i.sent(),t.th.set("Offline"),n||(n=function(){return Jy(t.ju)}),t.cs.Cs((function(){return Ko(r,void 0,void 0,(function(){return Wo(this,(function(e){switch(e.label){case 0:return Hh("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,wg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Lg(t,e){return e().catch((function(n){return Cg(t,n,e)}))}function Mg(t){return Ko(this,void 0,void 0,(function(){var e,n,r,i,o;return Wo(this,(function(s){switch(s.label){case 0:e=Jh(t),n=Hg(e),r=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,s.label=1;case 1:if(!(Og(a=e)&&a.zu.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Zy(e.ju,r)];case 3:return null===(i=s.sent())?(0===e.zu.length&&n._u(),[3,7]):(r=i.batchId,function(t,e){t.zu.push(e);var n=Hg(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Cg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Ug(e)&&jg(e),[2]}var a}))}))}function Ug(t){return Og(t)&&!Hg(t).cu()&&t.zu.length>0}function jg(t){Hg(t).start()}function Vg(t){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(e){return Hg(t).Nu(),[2]}))}))}function Fg(t){return Ko(this,void 0,void 0,(function(){var e,n,r,i;return Wo(this,(function(o){for(e=Hg(t),n=0,r=t.zu;n<r.length;n++)i=r[n],e.Su(i.mutations);return[2]}))}))}function qg(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i;return Wo(this,(function(o){switch(o.label){case 0:return r=t.zu.shift(),i=Rv.from(r,e,n),[4,Lg(t,(function(){return t.Gu.ih(i)}))];case 1:return o.sent(),[4,Mg(t)];case 2:return o.sent(),[2]}}))}))}function Bg(t,e){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(n){switch(n.label){case 0:return e&&Hg(t).vu?[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r;return Wo(this,(function(i){switch(i.label){case 0:return Ql(r=e.code)&&r!==qh.ABORTED?(n=t.zu.shift(),Hg(t).lu(),[4,Lg(t,(function(){return t.Gu.rh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Mg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ug(t)&&jg(t),[2]}}))}))}function Gg(t,e){return Ko(this,void 0,void 0,(function(){var n;return Wo(this,(function(r){switch(r.label){case 0:return n=Jh(t),e?(n.Yu.delete(2),[4,wg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,Ig(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function zg(t){var e,n,r,i,o=this;return t.oh||(t.oh=(e=t.Ku,n=t.cs,r={gu:Rg.bind(null,t),Tu:xg.bind(null,t),yu:Pg.bind(null,t)},(i=Jh(e)).xu(),new vg(n,i.iu,i.credentials,i.serializer,r)),t.Ju.push((function(e){return Ko(o,void 0,void 0,(function(){return Wo(this,(function(n){switch(n.label){case 0:return e?(t.oh.lu(),kg(t)?Ng(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:n.sent(),Dg(t),n.label=3;case 3:return[2]}}))}))}))),t.oh}function Hg(t){var e,n,r,i,o=this;return t.ah||(t.ah=(e=t.Ku,n=t.cs,r={gu:Vg.bind(null,t),Tu:Bg.bind(null,t),Cu:Fg.bind(null,t),Du:qg.bind(null,t)},(i=Jh(e)).xu(),new yg(n,i.iu,i.credentials,i.serializer,r)),t.Ju.push((function(e){return Ko(o,void 0,void 0,(function(){return Wo(this,(function(n){switch(n.label){case 0:return e?(t.ah.lu(),[4,Mg(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:n.sent(),t.zu.length>0&&(Hh("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),n.label=4;case 4:return[2]}}))}))}))),t.ah}var Kg=function(t){this.key=t},Wg=function(t){this.key=t},Xg=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=pf(),this.Wt=pf(),this._h=Dd(t),this.fh=new yf(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new gf,i=e?e.fh:this.fh,o=e?e.Wt:this.Wt,s=i,a=!1,u=yd(this.query)&&i.size===this.query.limit?i.last():null,c=gd(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var h=i.get(t),l=e instanceof hd?e:null;l&&(l=Od(n.query,l)?l:null);var f=!!h&&n.Wt.has(h.key),p=!!l&&(l.Je||n.Wt.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data().isEqual(l.data())?f!==p&&(r.track({type:3,doc:l}),d=!0):n.Th(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n._h(l,u)>0||c&&n._h(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),yd(this.query)||gd(this.query))for(;s.size>this.query.limit;){var h=yd(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fh:s,mh:r,Eh:a,Wt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $h()}})(n)-o(i)||r._h(t.doc,e.doc);var n,i,o})),this.Ih(n);var s=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,u=a!==this.hh;return this.hh=a,0!==o.length||u?{snapshot:new mf(this.query,t.fh,i,o,t.Wt,0===a,u,!1),Rh:s}:{Rh:s}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new gf,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=pf(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new Wg(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new Kg(t))})),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=pf();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return mf.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),$g=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yg=function(t){this.key=t,this.Vh=!1},Jg=function(){function t(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new Ul((function(t){return Nd(t)}),Sd),this.Fh=new Map,this.xh=[],this.$h=new tf(ol.i),this.kh=new Map,this.Mh=new ag,this.Oh={},this.Lh=new Map,this.Bh=My.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function Qg(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Wo(this,(function(u){switch(u.label){case 0:return n=_m(t),(o=n.Nh.get(e))?(r=o.targetId,n.Sh.Oi(r),i=o.view.yh(),[3,4]):[3,1];case 1:return[4,tg(n.ju,Ed(e))];case 2:return s=u.sent(),a=n.Sh.Oi(s.targetId),r=s.targetId,[4,Zg(n,e,r,"current"===a)];case 3:i=u.sent(),n.Uh&&Tg(n.ph,s),u.label=4;case 4:return[2,i]}}))}))}function Zg(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Wo(this,(function(h){switch(h.label){case 0:return t.Qh=function(e,n,r){return function(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o,s;return Wo(this,(function(a){switch(a.label){case 0:return(i=e.view.wh(n)).Eh?[4,ng(t.ju,e.query,!1).then((function(t){var n=t.documents;return e.view.wh(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.zt.get(e.targetId),s=e.view.yr(i,t.Uh,o),[2,(hm(t,e.targetId,s.Rh),s.snapshot)]}}))}))}(t,e,n,r)},[4,ng(t.ju,e,!0)];case 1:return i=h.sent(),o=new Xg(e,i.Fc),s=o.wh(i.documents),a=wf.Zt(n,r&&"Offline"!==t.onlineState),u=o.yr(s,t.Uh,a),hm(t,n,u.Rh),c=new $g(e,n,o),[2,(t.Nh.set(e,c),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),u.snapshot)]}}))}))}function tm(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i;return Wo(this,(function(o){switch(o.label){case 0:return n=Jh(t),r=n.Nh.get(e),(i=n.Fh.get(r.targetId)).length>1?[2,(n.Fh.set(r.targetId,i.filter((function(t){return!Sd(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(r.targetId),n.Sh.Fi(r.targetId)?[3,2]:[4,eg(n.ju,r.targetId,!1).then((function(){n.Sh.Ui(r.targetId),_g(n.ph,r.targetId),um(n,r.targetId)})).catch(sg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return um(n,r.targetId),[4,eg(n.ju,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function em(t,e){return Ko(this,void 0,void 0,(function(){var n,r;return Wo(this,(function(i){switch(i.label){case 0:n=Jh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Qy(n.ju,e)];case 2:return r=i.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(Yh(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?Yh(r.Vh):t.se.size>0&&(Yh(r.Vh),r.Vh=!1))})),[4,pm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,sg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function nm(t,e,n){var r=Jh(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Jh(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(e)&&(r=!0)})),r&&yv(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function rm(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Wo(this,(function(c){switch(c.label){case 0:return(r=Jh(t)).Sh.Qi(e,"rejected",n),i=r.kh.get(e),(o=i&&i.key)?(s=(s=new tf(ol.i)).ot(o,new ld(o,Vl.min())),a=pf().add(o),u=new bf(Vl.min(),new Map,new rf(Nl),s,a),[4,em(r,u)]):[3,2];case 1:return c.sent(),r.$h=r.$h.remove(o),r.kh.delete(e),fm(r),[3,4];case 2:return[4,eg(r.ju,e,!1).then((function(){return um(r,e,n)})).catch(sg)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function im(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i;return Wo(this,(function(o){switch(o.label){case 0:n=Jh(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Yy(n.ju,e)];case 2:return i=o.sent(),am(n,r,null),sm(n,r),n.Sh.ki(r,"acknowledged"),[4,pm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,sg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function om(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i;return Wo(this,(function(o){switch(o.label){case 0:r=Jh(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.ju,a=e,u=Jh(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.Sr.Oo(t,a).next((function(n){return Yh(null!==n),e=n.keys(),u.Sr.Wo(t,n)})).next((function(){return u.Sr.zo(t)})).next((function(){return u.Cc.kr(t,e)}))})))];case 2:return i=o.sent(),am(r,e,n),sm(r,e),r.Sh.ki(e,"rejected",n),[4,pm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,sg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function sm(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function am(t,e,n){var r=Jh(t),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function um(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||cm(t,e)}))}function cm(t,e){var n=t.$h.get(e);null!==n&&(_g(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),fm(t))}function hm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Kg?(t.Mh.Da(o.key,e),lm(t,o)):o instanceof Wg?(Hh("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||cm(t,o.key)):$h()}}function lm(t,e){var n=e.key;t.$h.get(n)||(Hh("SyncEngine","New document in limbo: "+n),t.xh.push(n),fm(t))}function fm(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new Yg(e)),t.$h=t.$h.ot(e,n),Tg(t.ph,new Yl(Ed(vd(e.path)),n,2,bv.ai))}}function pm(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s;return Wo(this,(function(a){switch(a.label){case 0:return r=Jh(t),i=[],o=[],s=[],r.Nh.m()?[3,3]:(r.Nh.forEach((function(t,a){s.push(r.Qh(a,e,n).then((function(t){if(t){r.Uh&&r.Sh.Qi(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Mv.zr(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.Ch.yu(i),[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h;return Wo(this,(function(l){switch(l.label){case 0:n=Jh(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return $d.forEach(e,(function(e){return $d.forEach(e.Kr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return $d.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Zd(r=l.sent()))throw r;return Hh("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.bc.get(a),c=u.nt,h=u.rt(c),n.bc=n.bc.ot(a,h));return[2]}}))}))}(r.ju,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function dm(t,e){return Ko(this,void 0,void 0,(function(){var n,r;return Wo(this,(function(i){switch(i.label){case 0:return(n=Jh(t)).currentUser.isEqual(e)?[3,3]:(Hh("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o;return Wo(this,(function(s){switch(s.label){case 0:return n=Jh(t),r=n.Sr,i=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Sr.Uo(t).next((function(s){return o=s,r=n.persistence.mc(e),i=new Lv(n.Dc,r,n.persistence.Ic()),r.Uo(t)})).next((function(e){for(var n=[],r=[],s=pf(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];s=s.add(m.key)}}return i.kr(t,s).next((function(t){return{jh:t,Kh:n,Gh:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Sr=r,n.Cc=i,n.Vc.Nc(n.Cc),o)]}}))}))}(n.ju,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Lh.forEach((function(t){t.forEach((function(t){t.reject(new Bh(qh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Lh.clear(),n.Sh.ji(e,r.Kh,r.Gh),[4,pm(n,r.jh)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function vm(t,e){var n=Jh(t),r=n.kh.get(e);if(r&&r.Vh)return pf().add(r.key);var i=pf(),o=n.Fh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Nh.get(u);i=i.kt(c.view.dh)}return i}function ym(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i;return Wo(this,(function(o){switch(o.label){case 0:return[4,ng((n=Jh(t)).ju,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ph(r),[2,(n.Uh&&hm(n,e.targetId,i.Rh),i)]}}))}))}function gm(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o;return Wo(this,(function(s){switch(s.label){case 0:return[4,(a=(i=Jh(t)).ju,u=e,c=Jh(a),h=Jh(c.Sr),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return h.Lo(t,u).next((function(e){return e?c.Cc.kr(t,e):$d.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Mg(i.ph)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(am(i,e,r||null),sm(i,e),function(t,e){Jh(Jh(t).Sr).Ko(e)}(i.ju,e)):$h(),s.label=4;case 4:return[4,pm(i,o)];case 5:return s.sent(),[3,7];case 6:Hh("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,h}))}))}function mm(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Wo(this,(function(h){switch(h.label){case 0:return _m(n=Jh(t)),Am(n),!0!==e||!0===n.qh?[3,3]:(r=n.Sh.Ci(),[4,bm(n,r.A())]);case 1:return i=h.sent(),n.qh=!0,[4,Gg(n.ph,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)a=s[o],Tg(n.ph,a);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(u=[],c=Promise.resolve(),n.Fh.forEach((function(t,e){n.Sh.qi(e)?u.push(e):c=c.then((function(){return um(n,e),eg(n.ju,e,!0)})),_g(n.ph,e)})),[4,c]);case 4:return h.sent(),[4,bm(n,u)];case 5:return h.sent(),(l=Jh(n)).kh.forEach((function(t,e){_g(l.ph,e)})),l.Mh.Qc(),l.kh=new Map,l.$h=new tf(ol.i),n.qh=!1,[4,Gg(n.ph,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}var l}))}))}function bm(t,e,n){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h,l,f,p,d,v;return Wo(this,(function(y){switch(y.label){case 0:n=Jh(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Fh.get(a))&&0!==c.length?[4,tg(n.ju,Ed(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),h=0,l=c,y.label=3;case 3:return h<l.length?(f=l[h],p=n.Nh.get(f),[4,ym(n,p)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,rg(n.ju,a)];case 8:return v=y.sent(),[4,tg(n.ju,v)];case 9:return u=y.sent(),[4,Zg(n,wm(v),a,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Ch.yu(i),r)]}}))}))}function wm(t){return dd(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Im(t){var e=Jh(t);return Jh(Jh(e.ju).persistence).pi()}function Em(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o,s;return Wo(this,(function(a){switch(a.label){case 0:return(i=Jh(t)).qh?(Hh("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ig(i.ju)];case 3:return o=a.sent(),s=bf.Xt(e,"current"===n),[4,pm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,eg(i.ju,e,!0)];case 6:return a.sent(),um(i,e,r),[3,8];case 7:$h(),a.label=8;case 8:return[2]}}))}))}function Tm(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h,l,f;return Wo(this,(function(p){switch(p.label){case 0:if(!(r=_m(t)).qh)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Fh.has(s)?(Hh("SyncEngine","Adding an already active target "+s),[3,5]):[4,rg(r.ju,s)]):[3,6];case 2:return a=p.sent(),[4,tg(r.ju,a)];case 3:return u=p.sent(),[4,Zg(r,wm(a),u.targetId,!1)];case 4:p.sent(),Tg(r.ph,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Wo(this,(function(e){switch(e.label){case 0:return r.Fh.has(t)?[4,eg(r.ju,t,!1).then((function(){_g(r.ph,t),um(r,t)})).catch(sg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,l=n,p.label=7;case 7:return h<l.length?(f=l[h],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function _m(t){var e=Jh(t);return e.ph.Gu.sh=em.bind(null,e),e.ph.Gu.qe=vm.bind(null,e),e.ph.Gu.nh=rm.bind(null,e),e.Ch.yu=dv.bind(null,e.bh),e.Ch.Wh=vv.bind(null,e.bh),e}function Am(t){var e=Jh(t);return e.ph.Gu.ih=im.bind(null,e),e.ph.Gu.rh=om.bind(null,e),e
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Sm=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.on.length||1===i.on.length&&i.on[0].field.p())||n.isEqual(Vl.min())?this.Hh(t,e):this.zh.kr(t,r).next((function(i){var s=o.Yh(e,i);return(yd(e)||gd(e))&&o.Eh(e.an,s,r,n)?o.Hh(t,e):(zh()<=vs.DEBUG&&Hh("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kd(e)),o.zh.Lr(t,e,n).next((function(t){return s.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Yh=function(t,e){var n=new rf(Dd(t));return e.forEach((function(e,r){r instanceof hd&&Od(t,r)&&(n=n.add(r))})),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return zh()<=vs.DEBUG&&Hh("IndexFreeQueryEngine","Using full collection scan to execute query:",kd(e)),this.zh.Lr(t,e,Vl.min())},t}(),Nm=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new rf(ug.kc)}return t.prototype.$o=function(t){return $d.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var o=new Dv(i,e,n,r);this.Sr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xh=this.Xh.add(new ug(u.key,i)),this.Dr.Mo(t,u.key.path.h())}return $d.resolve(o)},t.prototype.Oo=function(t,e){return $d.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=e+1,r=this.tl(n),i=r<0?0:r;return $d.resolve(this.Sr.length>i?this.Sr[i]:null)},t.prototype.qo=function(){return $d.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return $d.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new ug(e,0),i=new ug(e,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(t){var e=n.Zh(t.jc);o.push(e)})),$d.resolve(o)},t.prototype.Or=function(t,e){var n=this,r=new rf(Nl);return e.forEach((function(t){var e=new ug(t,0),i=new ug(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],(function(t){r=r.add(t.jc)}))})),$d.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;ol.F(i)||(i=i.child(""));var o=new ug(new ol(i),0),s=new rf(Nl);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(s=s.add(t.jc)),!0)}),o),$d.resolve(this.el(s))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zh(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;Yh(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return $d.forEach(e.mutations,(function(i){var o=new ug(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new ug(e,0),r=this.Xh.$t(n);return $d.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return this.Sr.length,$d.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),km=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new tf(ol.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:s,readTime:n}),this.size+=s-o,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return $d.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=uf();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),$d.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=hf(),i=new ol(e.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),a=s.key,u=s.value,c=u.ta,h=u.readTime;if(!e.path.T(a.path))break;h.L(n)<=0||c instanceof hd&&Od(e,c)&&(r=r.ot(c.key,c))}return $d.resolve(r)},t.prototype.il=function(t,e){return $d.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new Om(this)},t.prototype.aa=function(t){return $d.resolve(this.size)},t}(),Om=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return zo(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),$d.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(xv),Dm=function(){function t(t){this.persistence=t,this.rl=new Ul((function(t){return Hl(t)}),Kl),this.lastRemoteSnapshotVersion=Vl.min(),this.highestTargetId=0,this.ol=0,this.al=new ag,this.targetCount=0,this.cl=My.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),$d.resolve()},t.prototype.Ea=function(t){return $d.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return $d.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),$d.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),$d.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new My(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,$d.resolve()},t.prototype.ya=function(t,e){return this.ga(e),$d.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,$d.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.rl.delete(s),o.push(r.pa(t,a.targetId)),i++)})),$d.$n(o).next((function(){return i}))},t.prototype.ba=function(t){return $d.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return $d.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),$d.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),$d.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),$d.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return $d.resolve(n)},t.prototype.Ho=function(t,e){return $d.resolve(this.al.Ho(e))},t}(),Rm=function(){function t(t){var e,n=this;this.ul={},this.Ma=new bv(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new Dm(this),this.Dr=new vy,this.vr=(e=this.Dr,new km(e,(function(t){return n.No.hl(t)})))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Nm(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;Hh("MemoryPersistence","Starting transaction:",t);var i=new xm(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return $d.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),xm=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return zo(e,t),e}(Cv),Pm=function(){function t(t){this.persistence=t,this.dl=new ag,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw $h()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),$d.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),$d.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),$d.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return $d.forEach(this.Tl,(function(r){var i=ol.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return $d.kn([function(){return $d.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),Cm=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),Lm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return zo(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var s=new Fh;s.listenOnce(jh.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Uh.NO_ERROR:var e=s.getResponseJson();Hh("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Uh.TIMEOUT:Hh("Connection",'RPC "'+t+'" timed out'),o(new Bh(qh.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:var n=s.getStatus();if(Hh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace("_","-"),Object.values(qh).indexOf(c)>=0?c:qh.UNKNOWN);o(new Bh(a,r.message))}else o(new Bh(qh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Bh(qh.UNAVAILABLE,"Connection failed."));break;default:$h()}}finally{Hh("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Pu=function(t,e){var n,r,i=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=new xh,s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ts())||"object"==typeof navigator&&"ReactNative"===navigator.product||ts().indexOf("Electron/")>=0||((r=ts()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||ts().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=i.join("");Hh("Connection","Creating WebChannel: "+a,s);var u=o.createWebChannel(a,s),c=!1,h=!1,l=new Cm({Il:function(t){h?Hh("Connection","Not sending because WebChannel is closed:",t):(c||(Hh("Connection","Opening WebChannel transport."),u.open(),c=!0),Hh("Connection","WebChannel sending:",t),u.send(t))},Al:function(){return u.close()}}),f=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(Vh.EventType.OPEN,(function(){h||Hh("Connection","WebChannel transport opened.")})),f(Vh.EventType.CLOSE,(function(){h||(h=!0,Hh("Connection","WebChannel transport closed"),l.Vl())})),f(Vh.EventType.ERROR,(function(t){h||(h=!0,Wh("Connection","WebChannel transport errored:",t),l.Vl(new Bh(qh.UNAVAILABLE,"The operation could not be completed")))})),f(Vh.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Yh(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Hh("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Xl[t];if(void 0!==e)return Zl(e)}(o),a=i.message;void 0===s&&(s=qh.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),h=!0,l.Vl(new Bh(s,a)),u.close()}else Hh("Connection","WebChannel received:",n),l.pl(n)}})),setTimeout((function(){l.yl()}),0),l},e}(function(){function t(t){this.bl=t,this.U=t.U;var e=t.ssl?"https":"http";this.vl=e+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);Hh("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then((function(t){return Hh("RestConnection","Received: ",t),t}),(function(e){throw Wh("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){var n=Lm[t];return this.vl+"/v1/"+e+":"+n},t}()),Um=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){Hh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){Hh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),jm=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){return new Yf(t,!0)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fm="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",qm=function(){function t(){}return t.prototype.initialize=function(t){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Sm,r=t.Wl,new $y(e,n,r);var e,n,r},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new Bh(qh.FAILED_PRECONDITION,Fm);return new Rm(Pm.ml)},t.prototype.Ll=function(t){return new Ov},t.prototype.terminate=function(){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new Bh(qh.FAILED_PRECONDITION,Fm)},t}(),Bm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.prototype.initialize=function(e){return Ko(this,void 0,void 0,(function(){var n,r=this;return Wo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Kl.fi,this.Sh instanceof kv?(this.Sh.fi={er:gm.bind(null,n),nr:Em.bind(null,n),sr:Tm.bind(null,n),pi:Im.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Xa((function(t){return Ko(r,void 0,void 0,(function(){return Wo(this,(function(e){switch(e.label){case 0:return[4,mm(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=ov();if(!kv.Ln(e))throw new Bh(qh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Xy(t.bl.U,t.bl.persistenceKey);return new kv(e,t.cs,n,t.clientId,t.Wl)}return new Ov},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return zo(e,t),e.prototype.initialize=function(e){return Ko(this,void 0,void 0,(function(){return Wo(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,og(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,Am(this.Kl.fi)];case 4:return n.sent(),[4,Mg(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){var e=this.persistence.No.wo;return new qv(e,t.cs)},e.prototype.Bl=function(t){var e=Xy(t.bl.U,t.bl.persistenceKey),n=Vm(t.bl.U);return new Gy(t.persistenceSettings.synchronizeTabs,e,t.clientId,Fv.ao(t.persistenceSettings.cacheSizeBytes),t.cs,ov(),sv(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new Ov},e.prototype.clearPersistence=function(t,e){return function(t){return Ko(this,void 0,void 0,(function(){var e;return Wo(this,(function(n){switch(n.label){case 0:return Yd.Ln()?(e=t+"main",[4,Yd.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Xy(t,e))},e}(qm)),Gm=function(){function t(){}return t.prototype.initialize=function(t,e){return Ko(this,void 0,void 0,(function(){var n=this;return Wo(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return nm(n.fi,t,1)},this.ph.Gu.Jl=dm.bind(null,this.fi),[4,Gg(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Hl=function(t){return new lv},t.prototype.Gl=function(t){var e,n,r=Vm(t.bl.U),i=(e=t.bl,new Mm(e));return n=t.credentials,new gg(n,i,r)},t.prototype.zl=function(t){var e,n,r,i,o,s=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return nm(s.fi,t,0)},o=Um.Ln()?new Um:new jm,new bg(e,n,r,i,o)},t.prototype.Yl=function(t){return e=this.ju,n=this.ph,r=this.bh,i=this.Sh,o=t.Wl,s=t.Dh,a=!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs,u=new Jg(e,n,r,i,o,s),a&&(u.qh=!0),u;var e,n,r,i,o,s,a,u},t.prototype.terminate=function(){return Eg(this.ph)},t}(),zm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Hm=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new Bh(qh.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+_l(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(hl("FieldPath","string",e,t[e]),0===t[e].length)throw new Bh(qh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new il(t)},Km=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return zo(e,t),e.documentId=function(){return new e(il.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Il("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(Hm),Wm=new RegExp("[~\\*/\\[\\]]"),Xm=function(t){this.e_=t},$m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw 1===t.s_?t.i_(this.e_+"() can only appear at the top level of your update data"):t.i_(this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Xm);function Ym(t,e,n){return new ub({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var Jm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.prototype.n_=function(t){return new Bp(t.path,new Pp)},e.prototype.isEqual=function(t){return t instanceof e},e}(Xm),Qm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return zo(e,t),e.prototype.n_=function(t){var e=Ym(this,t,!0),n=this.a_.map((function(t){return db(t,e)})),r=new Cp(n);return new Bp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Xm),Zm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return zo(e,t),e.prototype.n_=function(t){var e=Ym(this,t,!0),n=this.a_.map((function(t){return db(t,e)})),r=new Mp(n);return new Bp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Xm),tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return zo(e,t),e.prototype.n_=function(t){var e=new jp(t.serializer,Zf(t.serializer,this.c_));return new Bp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Xm),eb=function(){function t(t,e){if(al("GeoPoint",arguments,2),hl("GeoPoint","number",1,t),hl("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new Bh(qh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Bh(qh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return Nl(this.u_,t.u_)||Nl(this.h_,t.h_)},t}(),nb=function(t){this.l_=t},rb=/^__.*__$/,ib=function(t,e,n){this.__=t,this.f_=e,this.d_=n},ob=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return null!==this.We?n.push(new Zp(t,this.data,this.We,e)):n.push(new Qp(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ed(t,this.fieldTransforms)),n},t}(),sb=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new Zp(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new ed(t,this.fieldTransforms)),n},t}();function ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $h()}}var ub=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return wb(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(ab(this.s_)&&rb.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),cb=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||Vm(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new ub({s_:t,methodName:e,r_:n,path:il.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function hb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.P_(o.merge||o.mergeFields?2:0,e,n,i);gb("Data must be an object, but it was:",s,r);var a,u,c=vb(r,s);if(o.merge)a=new qp(s.We),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var p=f[l],d=void 0;if(p instanceof Hm)d=p.t_;else{if("string"!=typeof p)throw $h();d=bb(e,p,n)}if(!s.contains(d))throw new Bh(qh.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ib(h,d)||h.push(d)}a=new qp(h),u=s.fieldTransforms.filter((function(t){return a.Ye(t.field)}))}else a=null,u=s.fieldTransforms;return new ob(new sd(c),a,u)}function lb(t,e,n,r){var i=t.P_(1,e,n);gb("Data must be an object, but it was:",i,r);var o=[],s=new ad;Zh(r,(function(t,r){var a=bb(e,t,n),u=i.A_(a);if(r instanceof $m||r instanceof nb&&r.l_ instanceof $m)o.push(a);else{var c=db(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new qp(o);return new sb(s.Xe(),a,i.fieldTransforms)}function fb(t,e,n,r,i,o){var s=t.P_(1,e,n),a=[mb(e,r,n)],u=[i];if(o.length%2!=0)throw new Bh(qh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(mb(e,o[c])),u.push(o[c+1]);for(var h=[],l=new ad,f=a.length-1;f>=0;--f)if(!Ib(h,a[f])){var p=a[f],d=u[f],v=s.A_(p);if(d instanceof $m||d instanceof nb&&d.l_ instanceof $m)h.push(p);else{var y=db(d,v);null!=y&&(h.push(p),l.set(p,y))}}var g=new qp(h);return new sb(l.Xe(),g,s.fieldTransforms)}function pb(t,e,n,r){return void 0===r&&(r=!1),db(n,t.P_(r?4:3,e))}function db(t,e){if(t instanceof nb&&(t=t.l_),yb(t))return gb("Unsupported field value:",e,t),vb(t,e);if(t instanceof Xm)return function(t,e){if(!ab(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=db(o[i],e.R_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zf(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=jl.fromDate(t);return{timestampValue:tp(e.serializer,n)}}if(t instanceof jl){var r=new jl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tp(e.serializer,r)}}if(t instanceof eb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rl)return{bytesValue:ep(e.serializer,t.q)};if(t instanceof ib){var i=e.U,o=t.__;if(!o.isEqual(i))throw e.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ip(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+ml(t))}(t,e)}function vb(t,e){var n={};return tl(t)?e.path&&e.path.length>0&&e.We.push(e.path):Zh(t,(function(t,r){var i=db(r,e.E_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function yb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof jl||t instanceof eb||t instanceof Rl||t instanceof ib||t instanceof Xm)}function gb(t,e,n){if(!yb(n)||!gl(n)){var r=ml(n);throw"an object"===r?e.i_(t+" a custom object"):e.i_(t+" "+r)}}function mb(t,e,n){if(e instanceof Hm)return e.t_;if("string"==typeof e)return bb(t,e);throw wb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function bb(t,e,n){try{return function(t){if(t.search(Wm)>=0)throw new Bh(qh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Km.bind.apply(Km,Jo([void 0],t.split("."))))}catch(e){throw new Bh(qh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw wb((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function wb(t,e,n,r,i){var o=r&&!r.m(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Bh(qh.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ib(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eb=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return Ko(this,void 0,void 0,(function(){var e,n=this;return Wo(this,(function(r){switch(r.label){case 0:if(this.S_(),this.mutations.length>0)throw new Bh(qh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Wo(this,(function(u){switch(u.label){case 0:return n=Jh(t),r=hp(n.serializer)+"/documents",i={documents:e.map((function(t){return sp(n.serializer,t)}))},[4,n.ku("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.serializer,"found"in(r=t)?function(t,e){Yh(!!e.found),e.found.name,e.found.updateTime;var n=ap(t,e.found.name),r=rp(e.found.updateTime),i=new sd({mapValue:{fields:e.found.fields}});return new hd(n,r,i,{})}(e,r):"missing"in r?function(t,e){Yh(!!e.missing),Yh(!!e.readTime);var n=ap(t,e.missing),r=rp(e.readTime);return new ld(n,r)}(e,r):$h());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Yh(!!e),a.push(e)})),a)]}}))}))}(this.Ku,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ld||t instanceof hd?n.D_(t):$h()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new id(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return Ko(this,void 0,void 0,(function(){var t,e=this;return Wo(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ol.D(n);e.mutations.push(new od(r,e.Ge(r)))})),[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i;return Wo(this,(function(o){switch(o.label){case 0:return n=Jh(t),r=hp(n.serializer)+"/documents",i={writes:e.map((function(t){return pp(n.serializer,t)}))},[4,n.$u("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},t.prototype.D_=function(t){var e;if(t instanceof hd)e=t.version;else{if(!(t instanceof ld))throw $h();e=Vl.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Bh(qh.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?zp.updateTime(e):zp.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(Vl.min()))throw new Bh(qh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zp.updateTime(e)}return zp.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Tb=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new Xd(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn((function(){return Ko(t,void 0,void 0,(function(){var t,e,n=this;return Wo(this,(function(r){return t=new Eb(this.Ku),(e=this.x_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.k_(t)}))}))})).catch((function(t){n.k_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!Fl(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ql(e)}return!1},t}(),_b=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=Sl.k(),this.O_=new Wd}return t.prototype.start=function(t,e,n,r){var i=this;this.L_(),this.bl=t;var o=new Wd,s=!1;return this.credentials.Hc((function(t){if(!s)return s=!0,Hh("FirestoreClient","Initializing. user=",t.uid),i.B_(e,n,r,t,o).then(i.O_.resolve,i.O_.reject);i.cs.Cs((function(){return function(t,e){return Ko(this,void 0,void 0,(function(){var n,r;return Wo(this,(function(i){switch(i.label){case 0:return(n=Jh(t)).cs.xs(),Hh("RemoteStore","RemoteStore received new credentials"),r=Og(n),n.Yu.add(3),[4,Ig(n)];case 1:return i.sent(),r&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return i.sent(),n.Yu.delete(3),[4,wg(n)];case 3:return i.sent(),[2]}}))}))}(i.ph,t)}))})),this.cs.ws((function(){return i.O_.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),e=t.ph,(n=Jh(e)).Yu.delete(0),wg(n);var e,n}))},t.prototype.B_=function(t,e,n,r,i){return Ko(this,void 0,void 0,(function(){var o,s,a=this;return Wo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:r,Dh:100,persistenceSettings:n},[4,t.initialize(o)];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=Qg.bind(null,this.fi),this.q_.js=tm.bind(null,this.fi),this.persistence.Za((function(){return Ko(a,void 0,void 0,(function(){return Wo(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(s=u.sent(),i.reject(s),!this.U_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.B_(new qm,new Gm,{jl:!1},r,i))];case 4:return[2]}}))}))},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===qh.FAILED_PRECONDITION||t.code===qh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new Bh(qh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return Ko(this,void 0,void 0,(function(){var e;return Wo(this,(function(n){switch(n.label){case 0:return(e=Jh(t)).Yu.add(0),[4,Ig(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new Wd;return this.cs.bs((function(){return Ko(t,void 0,void 0,(function(){var t,n;return Wo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Eg(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=cv(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new Wd;return this.cs.ws((function(){return function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s;return Wo(this,(function(a){switch(a.label){case 0:Og((n=Jh(t)).ph)||Hh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.ju,c=Jh(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c.Sr.qo(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Lh.get(r)||[]).push(e),n.Lh.set(r,i),[3,4]);case 3:return o=a.sent(),s=cv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new zm(n),o=new gv(t,i,e);return this.cs.ws((function(){return fv(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return pv(r.q_,o)}))}},t.prototype.Q_=function(t){return Ko(this,void 0,void 0,(function(){var e,n=this;return Wo(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),e=new Wd,[2,(this.cs.ws((function(){return function(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o;return Wo(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,(a=t,u=e,c=Jh(a),c.persistence.runTransaction("read document","readonly",(function(t){return c.Cc.Cr(t,u)})))];case 1:return(r=s.sent())instanceof hd?n.resolve(r):r instanceof ld?n.resolve(null):n.reject(new Bh(qh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=cv(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}var a,u,c}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.W_=function(t,e){return void 0===e&&(e={}),Ko(this,void 0,void 0,(function(){var n,r=this;return Wo(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new Wd,[2,(this.cs.ws((function(){return i=r.q_,o=r.cs,s=t,a=e,u=n,c=new zm({next:function(t){o.ws((function(){return pv(i,h)}));var e=t.docs.has(s);!e&&t.fromCache?u.reject(new Bh(qh.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&a&&"server"===a.source?u.reject(new Bh(qh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),h=new gv(vd(s.path),c,{includeMetadataChanges:!0,Xs:!0}),fv(i,h);var i,o,s,a,u,c,h})),n.promise)]}}))}))},t.prototype.j_=function(t){return Ko(this,void 0,void 0,(function(){var e,n=this;return Wo(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),e=new Wd,[2,(this.cs.ws((function(){return function(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Wo(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,ng(t,e,!0)];case 1:return r=c.sent(),i=new Xg(e,r.Fc),o=i.wh(r.documents),s=i.yr(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=c.sent(),u=cv(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),Ko(this,void 0,void 0,(function(){var n,r=this;return Wo(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new Wd,[2,(this.cs.ws((function(){return i=r.q_,o=r.cs,s=t,a=e,u=n,c=new zm({next:function(t){o.ws((function(){return pv(i,h)})),t.fromCache&&"server"===a.source?u.reject(new Bh(qh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),h=new gv(s,c,{includeMetadataChanges:!0,Xs:!0}),fv(i,h);var i,o,s,a,u,c,h})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.L_();var n=new Wd;return this.cs.ws((function(){return function(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s;return Wo(this,(function(a){switch(a.label){case 0:r=Am(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.ju,c=e,l=Jh(u),f=jl.now(),p=c.reduce((function(t,e){return t.add(e.key)}),pf()),l.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return l.Cc.kr(t,p).next((function(e){h=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=$p(o,h.get(o.key));null!=s&&n.push(new Zp(o.key,s,ud(s.proto.mapValue),zp.exists(!0)))}return l.Sr.ko(t,f,n,c)}))})).then((function(t){var e=t.lr(h);return{batchId:t.batchId,wr:e}})))];case 2:return i=a.sent(),r.Sh.xi(i.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new tf(Nl)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(r,i.batchId,n),[4,pm(r,i.wr)];case 3:return a.sent(),[4,Mg(r.ph)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=cv(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,h,l,f,p}))}))}(e.fi,t,n)})),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new zm(t);return this.cs.ws((function(){return Ko(e,void 0,void 0,(function(){return Wo(this,(function(t){return[2,(e=this.q_,r=n,Jh(e).qs.add(r),void r.next())];var e,r}))}))})),function(){n.Zl(),e.cs.ws((function(){return Ko(e,void 0,void 0,(function(){return Wo(this,(function(t){return[2,(e=this.q_,r=n,void Jh(e).qs.delete(r))];var e,r}))}))}))}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new Wd;return this.cs.ws((function(){return new Tb(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Sb=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch(xf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ff(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(qf(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw $h()}},t.prototype.if=function(t){var e=this,n={};return Zh(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},t.prototype.nf=function(t){return new eb(Ff(t.latitude),Ff(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=Of(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Df(t));default:return null}},t.prototype.Z_=function(t){var e=Vf(t),n=new jl(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=nl.g(t);Yh(kp(e));var n=new Ml(e.get(1),e.get(3)),r=new ol(e.u(5));return n.isEqual(this.U)||Kh("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),Nb=Fv.ho,kb=function(){function t(t){var e,n,r,i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new Bh(qh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else fl("settings","non-empty string","host",t.host),this.host=t.host,pl("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(wl("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),pl("settings","object","credentials",t.credentials),this.credentials=t.credentials,pl("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),pl("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Kh("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Kh("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,pl("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Fv._o;else{if(t.cacheSizeBytes!==Nb&&t.cacheSizeBytes<Fv.lo)throw new Bh(qh.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Fv.lo);this.cacheSizeBytes=t.cacheSizeBytes}pl("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,pl("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=t.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(t,e,n,r){if(!0===e&&!0===r)throw new Bh(qh.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ob=function(){function t(e,n,r,i){var o=this;if(void 0===r&&(r=new qm),void 0===i&&(i=new Gm),this.rf=r,this.af=i,this.cf=null,this.uf=new uv,this.INTERNAL={delete:function(){return Ko(o,void 0,void 0,(function(){return Wo(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.cf=s,this.__=t._f(s),this.ff=s.name,this.df=new lg(n)}else{var a=e;if(!a.projectId)throw new Bh(qh.INVALID_ARGUMENT,"Must provide projectId");this.__=new Ml(a.projectId,a.database),this.ff="[DEFAULT]",this.df=new hg}this.wf=new kb({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new cb(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){al("Firestore.settings",arguments,1),hl("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new kb(t);if(this.lf&&!this.wf.isEqual(e))throw new Bh(qh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new hg;switch(t.type){case"gapi":var e=t.client;return Yh(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new pg(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Bh(qh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new Bh(qh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&Kh("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new Bh(qh.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return Ko(this,void 0,void 0,(function(){var t,e=this;return Wo(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new Bh(qh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Wd,[2,(this.uf.bs((function(){return Ko(e,void 0,void 0,(function(){var e;return Wo(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.hf(),Ab(t))return this.lf.G_(t);hl("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.lf.G_(e)},t.prototype.hf=function(){return this.lf||this.Ef(new qm,new Gm,{jl:!1}),this.lf},t.prototype.Af=function(){return new Ll(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new _b(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new Bh(qh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new Bh(qh.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ml(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new Bh(qh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return al("Firestore.collection",arguments,1),hl("Firestore.collection","non-empty string",1,t),this.hf(),new zb(nl.g(t),this,null)},t.prototype.doc=function(t){return al("Firestore.doc",arguments,1),hl("Firestore.doc","non-empty string",1,t),this.hf(),xb.Rf(nl.g(t),this,null)},t.prototype.collectionGroup=function(t){if(al("Firestore.collectionGroup",arguments,1),hl("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new Bh(qh.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new Bb((e=t,new pd(nl.P(),e)),this,null);var e},t.prototype.runTransaction=function(t){var e=this;return al("Firestore.runTransaction",arguments,1),hl("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new Db(e,n))}))},t.prototype.batch=function(){return this.hf(),new Rb(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(zh()){case vs.DEBUG:return"debug";case vs.ERROR:return"error";case vs.SILENT:return"silent";case vs.WARN:return"warn";case vs.INFO:return"info";case vs.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;al("Firestore.setLogLevel",arguments,1),vl("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,Gh.setLogLevel(e)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),Db=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;al("Transaction.get",arguments,1);var n=Xb("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return $h();var r=t[0];if(r instanceof ld)return new Cb(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof hd)return new Cb(e.yf,n.f_,r,!1,!1,n.d_);throw $h()}))},t.prototype.set=function(t,e,n){cl("Transaction.set",arguments,2,3);var r=Xb("Transaction.set",t,this.yf);n=Hb("Transaction.set",n);var i=Yb(r.d_,e,n),o=hb(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Km?(ul("Transaction.update",arguments,3),r=Xb("Transaction.update",t,this.yf),i=fb(this.yf.mf,"Transaction.update",r.f_,e,n,o)):(al("Transaction.update",arguments,2),r=Xb("Transaction.update",t,this.yf),i=lb(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){al("Transaction.delete",arguments,1);var e=Xb("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),Rb=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){cl("WriteBatch.set",arguments,2,3),this.vf();var r=Xb("WriteBatch.set",t,this.yf);n=Hb("WriteBatch.set",n);var i=Yb(r.d_,e,n),o=hb(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,zp.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.vf(),"string"==typeof e||e instanceof Km?(ul("WriteBatch.update",arguments,3),r=Xb("WriteBatch.update",t,this.yf),i=fb(this.yf.mf,"WriteBatch.update",r.f_,e,n,o)):(al("WriteBatch.update",arguments,2),r=Xb("WriteBatch.update",t,this.yf),i=lb(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,zp.exists(!0))),this},t.prototype.delete=function(t){al("WriteBatch.delete",arguments,1),this.vf();var e=Xb("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new id(e.f_,zp.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new Bh(qh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),xb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return zo(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new Bh(qh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new ol(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new zb(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(al("DocumentReference.collection",arguments,1),hl("DocumentReference.collection","non-empty string",1,t),!t)throw new Bh(qh.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=nl.g(t);return new zb(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Il("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){cl("DocumentReference.set",arguments,1,2),e=Hb("DocumentReference.set",e);var n=Yb(this.d_,t,e),r=hb(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,zp.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Km?(ul("DocumentReference.update",arguments,2),n=fb(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(al("DocumentReference.update",arguments,1),n=lb(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,zp.exists(!0)))},e.prototype.delete=function(){return al("DocumentReference.delete",arguments,0),this.lf.write([new id(this.f_,zp.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];cl("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Ab(i[a])||(wl("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),pl("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(Ab(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else hl("DocumentReference.onSnapshot","function",a,i[a]),ll("DocumentReference.onSnapshot","function",a+1,i[a+1]),ll("DocumentReference.onSnapshot","function",a+2,i[a+2]);var h={next:function(t){i[a]&&i[a](r.Sf(t))},error:i[a+1],complete:i[a+2]};return this.lf.listen(vd(this.f_.path),u,h)},e.prototype.get=function(t){var e=this;cl("DocumentReference.get",arguments,0,1),Wb("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new Cb(e.firestore,e.f_,t,!0,t instanceof hd&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new Cb(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(ib),Pb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Cb=function(){function t(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return t.prototype.data=function(t){var e=this;if(cl("DocumentSnapshot.data",arguments,0,1),t=Kb("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new Lb(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Sb(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new xb(t,e.yf,null)}),(function(t){return new Cl(t)})).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(cl("DocumentSnapshot.get",arguments,1,2),e=Kb("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(mb("DocumentSnapshot.get",t,this.f_));if(null!==r)return new Sb(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new xb(t,n.yf,n.d_)}),(function(t){return new Cl(t)})).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xb(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Pb(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Il("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),Lb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Cb);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e,n,r,i,o,s){var a;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new Bh(qh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Vb(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var l=h[c];u.push(jb(r,t,l))}a={arrayValue:{values:u}}}else a=jb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Vb(s,o),a=pb(n,e,s,"in"===o||"not-in"===o);var f=Rd.create(i,o,a);return function(t,e){if(e.hn()){var n=bd(t);if(null!==n&&!n.isEqual(e.field))throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=md(t);null!==r&&Fb(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Bh(qh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Bh(qh.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}function Ub(t,e,n){if(null!==t.startAt)throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zd(e,n);return function(t,e){if(null===md(t)){var n=bd(t);null!==n&&Fb(t,n,e.field)}}(t,r),r}function jb(t,e,n){if("string"==typeof n){if(""===n)throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!wd(e)&&-1!==n.indexOf("/"))throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(nl.g(n));if(!ol.F(r))throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Bf(t,new ol(r))}if(n instanceof ib)return Bf(t,n.f_);throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ml(n)+".")}function Vb(t,e){if(!Array.isArray(t)||0===t.length)throw new Bh(qh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Bh(qh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new Bh(qh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new Bh(qh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Fb(t,e,n){if(!n.isEqual(e))throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function qb(t){if(gd(t)&&0===t.on.length)throw new Bh(qh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Bb=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){al("Query.where",arguments,3),bl("Query.where",3,r);var i,o,s,a=vl("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),u=mb("Query.where",e),c=Mb(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,u,a,r);return new t((i=this.Ff,o=c,s=i.filters.concat([o]),new pd(i.path,i.collectionGroup,i.on.slice(),s,i.limit,i.an,i.startAt,i.endAt)),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(cl("Query.orderBy",arguments,1,2),ll("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new Bh(qh.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i,o,s,a=mb("Query.orderBy",e),u=Ub(this.Ff,a,r);return new t((i=this.Ff,o=u,s=i.on.concat([o]),new pd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.an,i.startAt,i.endAt)),this.firestore,this.d_)},t.prototype.limit=function(e){return al("Query.limit",arguments,1),hl("Query.limit","number",1,e),El("Query.limit",1,e),new t(Td(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return al("Query.limitToLast",arguments,1),hl("Query.limitToLast","number",1,e),El("Query.limitToLast",1,e),new t(Td(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ul("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(_d(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ul("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(_d(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ul("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(Ad(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ul("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(Ad(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Il("isEqual","Query",1,e);return this.firestore===e.firestore&&Sd(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,r){if(bl(t,1,e),e instanceof Cb)return al(t,Jo([e],n),1),function(t,e,n,r,i){if(!r)throw new Bh(qh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Id(t);s<a.length;s++){var u=a[s];if(u.field.p())o.push(Bf(e,r.key));else{var c=r.field(u.field);if(kf(c))throw new Bh(qh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.R();throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Fd(o,i)}(this.Ff,this.firestore.__,t,e.Df,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.on;if(i.length>s.length)throw new Bh(qh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.p()){if("string"!=typeof c)throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!wd(t)&&-1!==c.indexOf("/"))throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(nl.g(c));if(!ol.F(h))throw new Bh(qh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new ol(h);a.push(Bf(e,l))}else{var f=pb(n,r,c);a.push(f)}}return new Fd(a,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];cl("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||Ab(i[a])||(wl("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),pl("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),Ab(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else hl("Query.onSnapshot","function",a,i[a]),ll("Query.onSnapshot","function",a+1,i[a+1]),ll("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new Gb(r.firestore,r.Ff,t,r.d_))},error:i[a+1],complete:i[a+2]};return qb(this.Ff),this.firestore.hf().listen(this.Ff,s,c)},t.prototype.get=function(t){var e=this;cl("Query.get",arguments,0,1),Wb("Query.get",t),qb(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new Gb(e.firestore,e.Ff,t,e.d_)}))},t}(),Gb=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new Pb(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;cl("QuerySnapshot.forEach",arguments,1,2),hl("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Bb(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(wl("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),pl("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new Bh(qh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Wt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:$b(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Il("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Sd(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new Lb(this.yf,t.key,t,e,n,this.d_)},t}(),zb=function(t){function e(e,n,r){var i=this;if((i=t.call(this,vd(e),n,r)||this).Bf=e,e.length%2!=1)throw new Bh(qh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return zo(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new xb(new ol(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){cl("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Sl.k()),hl("CollectionReference.doc","non-empty string",1,t);var e=nl.g(t);return xb.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){al("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;hl("CollectionReference.add","object",1,e);var n=this.doc();return new xb(n.f_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(Bb);function Hb(t,e){if(void 0===e)return{merge:!1};if(wl(t,e,["merge","mergeFields"]),pl(t,"boolean","merge",e.merge),n=t,void 0!==(r=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+ml(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Bh(qh.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+ml(r[o]))}(n,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Km})),void 0!==e.mergeFields&&void 0!==e.merge)throw new Bh(qh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n,r;return e}function Kb(t,e){return void 0===e?{}:(wl(t,e,["serverTimestamps"]),dl(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Wb(t,e){ll(t,"object",1,e),e&&(wl(t,e,["source"]),dl(t,0,"source",e.source,["default","server","cache"]))}function Xb(t,e,n){if(e instanceof ib){if(e.firestore!==n)throw new Bh(qh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Il(t,"DocumentReference",1,e)}function $b(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $h()}}function Yb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jb,Qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zo(e,t),e.serverTimestamp=function(){sl("FieldValue.serverTimestamp",arguments);var t=new Jm("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){sl("FieldValue.delete",arguments);var t=new $m("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];ul("FieldValue.arrayUnion",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ul("arrayUnion()",arguments,1),new Qm("arrayUnion",t)}.apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];ul("FieldValue.arrayRemove",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ul("arrayRemove()",arguments,1),new Zm("arrayRemove",t)}.apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){hl("FieldValue.increment","number",1,t),al("FieldValue.increment",arguments,1);var n=new tb("increment",t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(nb),Zb={Firestore:Ob,GeoPoint:eb,Timestamp:jl,Blob:Cl,Transaction:Db,WriteBatch:Rb,DocumentReference:xb,DocumentSnapshot:Cb,Query:Bb,QueryDocumentSnapshot:Lb,QuerySnapshot:Gb,CollectionReference:zb,FieldPath:Km,FieldValue:Qb,setLogLevel:Ob.setLogLevel,CACHE_SIZE_UNLIMITED:Nb};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Jb=js).INTERNAL.registerComponent(new hs("firestore",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=new Gm,i=new Bm(r),new Ob(e,n,i,r);var e,n,r,i}),"PUBLIC").setServiceProps(Object.assign({},Zb))),Jb.registerVersion("@firebase/firestore","1.18.0");const tw=js.initializeApp({apiKey:"AIzaSyBzXM-WohlTTh7MPRBeuTlM7KwyW-ffPdQ",authDomain:"tasklog-c4256.firebaseapp.com",databaseURL:"https://tasklog-c4256.firebaseio.com",projectId:"tasklog-c4256",storageBucket:"tasklog-c4256.appspot.com",messagingSenderId:"322551510591",appId:"1:322551510591:web:0d17f6acd2dda0fd41ea8a",measurementId:"G-2YWRJMP5RR"}),ew=tw.firestore(),nw=t=>async()=>{try{const e=new js.auth.GoogleAuthProvider,n=await t.auth().signInWithPopup(e);return null===n.user?void 0:{name:n.user.displayName||"",id:n.user.uid}}catch(t){return void console.log(t)}},rw=t=>()=>t.auth().signOut(),iw=()=>new Promise(((t,e)=>{const n=tw.auth().onAuthStateChanged((r=>{n(),r?t({name:r.displayName||"",id:r.uid}):e(void 0)}));setTimeout((()=>{n(),e(void 0)}),5e3)})),ow=nw(tw),sw=rw(tw);var aw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",_login:nw,_logout:rw,getUser:iw,login:ow,logout:sw});var uw=function(t,e,n,r,i,o,s,a,u,c,h,l,f,p,d,v,y,g,m,b){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return o(i(r(n(e(t)))));case 7:return s(o(i(r(n(e(t))))));case 8:return a(s(o(i(r(n(e(t)))))));case 9:return u(a(s(o(i(r(n(e(t))))))));case 10:return c(u(a(s(o(i(r(n(e(t)))))))));case 11:return h(c(u(a(s(o(i(r(n(e(t))))))))));case 12:return l(h(c(u(a(s(o(i(r(n(e(t)))))))))));case 13:return f(l(h(c(u(a(s(o(i(r(n(e(t))))))))))));case 14:return p(f(l(h(c(u(a(s(o(i(r(n(e(t)))))))))))));case 15:return d(p(f(l(h(c(u(a(s(o(i(r(n(e(t))))))))))))));case 16:return v(d(p(f(l(h(c(u(a(s(o(i(r(n(e(t)))))))))))))));case 17:return y(v(d(p(f(l(h(c(u(a(s(o(i(r(n(e(t))))))))))))))));case 18:return g(y(v(d(p(f(l(h(c(u(a(s(o(i(r(n(e(t)))))))))))))))));case 19:return m(g(y(v(d(p(f(l(h(c(u(a(s(o(i(r(n(e(t))))))))))))))))));case 20:return b(m(g(y(v(d(p(f(l(h(c(u(a(s(o(i(r(n(e(t)))))))))))))))))))}};const cw=t=>({y:t.getFullYear(),m:t.getMonth()+1,d:t.getDate()}),hw=t=>new Date(t.y,t.m-1,t.d),lw=t=>{const e=t.split("-").map((t=>parseInt(t,10)));return e.length<3&&!isNaN(e[0])&&!isNaN(e[1])&&!isNaN(e[2])?cw(new Date):{y:e[0],m:e[1],d:e[2]}},fw=t=>{const e=["","","","","","",""][hw(t).getDay()];return`${t.y}/${t.m}/${t.d} (${e})`},pw=t=>uw({...t,d:t.d+1},hw,cw),dw=t=>uw({...t,d:t.d-1},hw,cw);var vw="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),yw=new Uint8Array(16);function gw(){if(!vw)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vw(yw)}var mw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function bw(t){return"string"==typeof t&&mw.test(t)}for(var ww=[],Iw=0;Iw<256;++Iw)ww.push((Iw+256).toString(16).substr(1));function Ew(t,e,n){var r=(t=t||{}).random||(t.rng||gw)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ww[t[e+0]]+ww[t[e+1]]+ww[t[e+2]]+ww[t[e+3]]+"-"+ww[t[e+4]]+ww[t[e+5]]+"-"+ww[t[e+6]]+ww[t[e+7]]+"-"+ww[t[e+8]]+ww[t[e+9]]+"-"+ww[t[e+10]]+ww[t[e+11]]+ww[t[e+12]]+ww[t[e+13]]+ww[t[e+14]]+ww[t[e+15]]).toLowerCase();if(!bw(n))throw TypeError("Stringified UUID is invalid");return n}(r)}const Tw=()=>Ew(),_w=t=>({toFirestore:e=>({uid:t,name:e.name,type:e.type,isDeleted:!1}),fromFirestore(t,e){const n=t.data(e);return{id:t.id,name:n.name,type:n.type}}}),Aw={async get(){const t=await iw();if(void 0===t)return[];return(await ew.collection("tasks").where("uid","==",t.id).where("isDeleted","==",!1).withConverter(_w(t.id)).get()).docs.map((t=>t.data()))},async add(t){const e=await iw();if(void 0===e)return[];const n=void 0===t.id||""===t.id?{...t,id:Tw()}:t,r=await ew.collection("tasks").withConverter(_w(e.id)).doc(n.id);return void 0===t.id||""===t.id?r.set(n):r.update(n),Aw.get()},async remove(t){const e=await iw();return void 0===e?[]:(""===t||await ew.collection("tasks").withConverter(_w(e.id)).doc(t).update({isDeleted:!0}),Aw.get())}};var Sw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",storage:Aw});const Nw=aw,kw=Nw.getUser,Ow=Nw.login,Dw=Nw.logout,Rw=Sw.storage,xw=t=>({toFirestore:e=>({uid:t,id:e.id,date:e.date,task:e.task,value:e.value}),fromFirestore(t,e){const n=t.data(e);return{id:t.id,date:n.date,task:n.task,value:n.value}}}),Pw={async get(){const t=await iw();if(void 0===t)return[];return(await ew.collection("taskLogs").where("uid","==",t.id).withConverter(xw(t.id)).get()).docs.map((t=>t.data()))},async save(t){const e=await iw();if(void 0===e)return[];const n=void 0===t.id||""===t.id?{...t,id:Tw()}:t,r=await ew.collection("taskLogs").withConverter(xw(e.id)).doc(n.id);return void 0===t.id||""===t.id?r.set(n):r.update(n),Pw.get()}};const Cw=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",storage:Pw}).storage,Lw=Symbol.for("TaskStorage"),Mw=Symbol.for("TaskLogStorage"),Uw=Yt([]),jw=(t,e)=>async n=>{""!==n&&(e.value=await t.add({id:"",name:n,type:"Check"}))},Vw=(t,e)=>async n=>{""!==n&&(e.value=await t.remove(n))},Fw=t=>(t.get().then((t=>Uw.value=t)),{removeTask:Vw(t,Uw),addNewTask:jw(t,Uw),tasks:Bt(Uw)}),qw=Yt([]),Bw=(t,e,n)=>({taskLogs:Dr((()=>((t,e,n)=>uw(n,(t=>t.filter((({date:t})=>{return(n=t,t=>n.d===t.d&&n.m===t.m&&n.y===t.y)(e);var n}))),((t,e)=>n=>e.reduce(((e,r)=>{const i=n.find((({task:t})=>t.name===r.name));return void 0===i?[...e,{id:void 0,date:t,task:{...r},value:!1}]:[...e,i]}),[]))(e,t)))(e.value,n.value,qw.value))),async updateLog(e){qw.value=await t.save(e)},refresh:async()=>qw.value=await t.get()});var Gw=Rr({props:{active:{type:Boolean,required:!0,default:!1}},emits:{"update:active":null},setup:(t,{emit:e})=>({toggle(){e("update:active",!t.active)}})});const zw=We("data-v-3f0a3118");He("data-v-3f0a3118");const Hw={class:"switch-button-control"},Kw=er("div",{class:"button"},null,-1),Ww={class:"switch-button-label"};Ke();const Xw=zw(((t,e,n,r,i,o)=>(Wn(),$n("div",Hw,[er("div",{class:["switch-button",{enabled:t.active}],onClick:e[1]||(e[1]=(...e)=>t.toggle(...e))},[Kw],2),er("div",Ww,[qe(t.$slots,"default")])]))));Gw.render=Xw,Gw.__scopeId="data-v-3f0a3118";var $w=Rr({components:{TSwitch:Gw},props:{date:{type:Object,default:()=>cw(new Date),required:!0}},setup(t){const e=cr(Mw),n=cr(Lw);if(void 0===e||void 0===n)throw new Error("inject fail");const r=cr(ci),{tasks:i}=Fw(n),o=Dr((()=>uw(t.date,fw))),{taskLogs:s,updateLog:a,refresh:u}=Bw(e,i,Dr((()=>t.date)));sn(u);const c=t=>`/log/${t.y}-${t.m}-${t.d}`,h=e=>()=>uw(t.date,e,c,r.push);return{tasks:i,dateString:o,prevDate:h(dw),nextDate:h(pw),taskLogs:s,updateLog:a}}});$w.render=function(t,e,n,r,i,o){const s=jn("t-switch");return Wn(),$n("div",null,[er("div",{textContent:u(t.dateString)},null,8,["textContent"]),er("button",{onClick:e[1]||(e[1]=(...e)=>t.prevDate(...e))},"prev"),er("button",{onClick:e[2]||(e[2]=(...e)=>t.nextDate(...e))},"next"),er("ul",null,[(Wn(!0),$n(qn,null,Pr(t.taskLogs,(e=>(Wn(),$n("li",{key:e.task.name},[er(s,{active:e.value,"onUpdate:active":n=>t.updateLog({...e,value:!e.value})},{default:Be((()=>[er("span",null,u(e.task.name),1)])),_:2},1032,["active","onUpdate:active"])])))),128))])])};var Yw=Rr({setup(){const t=cr(Lw);if(void 0===t)throw new Error("injection fail");const e=Yt(""),{tasks:n,addNewTask:r,removeTask:i}=Fw(t);return{addNewTask:t=>{r(t),e.value=""},removeTask:i,newTask:e,tasks:n}}});const Jw=er("h2",null,"Task setting",-1);Yw.render=function(t,e,n,r,i,o){return Wn(),$n("div",null,[Jw,Sn(er("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.newTask=e),type:"text"},null,512),[[ni,t.newTask]]),er("button",{onClick:e[2]||(e[2]=e=>t.addNewTask(t.newTask))},"add"),(Wn(!0),$n(qn,null,Pr(t.tasks,(e=>(Wn(),$n("div",{key:e.name},[er("span",{style:{"margin-right":"1em"},textContent:u(e.name)},null,8,["textContent"]),er("button",{onClick:n=>t.removeTask(e.id||"")},"",8,["onClick"])])))),128))])};const Qw=[{path:"/",component:$w,props:{date:cw(new Date)}},{path:"/log/:day",component:$w,props:t=>({date:"string"==typeof t.params.day?lw(t.params.day):cw(new Date)})},{path:"/task",component:Yw}],Zw=Yt(void 0);kw().then((t=>Zw.value=t)).catch((()=>console.log("not login")));var tI=Rr({name:"App",setup(){ur(Lw,Rw),ur(Mw,Cw);const{isLogin:t,logout:e,login:n,user:r}={user:Bt(Zw),isLogin:Dr((()=>void 0!==Zw.value)),login:async()=>{try{Zw.value=await Ow(),console.log(Zw.value)}catch(t){console.log(t)}},logout:async()=>{await Dw(),Zw.value=void 0}};return{logout:e,isLogin:t,login:n,user:r}}});const eI=er("h1",null,"Task log",-1),nI=er("hr",null,null,-1),rI=rr("Task"),iI=rr(" | "),oI=rr("Home"),sI=rr(" | "),aI=rr(" | "),uI=er("hr",null,null,-1);tI.render=function(t,e,n,r,i,o){const s=jn("router-link"),a=jn("router-view");return Wn(),$n("div",null,[eI,nI,er(s,{to:"/task"},{default:Be((()=>[rI])),_:1}),iI,er(s,{to:"/"},{default:Be((()=>[oI])),_:1}),t.isLogin?(Wn(),$n(qn,{key:0},[sI,er("button",{onClick:e[1]||(e[1]=(...e)=>t.logout(...e))},"Logout"),aI,er("span",null,"[User: "+u(void 0===t.user?"":t.user.name)+"]",1)],64)):ir("",!0),uI,t.isLogin?(Wn(),$n(a,{key:1})):(Wn(),$n("button",{key:2,onClick:e[2]||(e[2]=(...e)=>t.login(...e))},"Login"))])};const cI=function(t){const e=Ji(t.routes,t);let n=t.parseQuery||Io,r=t.stringifyQuery||Eo,i=t.history;const o=_o(),s=_o(),a=_o(),u=Qt(ji,!0);let c=ji;li&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=pi.bind(null,(t=>""+t)),l=pi.bind(null,bo),f=pi.bind(null,wo);function p(t,o){if(o=fi({},o||u.value),"string"==typeof t){let r=yi(n,t,o.path),s=e.resolve({path:r.path},o),a=i.createHref(r.fullPath);return fi(r,s,{params:f(s.params),hash:wo(r.hash),redirectedFrom:void 0,href:a})}let s;"path"in t?s=fi({},t,{path:yi(n,t.path,o.path).path}):(s=fi({},t,{params:l(t.params)}),o.params=l(o.params));let a=e.resolve(s,o);const c=t.hash||"";a.params=h(f(a.params));const p=function(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,fi({},t,{hash:(d=c,go(d).replace(fo,"{").replace(vo,"}").replace(ho,"^")),path:a.path}));var d;let v=i.createHref(p);return fi({fullPath:p,hash:c,query:r===Eo?To(t.query):t.query},a,{redirectedFrom:void 0,href:v})}function d(t){return"string"==typeof t?{path:t}:fi({},t)}function v(t,e){if(c!==t)return Bi(8,{from:e,to:t})}function y(t){return m(t)}function g(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r=d("function"==typeof n?n(t):n);return fi({query:t.query,hash:t.hash,params:t.params},r)}}function m(t,e){const n=c=p(t),i=u.value,o=t.state,s=t.force,a=!0===t.replace,h=g(n);if(h)return m(fi(h,{state:o,force:s,replace:a}),e||n);const l=n;let f;return l.redirectedFrom=e,!s&&function(t,e,n){let r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&mi(e.matched[r],n.matched[i])&&bi(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,i,n)&&(f=Bi(16,{to:l,from:i}),D(i,i,!0,!1)),(f?Promise.resolve(f):w(l,i)).catch((t=>Gi(t)?t:k(t))).then((t=>{if(t){if(Gi(t,2))return m(fi(d(t.to),{state:o,force:s,replace:a}),e||l)}else t=E(l,i,!0,a,o);return I(l,i,t),t}))}function b(t,e){const n=v(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t,e){let n;const[r,i,a]=function(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.indexOf(o)<0?n.push(o):r.push(o));const a=t.matched[s];a&&e.matched.indexOf(a)<0&&i.push(a)}return[n,r,i]}(t,e);n=So(r.reverse(),"beforeRouteLeave",t,e);for(const i of r)i.leaveGuards.forEach((r=>{n.push(Ao(r,t,e))}));const u=b.bind(null,t,e);return n.push(u),Bo(n).then((()=>{n=[];for(const r of o.list())n.push(Ao(r,t,e));return n.push(u),Bo(n)})).then((()=>{n=So(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(Ao(r,t,e))}));return n.push(u),Bo(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&e.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Ao(i,t,e));else n.push(Ao(r.beforeEnter,t,e));return n.push(u),Bo(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=So(a,"beforeRouteEnter",t,e),n.push(u),Bo(n)))).then((()=>{n=[];for(const r of s.list())n.push(Ao(r,t,e));return n.push(u),Bo(n)})).catch((t=>Gi(t,8)?t:Promise.reject(t)))}function I(t,e,n){for(const r of a.list())r(t,e,n)}function E(t,e,n,r,o){const s=v(t,e);if(s)return s;const a=e===ji,c=li?history.state:{};n&&(r||a?i.replace(t.fullPath,fi({scroll:a&&c&&c.scroll},o)):i.push(t.fullPath,o)),u.value=t,D(t,e,n,a),O()}let T;function _(){T=i.listen(((t,e,n)=>{let r=p(t);const o=g(r);if(o)return void m(fi(o,{replace:!0}),r).catch(di);c=r;const s=u.value;var a,h;li&&(a=Ri(s.fullPath,n.delta),h=Oi(),xi.set(a,h)),w(r,s).catch((t=>Gi(t,12)?t:Gi(t,2)?(n.delta&&i.go(-n.delta,!1),m(t.to,r).catch(di),Promise.reject()):(n.delta&&i.go(-n.delta,!1),k(t)))).then((t=>{(t=t||E(r,s,!1))&&n.delta&&i.go(-n.delta,!1),I(r,s,t)})).catch(di)}))}let A,S=_o(),N=_o();function k(t){return O(t),N.list().forEach((e=>e(t))),Promise.reject(t)}function O(t){A||(A=!0,_(),S.list().forEach((([e,n])=>t?n(t):e())),S.reset())}function D(e,n,r,i){const{scrollBehavior:o}=t;if(!li||!o)return Promise.resolve();let s=!r&&function(t){const e=xi.get(t);return xi.delete(t),e}(Ri(e.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return we().then((()=>o(e,n,s))).then((t=>t&&Di(t))).catch(k)}const R=t=>i.go(t);let x;const P=new Set;return{currentRoute:u,addRoute:function(t,n){let r,i;return Ui(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)},removeRoute:function(t){let n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:p,options:t,push:y,replace:function(t){return y(fi(d(t),{replace:!0}))},go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:N.add,isReady:function(){return A&&u.value!==ji?Promise.resolve():new Promise(((t,e)=>{S.add([t,e])}))},install(t){t.component("RouterLink",ko),t.component("RouterView",Ro),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{get:()=>Zt(u)}),li&&!x&&u.value===ji&&(x=!0,y(i.location).catch((t=>{})));const e={};for(let t in ji)e[t]=Dr((()=>u.value[t]));t.provide(ci,this),t.provide(hi,qt(e));let n=t.unmount;P.add(t),t.unmount=function(){P.delete(t),P.size<1&&(T(),u.value=ji,x=!1,A=!1),n.call(this,arguments)}}}}({history:((hI=location.host?hI||location.pathname:"").indexOf("#")<0&&(hI+="#"),Mi(hI)),routes:Qw});var hI;const lI=((...t)=>{const e=(ii||(ii=Cn(ri))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(A(t)){return document.querySelector(t)}return t}(t);if(!r)return;const i=e._component;_(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r);return r.removeAttribute("v-cloak"),r.setAttribute("data-v-app",""),o},e})(tI);lI.use(cI),lI.mount("#app");
